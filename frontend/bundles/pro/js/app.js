(function(){"use strict";var e={1859:function(e,t,l){l.d(t,{b:function(){return Ld},E:function(){return Rd}});var a=l(9242),r=l(3396),o=l(7139),n=l(4870),s=l(65),i=l(678),u=l(2748);const d=e=>((0,r.dD)("data-v-f7f4a098"),e=e(),(0,r.Cn)(),e),p={id:"qp-header-menu-player"},c=["textContent"],m=["textContent"],w=["textContent"],f=["textContent"],v=d((()=>(0,r._)("br",null,null,-1))),g=["textContent"],_=d((()=>(0,r._)("hr",null,null,-1))),h=["textContent"],y=["textContent"],b=["textContent"],x=d((()=>(0,r._)("hr",null,null,-1))),C=["textContent"],W=["textContent"],$=d((()=>(0,r._)("hr",null,null,-1))),q=["textContent"];var k={__name:"qpHeaderNavPlayer",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-icon"),i=(0,r.up)("el-menu-item"),u=(0,r.up)("el-menu"),d=(0,r.up)("el-badge"),k=(0,r.up)("el-sub-menu");return(0,r.wg)(),(0,r.iD)("div",p,[(0,n.SU)(l)?((0,r.wg)(),(0,r.j4)(u,{key:1,router:"",mode:"horizontal","menu-trigger":"click","default-active":e.$route&&e.$route.name?e.$route.name:null},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{disabled:"",index:"notifications"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{hidden:!0,"is-dot":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-bell-outline"})])),_:1})])),_:1}),(0,r.Wm)(i,{disabled:"",index:"messages"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{hidden:!0,value:123,max:99},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-email-outline"})])),_:1})])),_:1}),(0,r.Wm)(k,{index:"1"},{title:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(a)?.playername)},null,8,w)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,{index:"MeProfile",route:{name:"MeProfile"},disabled:e.$route.name&&"MeProfile"==e.$route.name,class:"qp-multiline"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("SignedInAs"))},null,8,f),v,(0,r._)("strong",{textContent:(0,o.zw)((0,n.SU)(a)?.playername)},null,8,g)])),_:1},8,["disabled"]),_,(0,r.Wm)(i,{index:"MeProfile",route:{name:"MeProfile"},disabled:e.$route.name&&"MeProfile"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourProfile"))},null,8,h)])),_:1},8,["disabled"]),(0,r.Wm)(i,{index:"MeCharacters",route:{name:"MeCharacters"},disabled:e.$route.name&&"MeCharacters"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourCharacters"))},null,8,y)])),_:1},8,["disabled"]),(0,r.Wm)(i,{index:"MeWorlds",route:{name:"MeWorlds"},disabled:e.$route.name&&"MeWorlds"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourWorlds"))},null,8,b)])),_:1},8,["disabled"]),x,(0,r.Wm)(i,{disabled:"",index:"help"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Help"))},null,8,C)])),_:1}),(0,r.Wm)(i,{disabled:"",index:"settings"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Settings"))},null,8,W)])),_:1}),$,(0,r.Wm)(i,{index:"AuthLogout",route:{name:"AuthLogout"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Logout"))},null,8,q)])),_:1})])),_:1})])),_:1},8,["default-active"])):((0,r.wg)(),(0,r.j4)(u,{key:0,router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{index:"AuthLogin",route:{name:"AuthLogin"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-power"}),(0,r._)("span",{textContent:(0,o.zw)(e.$t("Login"))},null,8,c)])),_:1}),(0,r.Wm)(i,{index:"AuthRegister",route:{name:"AuthRegister"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-login-variant"}),(0,r._)("span",{textContent:(0,o.zw)(e.$t("Register"))},null,8,m)])),_:1})])),_:1}))])}}},z=l(89);const S=(0,z.Z)(k,[["__scopeId","data-v-f7f4a098"]]);var A=S;const j=e=>((0,r.dD)("data-v-3c031d24"),e=e(),(0,r.Cn)(),e),T={id:"qp-app-header"},D={id:"qp-header-logo-img"},H=j((()=>(0,r._)("div",{class:"image-slot"},null,-1))),V={id:"qp-header-logo-title"},U=["textContent"],E={id:"qp-header-menu-app"},O=["textContent"],F=["textContent"];var M={__name:"qpHeader",setup(e){const t=(0,i.yj)(),a=(0,i.tv)(),d=(0,s.oR)(),p=(0,r.Fl)((()=>d.getters.app)),c=(0,n.iH)(l(4465)),m=()=>{"Home"==t.name?a.go(t.fullPath):a.push({name:"Home"})},w=()=>{d.commit("TOGGLE_SIDEBAR")};return(e,t)=>{const l=(0,r.up)("el-image"),a=(0,r.up)("el-icon"),s=(0,r.up)("el-menu-item"),i=(0,r.up)("el-menu"),d=(0,r.up)("el-col"),f=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",T,[(0,r.Wm)(f,{gutter:20,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{span:10,class:"text-left"},{default:(0,r.w5)((()=>[(0,r._)("div",{id:"qp-header-logo",onClick:t[0]||(t[0]=e=>m())},[(0,r._)("div",D,[(0,r.Wm)(l,{src:c.value,fit:"cover"},{error:(0,r.w5)((()=>[H])),_:1},8,["src"])]),(0,r._)("div",V,[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Rd).shortname)},null,8,U)])]),(0,n.SU)(p).win.w>=1200?((0,r.wg)(),(0,r.iD)("div",{key:0,id:"qp-header-toggle-sidebar",onClick:t[1]||(t[1]=e=>w())},[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,n.SU)(p).sidebar.collapse?((0,r.wg)(),(0,r.j4)((0,n.SU)(u.M0b),{key:0})):((0,r.wg)(),(0,r.j4)((0,n.SU)(u.qFw),{key:1}))])),_:1})])):(0,r.kq)("",!0),(0,r._)("div",E,[(0,r.Wm)(i,{router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:"",index:"discover"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Discover"))},null,8,O)])),_:1}),(0,r.Wm)(s,{disabled:"",index:"browse"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Browse"))},null,8,F)])),_:1})])),_:1})])])),_:1}),(0,r.Wm)(d,{span:14,class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Wm)(A)])),_:1})])),_:1})])}}};const N=(0,z.Z)(M,[["__scopeId","data-v-3c031d24"]]);var R=N;const L=e=>((0,r.dD)("data-v-2e508a8a"),e=e(),(0,r.Cn)(),e),P={id:"qp-sidebar-profile"},Z={id:"qp-sidebar-banner"},I=L((()=>(0,r._)("div",{class:"image-slot"},null,-1))),Y={id:"qp-sidebar-avatar"},B={id:"qp-sidebar-name"},G=["textContent"],J={key:0,id:"qp-sidebar-title"},K=["textContent"];var Q={__name:"qpSidebarProfile",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,r.Fl)((()=>t.getters.player)),i=(0,n.iH)("Qui ne fait que passer");return(e,t)=>{const s=(0,r.up)("el-image"),d=(0,r.up)("el-icon"),p=(0,r.up)("el-avatar");return(0,r.wg)(),(0,r.iD)("div",P,[(0,r._)("div",Z,[(0,r.Wm)(s,{src:(0,n.SU)(a)?.banner,fit:"cover"},{error:(0,r.w5)((()=>[I])),_:1},8,["src"])]),(0,r._)("div",Y,[(0,r.Wm)(p,{src:(0,n.SU)(a)?.avatar},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(u.n5m))])),_:1})])),_:1},8,["src"])]),(0,r._)("div",B,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(a)?.playername)},null,8,G)])]),(0,n.SU)(l)?((0,r.wg)(),(0,r.iD)("div",J,[(0,r._)("p",null,[(0,r._)("span",{textContent:(0,o.zw)(i.value)},null,8,K)])])):(0,r.kq)("",!0)])}}};const X=(0,z.Z)(Q,[["__scopeId","data-v-2e508a8a"]]);var ee=X;const te=e=>((0,r.dD)("data-v-bef58284"),e=e(),(0,r.Cn)(),e),le={id:"qp-sidebar-nav"},ae=te((()=>(0,r._)("i",{class:"mdi mdi-home"},null,-1))),re=["textContent"],oe=te((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),ne=["textContent"],se=te((()=>(0,r._)("i",{class:"mdi mdi-scale-balance"},null,-1))),ie=["textContent"],ue=te((()=>(0,r._)("i",{class:"mdi mdi-script-text"},null,-1))),de=["textContent"],pe=te((()=>(0,r._)("i",{class:"mdi mdi-forum-outline"},null,-1))),ce=["textContent"],me=te((()=>(0,r._)("i",{class:"mdi mdi-account-group"},null,-1))),we=["textContent"],fe=te((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),ve=["textContent"];var ge={__name:"qpSidebarNav",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app)),a=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-menu-item"),i=(0,r.up)("el-sub-menu"),u=(0,r.up)("el-menu");return(0,r.wg)(),(0,r.iD)("div",le,[(0,r.Wm)(u,{router:"","default-active":e.$route&&e.$route.params&&"slug"in e.$route.params?e.$route.params.slug:e.$route.name,collapse:(0,n.SU)(l).win.w<1200||(0,n.SU)(l).sidebar?.collapse},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{index:"Home",route:{name:"Home"}},{default:(0,r.w5)((()=>[ae,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Home"))},null,8,re)])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,n.SU)(a)?.worldnavs,((t,l)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[e.$route.params.slug&&e.$route.params.slug==t.slug?((0,r.wg)(),(0,r.j4)(i,{key:`world-nav-group-${l}`,index:t.slug},{title:(0,r.w5)((()=>[oe,(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,ne)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:"",index:`${t.slug}-rules`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[se,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Rules"))},null,8,ie)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-context`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ue,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Context"))},null,8,de)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[pe,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Forum"))},null,8,ce)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-community`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[me,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Community"))},null,8,we)])),_:2},1032,["index","route"])])),_:2},1032,["index"])):((0,r.wg)(),(0,r.j4)(s,{key:`world-nav-${l}`,index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[fe,(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,ve)])),_:2},1032,["index","route"]))],64)))),256))])),_:1},8,["default-active","collapse"])])}}};const _e=(0,z.Z)(ge,[["__scopeId","data-v-bef58284"]]);var he=_e;const ye={id:"qp-sibebar-inner"},be={id:"qp-sibebar-main"},xe={id:"qp-sidebar-footer"},Ce=["innerHTML"];var We={__name:"qpSidebar",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app));return(e,t)=>{const a=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",{id:"qp-app-sidebar",class:(0,o.C_)((0,n.SU)(l).win.w<1200||(0,n.SU)(l).sidebar?.collapse?"qp-collapsed":"")},[(0,r.Wm)(a,{height:"100%"},{default:(0,r.w5)((()=>[(0,r._)("div",ye,[(0,r._)("div",be,[(0,r.Wm)(ee),(0,r.Wm)(he)]),(0,r._)("div",xe,[(0,r._)("span",{innerHTML:e.$t("TextCopyrights")},null,8,Ce)])])])),_:1})],2)}}};const $e=(0,z.Z)(We,[["__scopeId","data-v-73e61904"]]);var qe=$e;const ke={key:0,id:"qp-app-smallbar"},ze={key:0,id:"qp-smallbar-inner"},Se=["onClick"],Ae=["textContent"];var je={__name:"qpSmallbar",setup(e){const t=(0,i.yj)(),l=(0,i.tv)(),a=(0,s.oR)(),u=(0,r.Fl)((()=>a.getters.app)),d=(0,r.Fl)((()=>a.getters.rat)),p=(0,r.Fl)((()=>a.getters.heros)),c=(0,r.Fl)((()=>"slug"in t.params?p.value.filter((e=>e.world?.slug==t.params.slug)):p.value)),m=e=>{l.push({name:"MeCharactersHerosDetail",params:{pk:e}})};return(e,t)=>{const l=(0,r.up)("el-avatar"),a=(0,r.up)("el-tooltip"),s=(0,r.up)("el-scrollbar");return(0,n.SU)(u).win.w>767?((0,r.wg)(),(0,r.iD)("div",ke,[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[(0,n.SU)(d)?((0,r.wg)(),(0,r.iD)("div",ze,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,n.SU)(c),((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:`hero-${t}`,class:"qp-smallbar-hero",onClick:t=>m(e.id)},[(0,r.Wm)(a,{content:e.name,placement:"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.initials)},null,8,Ae)])),_:2},1032,["src"])])),_:2},1032,["content"])],8,Se)))),128))])):(0,r.kq)("",!0)])),_:1})])):(0,r.kq)("",!0)}}};const Te=(0,z.Z)(je,[["__scopeId","data-v-463e5392"]]);var De=Te;const He={id:"qp-app"};var Ve={__name:"App",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat));return(e,t)=>{const a=(0,r.up)("router-view"),s=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",He,[e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(R,{key:0})),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(qe,{key:1})),(0,r._)("div",{id:"qp-app-main",class:(0,o.C_)(`${(0,n.SU)(l)?"":" qp-nosmallbar"}${e.$route.name&&e.$route.name.startsWith("Auth")?" qp-fullview":""}`)},[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)(a,{key:e.$route.fullPath}))])),_:1})],2),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(De,{key:2}))])}}};const Ue=Ve;var Ee=Ue,Oe=l(3590),Fe=JSON.parse('{"150x150pxSizeMinimum":"Taille minimale : 150x150","A player with that playername already exists.":"Un joueur avec ce nom existe déjà.","A user with that email already exists.":"Un joueur avec cette adresse courriel existe déjà.","A user with that username already exists.":"Un joueur avec ce nom existe déjà.","AddANewZone":"Ajouter une nouvelle zone","AllRightsReserved":"Tous droits réservés","AlreadyHaveAnAccount":"Déjà inscrit ?","AnErrorOccurred":"Une erreur est survenue","Areyousureyouwanttodeletethismessage":"Êtes-vous certain de vouloir supprimer définitivement ce message ? Cette action est irréversible.","Areyousureyouwanttodeletethiszone":"Êtes-vous certain de vouloir supprimer définitivement cette zone et tout son contenu ? Cette action est irréversible.","Areyousureyouwanttodeletethisterritory":"Êtes-vous certain de vouloir supprimer définitivement ce territoire et tout son contenu ? Cette action est irréversible.","Areyousureyouwanttodeletethissector":"Êtes-vous certain de vouloir supprimer définitivement ce secteur et tout son contenu ? Cette action est irréversible","DeleteSector":"Supprimer le secteur","AShortDescription":"Une description courte","BackToHome":"Retour à l\'accueil","Browse":"Parcourir","DeleteTerritory":"Supprimer le territoire","TerritoryDeletedSuccessfully":"Territoire supprimé avec succès !","TerritoryUpdatedSuccessfully":"Territoire mis à jour avec succès !","SectorAddedSuccessfully":"Secteur ajouté avec succès !","Cancel":"Annuler","Ce champ est obligatoire.":"Ce champ est obligatoire.","NoZones":"Aucune zone","NoTerritories":"Aucun territoire","NoSectors":"Aucun secteur","ChangeAvatar":"Modifier l\'avatar","Chapter":"Chapitre | Chapitre | Chapitres","Character":"Personnage | Personnage | Personnages","CharacterUpdatedSuccessfully":"Personnage mis à jour avec succès !","SectorDeletedSuccessfully":"Secteur supprimé avec succès !","ChooseACharacter":"Choisir un personnage","ChooseTravellers":"Choisir les voyageurs","Colour":"Couleur","ChangeBanner":"Modifier la bannière","1200x250pxSizeRecommended":"Dimension recommandée : 1200x250","Width":"Largeur","CardWidth":"Largeur de la carte","Closed":"Fermé","ColoursAndCustomStylesheet":"Couleurs et feuilles de style personnalisée","Community":"Communauté","Confirm":"Confirmer","Fullwide":"Pleine largeur","Context":"Contexte","SectorUpdatedSuccessfully":"Secteur mis à jour avec succès !","Continue":"Continuer","EditATerritory":"Modifier un territoire","TerritoryAddedSuccessfully":"Territoire ajouté avec succès !","EditASector":"Modifier un secteur","Ordering":"Ordre","NameOfTheTerritory":"Nom du territoire","CreateWorld":"Créer un monde","AddANewTerritory":"Ajouter un nouveau territoire","AddANewSector":"Ajouter un nouveau secteur","Delete":"Supprimer","DeleteChapter":"Supprimer le chapitre","DeleteMessage":"Supprimer le message","DeleteZone":"Supprimer la zone","Description":"Description","Descriptionofthenewchapter":"Courte description facultative","Discover":"Découvrir","DontHaveAnAccount":"Pas encore inscrit ?","Edit":"Modifier","EditAZone":"Modifier une zone","EditMessage":"Modifier le message","email":"Courriel","Email":"Courriel","Enter a valid email address.":"Saisissez une adresse courriel valide.","Error":"Erreur","errorcharacter":"Personnage","errorname":"Nom","errortext":"Texte","FileFormatMustBeJPG":"Le fichier doit être au format JPG","FileSizeCanNotExceed1MB":"La taille du fichier ne doit pas excéder 1MB","First Name":"Prénom","Forum":"Forum","Gender":"Genre","General":"Général","GeneralInformations":"Informations générales","Help":"Aide","Home":"Accueil","Index":"Index","Last Name":"Nom de famille","LockChapter":"Verrouiller le chapitre","Login":"Connexion","Logout":"Déconnexion","Message":"Message | Message | Messages","MessageDeletedSuccessfully":"Message supprimé avec succès !","Middle Name":"Autre(s) nom(s)","Name":"Nom","NameAvatarGenderAndMore":"Nom, avatar, genre et plus encore","NameDescriptionVisibilityAndMore":"Nom, description, visibilité et plus encore","NameOfTheWorld":"Nom du monde","NameOfTheZone":"Nom de la zone","Never":"Jamais","NewChapter":"Nouveau chapitre","NewChapterTitle":"Titre du nouveau chapitre","NoAvailableTravellers":"Aucun voyageur disponible","NoCharacterCreated":"Aucun personnage créé","non_field_errors":"Erreur","NoWorldCreated":"Aucun monde créé","Open":"Ouvert","password":"Mot de passe","Password":"Mot de passe","Player":"Joueur | Joueur | Joueurs","Playername":"Nom de joueur","playername":"Nom de joueur","Profile":"Profil","Quests":"Quêtes","Register":"Inscription","Reset":"Réinitialiser","Rules":"Règlements","Saisissez une adresse e-mail valide.":"Saisissez une adresse courriel valide.","Sector":"Secteur | Secteur | Secteurs","SeeAllQuests":"Voir toutes les quêtes","Send":"Envoyer","Settings":"Paramètres","ShowProfile":"Voir le profil","SignedInAs":"Connecté en tant que","Slug":"Slug","Style":"Style","Stylesheets":"Feuilles de style","Success":"Succès","Text":"Texte","TextCopyrights":"&copy;&nbsp;2022 M-C Pronovost","That password is too short.":"Ce mot de passe est trop court.","ThisChapterDoesntExistAnymore":"Ce chapitre n\'existe pas ou plus","Thisfieldisrequired":"Ce champ est requis.","ThisForumDoesntExistAnymore":"Ce forum n\'existe pas ou plus","ThisPageDoesntExistAnymore":"Cette page n\'existe pas ou plus","ThisSectorDoesntExistAnymore":"Ce secteur n\'existe pas ou plus","ThisTerritoryDoesntExistAnymore":"Ce territoire n\'existe pas ou plus","ThisWorldDoesntExistAnymore":"Ce monde n\'existe pas ou plus","ThisZoneDoesntExistAnymore":"Cette zone n\'existe pas ou plus","Title":"Titre","Titleofthenewchapter":"Titre du nouveau chapitre","ToReply":"Répondre","Travel":"Voyager","TravelCompleted":"Voyage complété","UnderDevelopment":"En développement","UnlockChapter":"Déverrouiller le chapitre","username":"Nom d\'utilisateur","Username":"Nom d\'utilisateur","Visibility":"Visibilité","WorldUpdatedSuccessfully":"Monde mis à jour avec succès !","Writing":"Rédaction","YouDoesntHaveAccessToThisChapter":"Vous n\'avez pas accès à ce chapitre","YouDoesntHaveAccessToThisForum":"Vous n\'avez pas accès à ce forum","YouDoesntHaveAccessToThisPage":"Vous n\'avez pas accès à cette page","YouDoesntHaveAccessToThisSector":"Vous n\'avez pas accès à ce secteur","YouDoesntHaveAccessToThisTerritory":"Vous n\'avez pas accès à ce territoire","YouDoesntHaveAccessToThisWorld":"Vous n\'avez pas accès à ce monde","YouDoesntHaveAccessToThisZone":"Vous n\'avez pas accès à cette zone","Youhavearrivedatyourdestination":"Vous êtes arrivé à destination","YourCharacters":"Vos personnages","YourEmailAddress":"Votre adresse de courriel","YourMessage":"Votre message","YourPersonalUsername":"Votre nom d\'utilisateur personnel","YourProfile":"Votre profil","YourPublicPlayername":"Votre nom de joueur public","YourReply":"Votre réponse","YourWorlds":"Vos mondes","ZoneAddedSuccessfully":"Zone ajoutée avec succès !","ZoneDeletedSuccessfully":"Zone supprimée avec succès !","ZonesTerritoriesSectorsAndSettings":"Zones, territoires, secteurs et paramètres","ZoneUpdatedSuccessfully":"Zone mise à jour avec succès !"}');const Me={short:{year:"numeric",month:"long",day:"2-digit"}},Ne={fr:Me},Re=(0,Oe.o)({locale:"fr",fallbackLocale:"fr",messages:{fr:Fe},dateTimeFormats:Ne,legacy:!1,globalInjection:!0,silentTranslationWarn:!0});var Le=Re,Pe=l(5361);const Ze=e=>({win:e.app.win,sidebar:e.app.sidebar}),Ie={state:()=>({win:{w:1880,h:980},sidebar:{collapse:!1}}),mutations:{SET_WINSIZES(e){e.win={w:window.innerWidth,h:window.innerHeight}},TOGGLE_SIDEBAR(e){e.sidebar.collapse=!e.sidebar.collapse}}},Ye=e=>{if(e.drat.s&&e.frat.e){let t=Pe.lW.from(e.drat.s,"base64").toString("utf8"),l=Pe.lW.from(e.frat.e,"base64").toString("utf8");return`Token ${t}${l}`}return null},Be={state:()=>({s:null}),mutations:{SET_DRAT(e,t){e.s=t?Pe.lW.from(t).toString("base64"):null}}},Ge={state:()=>({e:null}),mutations:{SET_FRAT(e,t){e.e=t?Pe.lW.from(t).toString("base64"):null}}},Je=e=>e.player.j?JSON.parse(Pe.lW.from(e.player.j,"base64").toString("utf8")):null,Ke=e=>e.player.h?JSON.parse(Pe.lW.from(e.player.h,"base64").toString("utf8")):[],Qe=e=>e.player.w?JSON.parse(Pe.lW.from(e.player.w,"base64").toString("utf8")):[],Xe={state:()=>({j:null,h:null,c:null,w:null}),mutations:{SET_PLAYER(e,t){if(t){let l=Pe.lW.from(e.j,"base64").toString("utf8");l=l?JSON.parse(l):{},l[t[0]]=t[1],e.j=Pe.lW.from(JSON.stringify(l)).toString("base64")}},BATCH_PLAYER(e,t){if(t){let l=e.j;l=l?JSON.parse(Pe.lW.from(l,"base64").toString("utf8")):{};let a=Object.entries(t);for(let e=0;e<a.length;e++)l[a[e][0]]=a[e][1];e.j=Pe.lW.from(JSON.stringify(l)).toString("base64")}else e.j=null},BATCH_HEROS(e,t){e.h=t?Pe.lW.from(JSON.stringify(t)).toString("base64"):null},BATCH_WORLDS(e,t){e.w=t?Pe.lW.from(JSON.stringify(t)).toString("base64"):null}},actions:{async getPlayer({commit:e,dispatch:t,getters:l}){if(l.rat){let a=await fetch(`${Ld}/me/`,{method:"GET",headers:{Authorization:l.rat}});if(200===a.status){let l=await a.json();e("BATCH_PLAYER",l),t("getHeros")}else 401===a.status&&t("doLogout")}},async getHeros({commit:e,dispatch:t,getters:l}){if(l.rat){let a=await fetch(`${Ld}/me/heros/`,{method:"GET",headers:{Authorization:l.rat}});if(200===a.status){let t=await a.json();e("BATCH_HEROS",t)}else 401===a.status&&t("doLogout")}},async doRegister({dispatch:e},{username:t,playername:l,email:a,password:r}){let o=new FormData;t&&o.append("username",t),l&&o.append("playername",l),a&&o.append("email",a),r&&o.append("password",r);let n=await fetch(`${Ld}/register/`,{method:"POST",body:o}),s=await n.json();return 200===n.status?e("doLogin",{username:t,password:r}):{valid:!1,data:s}},async doLogin({commit:e},{username:t,password:l}){let a=new FormData;a.append("username",t),a.append("password",l);let r=await fetch(`${Ld}/login/`,{method:"POST",body:a}),o=await r.json();if(200===r.status){let t=o.token,l=Math.ceil(t.length/2);return e("SET_DRAT",t.slice(0,l)),e("SET_FRAT",t.slice(l)),{valid:!0}}return{valid:!1,data:o}},async doLogout({commit:e,getters:t}){let l=await fetch(`${Ld}/logout/`,{method:"POST",headers:{Authorization:t.rat}});return e("BATCH_PLAYER",null),e("BATCH_HEROS",null),e("BATCH_WORLDS",null),e("SET_DRAT",null),e("SET_FRAT",null),l}}};var et=l(5103),tt=l(680);const lt=new et.ZP({key:"qpcynorrs",storage:window.localStorage,reducer:e=>({drat:e.drat,app:e.app})}),at=new et.ZP({key:"qpcynorrs",storage:window.sessionStorage,reducer:e=>({player:e.player})}),rt=new et.ZP({key:"qpcynorrs",restoreState:e=>{if(tt.Z.get(e))return JSON.parse(Pe.lW.from(tt.Z.get(e),"base64").toString("utf8"))},saveState:(e,t)=>{t&&tt.Z.set(e,Pe.lW.from(JSON.stringify(t)).toString("base64"),{expires:30})},modules:["frat"]}),ot=e=>{e.commit("SET_WINSIZES"),window.addEventListener("resize",(()=>{e.commit("SET_WINSIZES")}))},nt=(0,s.MT)({getters:{app:Ze,rat:Ye,player:Je,heros:Ke,worlds:Qe},modules:{app:Ie,drat:Be,frat:Ge,player:Xe},plugins:[lt.plugin,at.plugin,rt.plugin,ot]});var st=nt;const it={class:"qp-vue"};function ut(e,t){return(0,r.wg)(),(0,r.iD)("div",it," aaa ")}const dt={},pt=(0,z.Z)(dt,[["render",ut]]);var ct=pt;const mt={key:0,class:"qp-card-header"},wt={class:"qp-card-header-title"};var ft={__name:"qpCard",props:{clickable:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1},bgcolor:{type:String,default:"base"},h:{type:String,default:""},pa:{type:String,default:"20px"},mb:{type:String,default:""}},setup(e){const t=e,l=(0,r.Fl)((()=>t.clickable?"qp-card-clickable":"")),a=(0,r.Fl)((()=>t.overflow?"qp-card-overflow":"")),s=(0,r.Fl)((()=>"base"!=t.bgcolor?`qp-card-bg-${t.bgcolor}`:"")),i=(0,r.Fl)((()=>t.h?`height:${t.h};`:"")),u=(0,r.Fl)((()=>t.pa?`padding:${t.pa};`:"")),d=(0,r.Fl)((()=>t.mb?`margin-bottom:${t.mb};`:""));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,o.C_)(`qp-card ${(0,n.SU)(l)} ${(0,n.SU)(a)} ${(0,n.SU)(s)}`),style:(0,o.j5)(`${(0,n.SU)(i)}${(0,n.SU)(d)}`)},[e.$slots.header?((0,r.wg)(),(0,r.iD)("div",mt,[(0,r._)("div",wt,[(0,r.WI)(e.$slots,"header")])])):(0,r.kq)("",!0),(0,r._)("div",{class:"qp-card-main",style:(0,o.j5)(`${(0,n.SU)(u)}`)},[(0,r.WI)(e.$slots,"default")],4)],6))}};const vt=(0,z.Z)(ft,[["__scopeId","data-v-5cd20510"]]);var gt=vt;const _t={class:"qp-vue"},ht={class:"qp-container"},yt=(0,r._)("a",{href:"https://www.flaticon.com/free-icons/killer-whale",target:"_blank",title:"killer whale icons"},"Killer whale icons created by edt.im - Flaticon",-1);var bt={__name:"ErrorView",setup(e){return(e,t)=>{const l=(0,r.up)("el-result"),a=(0,r.up)("el-col"),o=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",_t,[(0,r._)("div",ht,[(0,r.Wm)(o,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{icon:"error",title:e.$t("Error"),"sub-title":"..."},null,8,["title","sub-title"])])),_:1})])),_:1}),(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[yt])),_:1})])),_:1})])),_:1})])])}}};const xt=bt;var Ct=xt;const Wt=e=>((0,r.dD)("data-v-6097077c"),e=e(),(0,r.Cn)(),e),$t={class:"qp-vue"},qt={key:0},kt={id:"qp-auth"},zt=Wt((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),St={id:"qp-auth-title"},At=["textContent"],jt=["innerHTML"],Tt=["textContent"],Dt=["textContent"],Ht=["textContent"],Vt=Wt((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),Ut={id:"qp-auth-title"},Et=["textContent"],Ot=["innerHTML"],Ft=["textContent"],Mt=["textContent"],Nt=["textContent"],Rt={"element-loading-background":"transparent",style:{width:"200px",height:"200px"}},Lt=["textContent"],Pt={key:1},Zt={class:"qp-container"},It={"element-loading-background":"transparent",style:{height:"60vh"}},Yt={key:2},Bt={id:"qp-auth"},Gt=["textContent"];var Jt={__name:"AuthView",setup(e){const{t:t}=Le.global,l=(0,i.yj)(),d=(0,i.tv)(),p=(0,s.oR)(),c=(0,r.Fl)((()=>p.getters.app)),m=(0,r.Fl)((()=>p.getters.rat)),w=(0,n.iH)(!0),f=(0,n.iH)(!1),v=(0,n.iH)(null),g=(0,n.iH)(null),_=(0,n.iH)(null);(0,r.bv)((()=>{m.value||"AuthRegister"!=l.name?m.value||"AuthLogin"!=l.name?"AuthLogout"==l.name?(_.value="logout",A()):v.value=t("AnErrorOccurred"):y():h(),w.value=!1}));const h=()=>{_.value="register",history.pushState(history.state,null,"/register")},y=()=>{_.value="login",history.pushState(history.state,null,"/login")},b=()=>{d.push({name:"Home"})},x=(0,n.iH)(),C=(0,n.qj)({username:"",playername:"",email:"",password:""}),W=async()=>{g.value=null,f.value=!0,await x.value.validate(((e,l)=>{if(e)$();else{for(let[e,a]of Object.entries(l)){let l=t(`${e}`);for(let e of a)g.value=`${l} : ${e.message}`}f.value=!1}}))},$=async()=>{g.value=null,f.value=!0;const e=await p.dispatch("doRegister",C);if(e.valid)d.push({name:"Home"});else{for(let[l,a]of Object.entries(e.data)){let e=t(`${l}`),r=t(`${a}`);g.value=`${e} : ${r}`}f.value=!1}},q=(0,n.iH)(),k=(0,n.qj)({username:"",password:""}),z=async()=>{g.value=null,f.value=!0,await q.value.validate(((e,l)=>{if(e)S();else{for(let[e,a]of Object.entries(l)){let l=t(`${e}`);for(let e of a)g.value=`${l} : ${e.message}`}f.value=!1}}))},S=async()=>{g.value=null,f.value=!0;const e=await p.dispatch("doLogin",k);if(e.valid)d.push({name:"Home"});else{for(let[l,a]of Object.entries(e.data)){let e=t(`${l}`),r=t(`${a}`);g.value=`${e} : ${r}`}f.value=!1}},A=async()=>{await p.dispatch("doLogout"),d.push({name:"Home"})};return(e,t)=>{const l=(0,r.up)("el-input"),s=(0,r.up)("el-form-item"),i=(0,r.up)("el-form"),d=(0,r.up)("el-col"),p=(0,r.up)("el-alert"),$=(0,r.up)("el-button"),S=(0,r.up)("el-link"),A=(0,r.up)("el-row"),j=(0,r.up)("el-scrollbar"),T=(0,r.up)("el-result"),D=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",$t,[w.value||v.value||!_.value?w.value?((0,r.wg)(),(0,r.iD)("div",Pt,[(0,r._)("div",Zt,[(0,r.wy)((0,r._)("div",It,null,512),[[D,w.value]])])])):((0,r.wg)(),(0,r.iD)("div",Yt,[(0,r._)("div",Bt,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{icon:"error",title:e.$t("Error"),"sub-title":v.value,style:{"padding-bottom":"24px"}},null,8,["title","sub-title"]),(0,r.Wm)($,{onClick:t[14]||(t[14]=e=>b()),style:{"margin-bottom":"40px"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("BackToHome"))},null,8,Gt)])),_:1})])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",qt,[(0,r._)("div",kt,[(0,n.SU)(m)||"register"!=_.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(gt,{key:0,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{"max-height":"90vh"},{default:(0,r.w5)((()=>[zt,(0,r._)("div",St,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Register"))},null,8,At)])]),(0,r.Wm)(A,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{ref_key:"formRegisterRef",ref:x,model:C,"label-position":(0,n.SU)(c).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:C.username,"onUpdate:modelValue":t[0]||(t[0]=e=>C.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,n.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Playername"),prop:"playername",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:C.playername,"onUpdate:modelValue":t[1]||(t[1]=e=>C.playername=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPublicPlayername"),"prefix-icon":(0,n.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Email"),prop:"email",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:C.email,"onUpdate:modelValue":t[2]||(t[2]=e=>C.email=e),type:"email",maxlength:"250",placeholder:e.$t("YourEmailAddress"),"prefix-icon":(0,n.SU)(u.v0C)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:C.password,"onUpdate:modelValue":t[3]||(t[3]=e=>C.password=e),type:"password",maxlength:"250","prefix-icon":(0,n.SU)(u.HEZ),onKeyup:t[4]||(t[4]=(0,a.D2)((e=>W()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),g.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:g.value},null,8,jt)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)($,{disabled:f.value,onClick:t[5]||(t[5]=e=>b())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Tt)])),_:1},8,["disabled"]),(0,r.Wm)($,{type:"primary",loading:f.value,onClick:t[6]||(t[6]=e=>W())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Dt)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:f.value,onClick:t[7]||(t[7]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AlreadyHaveAnAccount"))},null,8,Ht)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),(0,n.SU)(m)||"login"!=_.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(gt,{key:1,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{"max-height":"90vh"},{default:(0,r.w5)((()=>[Vt,(0,r._)("div",Ut,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Login"))},null,8,Et)])]),(0,r.Wm)(A,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{ref_key:"formLoginRef",ref:q,model:k,"label-position":(0,n.SU)(c).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:k.username,"onUpdate:modelValue":t[8]||(t[8]=e=>k.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,n.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:k.password,"onUpdate:modelValue":t[9]||(t[9]=e=>k.password=e),type:"password",maxlength:"250","prefix-icon":(0,n.SU)(u.HEZ),onKeyup:t[10]||(t[10]=(0,a.D2)((e=>z()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),g.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:g.value},null,8,Ot)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)($,{disabled:f.value,onClick:t[11]||(t[11]=e=>b())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Ft)])),_:1},8,["disabled"]),(0,r.Wm)($,{type:"primary",loading:f.value,onClick:t[12]||(t[12]=e=>z())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Mt)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:f.value,onClick:t[13]||(t[13]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("DontHaveAnAccount"))},null,8,Nt)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),"logout"==_.value?((0,r.wg)(),(0,r.j4)(gt,{key:2,h:"auto"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",Rt,null,512),[[D,!0]]),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Logout"))},null,8,Lt)])])),_:1})):(0,r.kq)("",!0)])]))])}}};const Kt=(0,z.Z)(Jt,[["__scopeId","data-v-6097077c"]]);var Qt=Kt;const Xt=[{path:"/register",name:"AuthRegister",component:Qt},{path:"/login",name:"AuthLogin",component:Qt},{path:"/logout",name:"AuthLogout",component:Qt}],el=e=>((0,r.dD)("data-v-ce8fe982"),e=e(),(0,r.Cn)(),e),tl={class:"qp-vue"},ll={key:0},al={class:"qp-container"},rl=["textContent"],ol={class:"qp-profile-header"},nl={class:"qp-profile-header-banner"},sl=el((()=>(0,r._)("div",{class:"image-slot"},null,-1))),il={class:"qp-profile-header-avatar"},ul=["textContent"],dl={class:"qp-profile-identity"},pl={class:"qp-profile-identity-name"},cl=["textContent"],ml={class:"qp-profile-identity-title"},wl=["textContent"],fl={key:1},vl={class:"qp-container"},gl={"element-loading-background":"transparent",style:{height:"60vh"}},_l={key:2},hl={class:"qp-container"};var yl={__name:"MeProfileView",setup(e){const{t:t}=Le.global,l=(0,i.tv)(),a=(0,s.oR)(),u=(0,r.Fl)((()=>a.getters.rat)),d=(0,n.iH)(!0),p=(0,n.iH)(null);(0,r.bv)((()=>{u.value?m():l.push({name:"AuthLogin"})}));const c=(0,n.qj)({avatar:null,banner:null,initials:""}),m=async()=>{d.value=!0,p.value=null;try{let e=await fetch(`${Ld}/me/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;c.avatar=t.avatar,c.banner=t.banner,c.playername=t.playername,c.title="Qui ne fait que passer"}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisPage"):p.value=t("AnErrorOccurred")}d.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-row"),s=(0,r.up)("el-image"),i=(0,r.up)("el-avatar"),m=(0,r.up)("el-result"),w=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",tl,[d.value||p.value||!(0,n.SU)(u)?d.value?((0,r.wg)(),(0,r.iD)("div",fl,[(0,r._)("div",vl,[(0,r.wy)((0,r._)("div",gl,null,512),[[w,d.value]])])])):((0,r.wg)(),(0,r.iD)("div",_l,[(0,r._)("div",hl,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{icon:"error",title:e.$t("Error"),"sub-title":p.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",ll,[(0,r._)("div",al,[(0,r._)("header",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourProfile"))},null,8,rl)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",ol,[(0,r._)("div",nl,[c.banner?((0,r.wg)(),(0,r.j4)(s,{key:0,src:c.banner,fit:"cover"},{error:(0,r.w5)((()=>[sl])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",il,[(0,r.Wm)(i,{src:c.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(c.initials)},null,8,ul)])),_:1},8,["src"])])]),(0,r._)("div",dl,[(0,r._)("h2",pl,[(0,r._)("span",{textContent:(0,o.zw)(c.playername)},null,8,cl)]),(0,r._)("p",ml,[(0,r._)("span",{textContent:(0,o.zw)(c.title)},null,8,wl)])])])),_:1})])),_:1})])),_:1})])])]))])}}};const bl=(0,z.Z)(yl,[["__scopeId","data-v-ce8fe982"]]);var xl=bl;const Cl=e=>((0,r.dD)("data-v-e32a9e00"),e=e(),(0,r.Cn)(),e),Wl={class:"qp-vue"},$l={key:0},ql={class:"qp-container"},kl=["textContent"],zl={class:"qp-profile-header"},Sl={class:"qp-profile-header-banner"},Al=Cl((()=>(0,r._)("div",{class:"image-slot"},null,-1))),jl={class:"qp-profile-header-avatar"},Tl=["textContent"],Dl={class:"qp-profile-identity"},Hl={class:"qp-profile-identity-name"},Vl=["textContent"],Ul={class:"qp-profile-identity-worldname"},El=["textContent"],Ol={key:1},Fl={class:"qp-container"},Ml={"element-loading-background":"transparent",style:{height:"60vh"}},Nl={key:2},Rl={class:"qp-container"};var Ll={__name:"MeCharactersView",setup(e){const{t:t}=Le.global,l=(0,i.tv)(),a=(0,s.oR)(),u=(0,r.Fl)((()=>a.getters.rat)),d=(0,n.iH)(!0),p=(0,n.iH)(null),c=(0,n.iH)([]),m=(0,n.iH)(0),w=(0,n.iH)(0),f=(0,n.iH)(1);(0,r.bv)((()=>{u.value?v():l.push({name:"AuthLogin"})}));const v=async()=>{d.value=!0,p.value=null,c.value=[];try{let e=await fetch(`${Ld}/me/characters/heros/?page=${f.value}`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t.count,c.value=t.results,w.value=t.size}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisPage"):p.value=t("AnErrorOccurred")}d.value=!1},g=e=>{f.value=e,v()},_=(e,t)=>{"hero"==t&&l.push({name:"MeCharactersHerosDetail",params:{pk:e}})};return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-row"),s=(0,r.up)("el-image"),i=(0,r.up)("el-avatar"),v=(0,r.up)("el-pagination"),h=(0,r.up)("el-icon"),y=(0,r.up)("el-empty"),b=(0,r.up)("el-result"),x=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Wl,[d.value||p.value||!(0,n.SU)(u)?d.value?((0,r.wg)(),(0,r.iD)("div",Ol,[(0,r._)("div",Fl,[(0,r.wy)((0,r._)("div",Ml,null,512),[[x,d.value]])])])):((0,r.wg)(),(0,r.iD)("div",Nl,[(0,r._)("div",Rl,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:"error",title:e.$t("Error"),"sub-title":p.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",$l,[(0,r._)("div",ql,[(0,r._)("header",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourCharacters"))},null,8,kl)])])),_:1})])),_:1})]),(0,r._)("section",null,[c.value.length?((0,r.wg)(),(0,r.j4)(a,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:`world-${t}`,span:24,sm:12,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",overflow:"",pa:"0",onClick:t=>_(e.id,"hero")},{default:(0,r.w5)((()=>[(0,r._)("div",zl,[(0,r._)("div",Sl,[e.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:e.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Al])),_:2},1032,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",jl,[(0,r.Wm)(i,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.initials)},null,8,Tl)])),_:2},1032,["src"])])]),(0,r._)("div",Dl,[(0,r._)("h2",Hl,[(0,r._)("span",{textContent:(0,o.zw)(e.name)},null,8,Vl)]),(0,r._)("p",Ul,[(0,r._)("span",{textContent:(0,o.zw)(e.world?.name)},null,8,El)])])])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[c.value.length?((0,r.wg)(),(0,r.j4)(v,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:m.value,"page-size":w.value,"current-page":f.value,"onUpdate:currentPage":g},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(a,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{description:e.$t("NoCharacterCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(h,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])])]))])}}};const Pl=(0,z.Z)(Ll,[["__scopeId","data-v-e32a9e00"]]);var Zl=Pl,Il=l(2807);const Yl={class:"qp-menav"},Bl=["onClick"],Gl={class:"qp-menav-icon"},Jl={class:"qp-menav-text"},Kl=["textContent"],Ql=["textContent"],Xl=["onClick"],ea=["textContent"],ta=["onClick"],la=["textContent"];var aa={__name:"qpMeNav",props:{navs:{type:Array,default:()=>[]},tab:{type:String,default:""}},setup(e){const t=e,l=(0,n.iH)("");return(0,r.bv)((()=>{l.value=t.tab})),(a,n)=>{const s=(0,r.up)("el-icon"),i=(0,r.up)("el-collapse-item"),u=(0,r.up)("el-collapse");return(0,r.wg)(),(0,r.iD)("nav",Yl,[(0,r.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),accordion:""},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.navs,((t,l)=>((0,r.wg)(),(0,r.j4)(i,{key:`nav-${l}`,name:t.tab},{title:(0,r.w5)((()=>[(0,r._)("div",{onClick:e=>a.$emit("goto",t.tab)},[(0,r._)("div",Gl,[(0,r.Wm)(s,{class:(0,o.C_)(t.icon)},null,8,["class"])]),(0,r._)("div",Jl,[(0,r._)("span",{class:"qp-menav-title",textContent:(0,o.zw)(t.title)},null,8,Kl),(0,r._)("span",{class:"qp-menav-caption",textContent:(0,o.zw)(t.caption)},null,8,Ql)])],8,Bl)])),default:(0,r.w5)((()=>[(0,r._)("ul",null,[(0,r._)("li",{onClick:e=>a.$emit("goto",t.tab),class:(0,o.C_)(t.tab==e.tab?"qp-active":"")},[(0,r._)("span",{textContent:(0,o.zw)(a.$t("General"))},null,8,ea)],10,Xl),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.subs,((t,n)=>((0,r.wg)(),(0,r.iD)("li",{key:`nav-${l}-sub-${n}`,class:(0,o.C_)(t.tab==e.tab?"qp-active":""),onClick:e=>a.$emit("goto",t.tab)},[(0,r._)("span",{textContent:(0,o.zw)(t.title)},null,8,la)],10,ta)))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}}};const ra=aa;var oa=ra;const na=e=>((0,r.dD)("data-v-ef58d792"),e=e(),(0,r.Cn)(),e),sa={class:"qp-vue"},ia={key:0},ua={class:"qp-container"},da=["textContent"],pa=["textContent"],ca={class:"qp-profile-header"},ma={class:"qp-profile-header-banner"},wa=na((()=>(0,r._)("div",{class:"image-slot"},null,-1))),fa={class:"qp-profile-header-avatar"},va=["textContent"],ga={class:"qp-meprofile-general-upload-icon"},_a={class:"qp-meprofile-general-upload-text"},ha=["textContent"],ya={class:"qp-meprofile-general-upload-info"},ba=["textContent"],xa=["textContent"],Ca=["textContent"],Wa=["textContent"],$a={key:1},qa={class:"qp-container"},ka={"element-loading-background":"transparent",style:{height:"60vh"}},za={key:2},Sa={class:"qp-container"};var Aa={__name:"MeCharactersHerosDetailView",setup(e){const{t:t}=Le.global,l=(0,i.yj)(),a=(0,i.tv)(),d=(0,s.oR)(),p=(0,r.Fl)((()=>d.getters.app)),c=(0,r.Fl)((()=>d.getters.rat)),m=(0,n.iH)(!0),w=(0,n.iH)(null),f=(0,n.iH)([{tab:"general",title:t("GeneralInformations"),caption:t("NameAvatarGenderAndMore"),icon:"mdi mdi-account-outline"}]),v=(0,n.iH)("general"),g=e=>{v.value=e};(0,r.bv)((()=>{c.value?h():a.push({name:"AuthLogin"})}));const _=(0,n.iH)(),h=async()=>{m.value=!0,w.value=null;try{let e=await fetch(`${Ld}/me/characters/${l.params.pk}/`,{method:"GET",headers:{Authorization:c.value}}),t=await e.json();if(200!==e.status)throw e;_.value=t,$(t)}catch(e){403===e.status?w.value=t("YouDoesntHaveAccessToThisPage"):w.value=t("AnErrorOccurred")}m.value=!1},y=(0,n.iH)(null),b=(0,n.iH)(!1),x=(0,n.iH)(),C=(0,n.qj)({first_name:"",middle_name:"",last_name:"",gender:"",avatar:null}),W=(0,n.qj)({}),$=e=>{C.first_name=e.first_name,C.middle_name=e.middle_name,C.last_name=e.last_name,C.gender=e.gender,C.avatar=e.avatar,C.avatar_file=null},q=()=>{$(_.value)},k=async()=>{y.value=null,b.value=!0,await x.value.validate(((e,l)=>{if(e)z();else{for(let[e,a]of Object.entries(l)){let l=t(`error${e}`);for(let e of a)y.value=`${l} : ${e.message}`}b.value=!1}}))},z=async()=>{y.value=null,b.value=!0;try{let e=new FormData;e.append("first_name",C.first_name),e.append("middle_name",C.middle_name),e.append("last_name",C.last_name),e.append("gender",C.gender),C.avatar_file&&e.append("avatar",C.avatar_file);let a=await fetch(`${Ld}/me/characters/${l.params.pk}/`,{method:"PATCH",headers:{Authorization:c.value},body:e}),r=await a.json();if(200===a.status)Il.z8.success(t("CharacterUpdatedSuccessfully")),_.value=r,$(r);else for(let[l,o]of Object.entries(r)){let e=t(`error${l}`);for(let t of o)y.value=`${e} : ${t}`}}catch{y.value=t("AnErrorOccurred")}b.value=!1},S=(0,n.iH)(),A=e=>{S.value.clearFiles(),S.value.handleStart(e[0])},j=e=>"image/jpeg"!==e.raw.type?(Il.z8.error(t("FileFormatMustBeJPG")),!1):e.raw.size/1024/1024>1?(Il.z8.error(t("FileSizeCanNotExceed1MB")),!1):(C.avatar=URL.createObjectURL(e.raw),void(C.avatar_file=e.raw));return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-button"),s=(0,r.up)("el-row"),i=(0,r.up)("el-image"),d=(0,r.up)("el-avatar"),h=(0,r.up)("el-icon"),y=(0,r.up)("el-upload"),$=(0,r.up)("el-input"),z=(0,r.up)("el-form-item"),T=(0,r.up)("el-option"),D=(0,r.up)("el-select"),H=(0,r.up)("el-form"),V=(0,r.up)("el-result"),U=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",sa,[!m.value&&!w.value&&(0,n.SU)(c)&&_.value?((0,r.wg)(),(0,r.iD)("div",ia,[(0,r._)("div",ua,[(0,r._)("header",null,[(0,r.Wm)(s,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(_.value.name)},null,8,da)])])),_:1}),(0,r.Wm)(l,{span:24,sm:12,align:(0,n.SU)(p).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{disabled:"",type:"primary"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("ShowProfile"))},null,8,pa)])),_:1})])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(oa,{navs:f.value,tab:v.value,onGoto:g},null,8,["navs","tab"])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24,md:18,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",ca,[(0,r._)("div",ma,[C.avatar?((0,r.wg)(),(0,r.j4)(i,{key:0,src:C.avatar,fit:"cover"},{error:(0,r.w5)((()=>[wa])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",fa,[(0,r.Wm)(d,{src:C.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(_.value.initials)},null,8,va)])),_:1},8,["src"])])])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24,sm:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meprofile-general-upload"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{ref_key:"formCharacterAvatarRef",ref:S,action:"#",accept:"image/*","auto-upload":!1,"show-file-list":!1,limit:1,"on-change":j,"on-exceed":A},{default:(0,r.w5)((()=>[(0,r._)("div",ga,[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(u.n5m))])),_:1})]),(0,r._)("div",_a,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("ChangeAvatar"))},null,8,ha)]),(0,r._)("div",ya,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("150x150pxSizeMinimum"))},null,8,ba)])])),_:1},512)])),_:1})])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-mecharacter-form-general"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("GeneralInformations"))},null,8,xa)])),default:(0,r.w5)((()=>[(0,r.Wm)(H,{ref_key:"formCharacterRef",ref:x,model:C,"label-position":(0,n.SU)(p).win.w<1200?"top":"right",rules:W,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(p).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(z,{label:e.$t("First Name"),prop:"first_name"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{modelValue:C.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>C.first_name=e),placeholder:e.$t("First Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(z,{label:e.$t("Middle Name"),prop:"middle_name"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{modelValue:C.middle_name,"onUpdate:modelValue":t[1]||(t[1]=e=>C.middle_name=e),placeholder:e.$t("Middle Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(z,{label:e.$t("Last Name"),prop:"last_name"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{modelValue:C.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>C.last_name=e),placeholder:e.$t("Last Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(z,{label:e.$t("Gender"),prop:"gender"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{modelValue:C.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>C.gender=e),placeholder:e.$t("Gender")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(_.value.gender_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(T,{key:`gender-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{disabled:b.value,class:"ma-6",onClick:t[4]||(t[4]=e=>q())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Reset"))},null,8,Ca)])),_:1},8,["disabled"]),(0,r.Wm)(a,{loading:b.value,class:"ma-6",type:"primary",onClick:t[5]||(t[5]=e=>k())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Wa)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])])):m.value?((0,r.wg)(),(0,r.iD)("div",$a,[(0,r._)("div",qa,[(0,r.wy)((0,r._)("div",ka,null,512),[[U,m.value]])])])):((0,r.wg)(),(0,r.iD)("div",za,[(0,r._)("div",Sa,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{icon:"error",title:e.$t("Error"),"sub-title":w.value},null,8,["title","sub-title"])])),_:1})])]))])}}};const ja=(0,z.Z)(Aa,[["__scopeId","data-v-ef58d792"]]);var Ta=ja;l(6699);const Da=(e,t)=>{const l=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],a=/\.0+$|(\.[0-9]*[1-9])0+$/;var r=l.slice().reverse().find((function(t){return e>=t.value}));return r?(e/r.value).toFixed(t).replace(a,"$1")+r.symbol:"0"},Ha={class:"qp-vue"},Va={key:0},Ua={key:0,class:"qp-container"},Ea=["textContent"],Oa=["textContent"],Fa={class:"qp-meworlds-overview"},Ma={class:"qp-meworlds-overview-tags"},Na=["textContent"],Ra=["textContent"],La=["textContent"],Pa=["textContent"],Za={class:"qp-meworlds-overview-title"},Ia=["textContent"],Ya=["textContent"],Ba={class:"qp-meworlds-infolist"},Ga=["textContent"],Ja=["textContent"],Ka=["textContent"],Qa=["textContent"],Xa=["textContent"],er=["textContent"],tr=["textContent"],lr=["textContent"],ar={key:1,class:"qp-container"},rr=["textContent"],or=["innerHTML"],nr=["textContent"],sr=["textContent"],ir={key:1},ur={class:"qp-container"},dr={"element-loading-background":"transparent",style:{height:"60vh"}},pr={key:2},cr={class:"qp-container"};var mr={__name:"MeWorldsView",setup(e){const{t:t}=Le.global,l=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,r.Fl)((()=>u.getters.app)),c=(0,r.Fl)((()=>u.getters.player)),m=(0,n.iH)(!0),w=(0,n.iH)(!1),f=(0,n.iH)(null),v=(0,n.iH)(null),g=(0,n.iH)([]),_=(0,n.iH)(0),h=(0,n.iH)(1),y=(0,n.iH)(0);(0,r.bv)((()=>{d.value?b():l.push({name:"AuthLogin"})}));const b=async()=>{m.value=!0,f.value=null,g.value=[];try{let e=await fetch(`${Ld}/me/worlds/?page=${h.value}`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;_.value=t.count,g.value=t.results,y.value=t.size}catch(e){403===e.status?f.value=t("YouDoesntHaveAccessToThisPage"):f.value=t("AnErrorOccurred")}m.value=!1},x=e=>{h.value=e,b()},C=e=>{l.push({name:"MeWorldsDetail",params:{pk:e}})},W=(0,n.iH)(!1),$=(0,n.iH)(),q=(0,n.qj)({name:"",description:""}),k=()=>{W.value=!0},z=()=>{W.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),s=(0,r.up)("el-button"),i=(0,r.up)("el-row"),u=(0,r.up)("el-tag"),b=(0,r.up)("el-pagination"),S=(0,r.up)("el-icon"),A=(0,r.up)("el-empty"),j=(0,r.up)("el-input"),T=(0,r.up)("el-form-item"),D=(0,r.up)("el-form"),H=(0,r.up)("el-alert"),V=(0,r.up)("el-result"),U=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Ha,[m.value||f.value||!(0,n.SU)(d)?m.value?((0,r.wg)(),(0,r.iD)("div",ir,[(0,r._)("div",ur,[(0,r.wy)((0,r._)("div",dr,null,512),[[U,m.value]])])])):((0,r.wg)(),(0,r.iD)("div",pr,[(0,r._)("div",cr,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{icon:"error",title:e.$t("Error"),"sub-title":f.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",Va,[W.value?W.value?((0,r.wg)(),(0,r.iD)("div",ar,[(0,r._)("header",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("CreateWorld"))},null,8,rr)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(D,{ref_key:"formCreateWorldRef",ref:$,model:q,"label-position":(0,n.SU)(p).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{label:e.$t("Name"),prop:"name",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:q.name,"onUpdate:modelValue":t[1]||(t[1]=e=>q.name=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername")},null,8,["modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,r.Wm)(T,{label:e.$t("Description"),prop:"description",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:q.description,"onUpdate:modelValue":t[2]||(t[2]=e=>q.description=e),type:"text",maxlength:"250",onKeyup:t[3]||(t[3]=(0,a.D2)((e=>z()),["enter"]))},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),v.value?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(H,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:v.value},null,8,or)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:w.value,onClick:t[4]||(t[4]=e=>z())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,nr)])),_:1},8,["disabled"]),(0,r.Wm)(s,{type:"primary",loading:w.value},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,sr)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Ua,[(0,r._)("header",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourWorlds"))},null,8,Ea)])])),_:1}),(0,r.Wm)(l,{span:24,sm:12,align:(0,n.SU)(p).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:!(0,n.SU)(c)?.limits?.can_create_worlds,onClick:t[0]||(t[0]=e=>k())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("CreateWorld"))},null,8,Oa)])),_:1},8,["disabled"])])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[g.value.length?((0,r.wg)(),(0,r.j4)(i,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value,((t,a)=>((0,r.wg)(),(0,r.j4)(l,{key:`world-${a}`},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",pa:"12px",onClick:e=>C(t.id)},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("div",Fa,[(0,r._)("div",Ma,[t.is_active?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(u,{key:0,type:"danger",effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Closed"))},null,8,Na)])),_:1})),(0,n.SU)(c).id==t.creator?((0,r.wg)(),(0,r.j4)(u,{key:1,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Creator"))},null,8,Ra)])),_:1})):(0,r.kq)("",!0),t.administrators.includes((0,n.SU)(c).id)?((0,r.wg)(),(0,r.j4)(u,{key:2,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Administration"))},null,8,La)])),_:1})):(0,r.kq)("",!0),t.moderators.includes((0,n.SU)(c).id)?((0,r.wg)(),(0,r.j4)(u,{key:3,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Moderation"))},null,8,Pa)])),_:1})):(0,r.kq)("",!0)]),(0,r._)("h2",Za,[(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,Ia)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,textContent:(0,o.zw)(t.description)},null,8,Ya)):(0,r.kq)("",!0)])])),_:2},1024),(0,r.Wm)(l,{span:24,md:12,align:"right"},{default:(0,r.w5)((()=>[(0,r._)("ul",Ba,[(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Player",t.count_players))},null,8,Ga),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_players,1))},null,8,Ja)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Character",t.count_heros))},null,8,Ka),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_heros,1))},null,8,Qa)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Chapter",t.count_chapters))},null,8,Xa),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_chapters,1))},null,8,er)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Message",t.count_messages))},null,8,tr),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_messages,1))},null,8,lr)])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,{background:"","hide-on-single-page":"",layout:"prev, pager, next",total:_.value,"page-size":y.value,"current-page":h.value,"onUpdate:currentPage":x},null,8,["total","page-size","current-page"])])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(i,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(A,{description:e.$t("NoWorldCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(S,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])]))]))])}}};const wr=(0,z.Z)(mr,[["__scopeId","data-v-4f6d27fb"]]);var fr=wr;const vr={class:"qp-meworld-banner"},gr={class:"qp-meworld-banner-inner"},_r=(0,r._)("div",{class:"image-slot"},null,-1),hr={class:"qp-meworld-identity"},yr={class:"qp-meworld-identity-name"},br=["textContent"],xr={class:"qp-meworld-identity-description"},Cr=["textContent"],Wr={class:"qp-meworld-general-upload-icon"},$r={class:"qp-meworld-general-upload-text"},qr=["textContent"],kr={class:"qp-meworld-general-upload-info"},zr=["textContent"],Sr=["textContent"],Ar=["textContent"],jr=["textContent"];var Tr={__name:"qpMeGeneral",props:{world:{type:Object,default:()=>{}}},emits:["init-world"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,d=(0,i.yj)(),p=(0,s.oR)(),c=(0,r.Fl)((()=>p.getters.app)),m=(0,r.Fl)((()=>p.getters.rat));(0,r.bv)((()=>{_(l.world)}));const w=(0,n.iH)(!1),f=(0,n.iH)(),v=(0,n.qj)({name:"",slug:"",description:"",banner:null,banner_file:null,visibility:0,is_active:!1}),g=(0,n.qj)({}),_=e=>{v.name=e.name,v.slug=e.slug,v.description=e.description,v.banner=e.banner,v.banner_file=null,v.visibility=e.visibility,v.is_active=e.is_active},h=()=>{_(l.world)},y=async()=>{w.value=!0,await f.value.validate(((e,t)=>{if(e)b();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}w.value=!1}}))},b=async()=>{w.value=!0;try{let e=new FormData;e.append("name",v.name),e.append("description",v.description?v.description:""),e.append("visibility",v.visibility),e.append("is_active",v.is_active),v.banner_file&&e.append("banner",v.banner_file);let l=await fetch(`${Ld}/me/worlds/${d.params.pk}/`,{method:"PATCH",headers:{Authorization:m.value},body:e}),r=await l.json();if(200===l.status)Il.z8.success(a("WorldUpdatedSuccessfully")),t("init-world",r);else for(let[t,o]of Object.entries(r)){let e=a(`error${t}`);for(let t of o)Il.z8.error(`${e} : ${t}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}w.value=!1},x=(0,n.iH)(),C=e=>{x.value.clearFiles(),x.value.handleStart(e[0])},W=e=>"image/jpeg"!==e.raw.type?(Il.z8.error(a("FileFormatMustBeJPG")),!1):e.raw.size/1024/1024>1?(Il.z8.error(a("FileSizeCanNotExceed1MB")),!1):(v.banner=URL.createObjectURL(e.raw),void(v.banner_file=e.raw));return(t,a)=>{const s=(0,r.up)("el-image"),i=(0,r.up)("el-col"),d=(0,r.up)("el-icon"),p=(0,r.up)("el-upload"),m=(0,r.up)("el-input"),_=(0,r.up)("el-form-item"),b=(0,r.up)("el-option"),$=(0,r.up)("el-select"),q=(0,r.up)("el-checkbox"),k=(0,r.up)("el-form"),z=(0,r.up)("el-button"),S=(0,r.up)("el-row");return l.world?((0,r.wg)(),(0,r.j4)(S,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{span:24,sm:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",vr,[(0,r._)("div",gr,[v.banner?((0,r.wg)(),(0,r.j4)(s,{key:0,src:v.banner,fit:"cover"},{error:(0,r.w5)((()=>[_r])),_:1},8,["src"])):(0,r.kq)("",!0)])]),(0,r._)("div",hr,[(0,r._)("h1",yr,[(0,r._)("span",{textContent:(0,o.zw)(v.name)},null,8,br)]),(0,r._)("p",xr,[(0,r._)("span",{textContent:(0,o.zw)(v.description)},null,8,Cr)])])])),_:1})])),_:1}),(0,r.Wm)(i,{span:24,sm:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-general-upload"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{ref_key:"formWorldBannerRef",ref:x,action:"#",accept:"image/*","auto-upload":!1,"show-file-list":!1,limit:1,"on-change":W,"on-exceed":C},{default:(0,r.w5)((()=>[(0,r._)("div",Wr,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(u.tap))])),_:1})]),(0,r._)("div",$r,[(0,r._)("span",{textContent:(0,o.zw)(t.$t("ChangeBanner"))},null,8,qr)]),(0,r._)("div",kr,[(0,r._)("span",{textContent:(0,o.zw)(t.$t("1200x250pxSizeRecommended"))},null,8,zr)])])),_:1},512)])),_:1})])),_:1}),(0,r.Wm)(i,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-general"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.$t("GeneralInformations"))},null,8,Sr)])),default:(0,r.w5)((()=>[(0,r.Wm)(k,{ref_key:"formWorldRef",ref:f,model:v,"label-position":(0,n.SU)(c).win.w<1200?"top":"right",rules:g,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(c).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(_,{label:t.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:v.name,"onUpdate:modelValue":a[0]||(a[0]=e=>v.name=e),placeholder:t.$t("NameOfTheWorld"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(_,{label:t.$t("Slug"),prop:"slug"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:v.slug,"onUpdate:modelValue":a[1]||(a[1]=e=>v.slug=e),placeholder:t.$t("Slug"),disabled:""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(_,{label:t.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{modelValue:v.description,"onUpdate:modelValue":a[2]||(a[2]=e=>v.description=e),placeholder:t.$t("AShortDescription"),maxlength:250,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(_,{label:t.$t("Visibility"),prop:"visibility"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{modelValue:v.visibility,"onUpdate:modelValue":a[3]||(a[3]=e=>v.visibility=e),placeholder:t.$t("Visibility")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.world.visibility_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(b,{key:`visibility-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(_,{label:t.$t("Open"),prop:"is_active"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{modelValue:v.is_active,"onUpdate:modelValue":a[4]||(a[4]=e=>v.is_active=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r.Wm)(S,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:w.value,class:"ma-6",onClick:a[5]||(a[5]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.$t("Reset"))},null,8,Ar)])),_:1},8,["disabled"]),(0,r.Wm)(z,{loading:w.value,class:"ma-6",type:"primary",onClick:a[6]||(a[6]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.$t("Send"))},null,8,jr)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0)}}};const Dr=Tr;var Hr=Dr;const Vr={class:"qp-dialog-footer text-right"},Ur=["textContent"],Er=["textContent"];var Or={__name:"qpMeForumIndexZoneAdd",props:{world:{type:Object,default:()=>{}},forum:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{t("close")},v=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)g();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},g=async()=>{p.value=!0;try{let e=new FormData;e.append("forum",l.forum.id),e.append("name",m.name),e.append("description",m.description?m.description:"");let r=await fetch(`${Ld}/me/forums/${l.forum.id}/zones/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();201===r.status?(Il.z8.success(a("ZoneAddedSuccessfully")),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(o)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-form"),i=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(s,{ref_key:"formZoneRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Vr,[(0,r.Wm)(i,{onClick:t[2]||(t[2]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Ur)])),_:1}),(0,r.Wm)(i,{type:"primary",onClick:t[3]||(t[3]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Er)])),_:1})])])}}};const Fr=Or;var Mr=Fr,Nr=l(5499);const Rr=["textContent"],Lr={class:"qp-dialog-footer text-right"},Pr=["textContent"],Zr=["textContent"];var Ir={__name:"qpMeForumIndexZoneEdit",props:{zone:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{f()}));const p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{m.id=l.zone.id,m.name=l.zone.name,m.description=l.zone.description,m.ordering=l.zone.ordering},v=()=>{t("close")},g=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)_();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},_=async()=>{p.value=!0;try{let e=new FormData;e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("ordering",m.ordering);let l=await fetch(`${Ld}/me/zones/${m.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();200===l.status?(Il.z8.success(a("ZoneUpdatedSuccessfully")),v(),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(r)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1},h=()=>{Nr.T.confirm(a("Areyousureyouwanttodeletethiszone"),a("DeleteZone"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{y()})).catch((()=>{p.value=!1}))},y=async()=>{p.value=!0;try{let e=new FormData;e.append("id",m.id);let l=await fetch(`${Ld}/me/zones/${m.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});if(204===l.status)Il.z8.success(a("ZoneDeletedSuccessfully")),v(),t("init-forum");else{let e=await l.json();Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(e)}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-input-number"),i=(0,r.up)("el-button"),d=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(d,{ref_key:"formZoneRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Ordering"),prop:"ordering"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.ordering,"onUpdate:modelValue":t[2]||(t[2]=e=>m.ordering=e),min:1,max:3e3},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{type:"danger",size:"small",onClick:t[3]||(t[3]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Delete"))},null,8,Rr)])),_:1})])),_:1})])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Lr,[(0,r.Wm)(i,{onClick:t[4]||(t[4]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Pr)])),_:1}),(0,r.Wm)(i,{type:"primary",onClick:t[5]||(t[5]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Zr)])),_:1})])])}}};const Yr=Ir;var Br=Yr;const Gr={class:"qp-dialog-footer text-right"},Jr=["textContent"],Kr=["textContent"];var Qr={__name:"qpMeForumIndexTerritoryAdd",props:{zone:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%"}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{t("close")},v=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)g();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},g=async()=>{p.value=!0;try{let e=new FormData;e.append("zone",l.zone.id),e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis);let r=await fetch(`${Ld}/me/zones/${l.zone.id}/territories/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();201===r.status?(Il.z8.success(a("TerritoryAddedSuccessfully")),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(o)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-form"),g=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(p,{ref_key:"formTerritoryRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheTerritory"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Gr,[(0,r.Wm)(g,{onClick:t[4]||(t[4]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Jr)])),_:1}),(0,r.Wm)(g,{type:"primary",onClick:t[5]||(t[5]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Kr)])),_:1})])])}}};const Xr=Qr;var eo=Xr;const to=["textContent"],lo={class:"qp-dialog-footer text-right"},ao=["textContent"],ro=["textContent"];var oo={__name:"qpMeForumIndexTerritoryEdit",props:{territory:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{f()}));const p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{m.id=l.territory.id,m.name=l.territory.name,m.description=l.territory.description,m.colour=l.territory.colour,m.flexbasis=l.territory.flexbasis,m.ordering=l.territory.ordering},v=()=>{t("close")},g=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)_();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},_=async()=>{p.value=!0;try{let e=new FormData;e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis),e.append("ordering",m.ordering);let l=await fetch(`${Ld}/me/territories/${m.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();200===l.status?(Il.z8.success(a("TerritoryUpdatedSuccessfully")),v(),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(r)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1},h=()=>{Nr.T.confirm(a("Areyousureyouwanttodeletethisterritory"),a("DeleteTerritory"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{y()})).catch((()=>{p.value=!1}))},y=async()=>{p.value=!0;try{let e=new FormData;e.append("id",m.id);let l=await fetch(`${Ld}/me/territories/${m.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});if(204===l.status)Il.z8.success(a("TerritoryDeletedSuccessfully")),v(),t("init-forum");else{let e=await l.json();Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(e)}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-input-number"),f=(0,r.up)("el-button"),_=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(_,{ref_key:"formTerritoryRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Ordering"),prop:"ordering"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:m.ordering,"onUpdate:modelValue":t[4]||(t[4]=e=>m.ordering=e),min:1,max:3e3},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"danger",size:"small",onClick:t[5]||(t[5]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Delete"))},null,8,to)])),_:1})])),_:1})])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",lo,[(0,r.Wm)(f,{onClick:t[6]||(t[6]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,ao)])),_:1}),(0,r.Wm)(f,{type:"primary",onClick:t[7]||(t[7]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,ro)])),_:1})])])}}};const no=oo;var so=no;const io={class:"qp-dialog-footer text-right"},uo=["textContent"],po=["textContent"];var co={__name:"qpMeForumIndexSectorAdd",props:{territory:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%"}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{t("close")},v=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)g();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},g=async()=>{p.value=!0;try{let e=new FormData;e.append("territory",l.territory.id),e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis);let r=await fetch(`${Ld}/me/territories/${l.territory.id}/sectors/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();201===r.status?(Il.z8.success(a("SectorAddedSuccessfully")),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(o)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-form"),g=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(p,{ref_key:"formSectorRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheSector"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",io,[(0,r.Wm)(g,{onClick:t[4]||(t[4]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,uo)])),_:1}),(0,r.Wm)(g,{type:"primary",onClick:t[5]||(t[5]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,po)])),_:1})])])}}};const mo=co;var wo=mo;const fo=["textContent"],vo={class:"qp-dialog-footer text-right"},go=["textContent"],_o=["textContent"];var ho={__name:"qpMeForumIndexSectorEdit",props:{sector:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{f()}));const p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{m.id=l.sector.id,m.name=l.sector.name,m.description=l.sector.description,m.colour=l.sector.colour,m.flexbasis=l.sector.flexbasis,m.ordering=l.sector.ordering},v=()=>{t("close")},g=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)_();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},_=async()=>{p.value=!0;try{let e=new FormData;e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis),e.append("ordering",m.ordering);let l=await fetch(`${Ld}/me/sectors/${m.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();200===l.status?(Il.z8.success(a("SectorUpdatedSuccessfully")),v(),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(r)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1},h=()=>{Nr.T.confirm(a("Areyousureyouwanttodeletethissector"),a("DeleteSector"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{y()})).catch((()=>{p.value=!1}))},y=async()=>{p.value=!0;try{let e=new FormData;e.append("id",m.id);let l=await fetch(`${Ld}/me/sectors/${m.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});if(204===l.status)Il.z8.success(a("SectorDeletedSuccessfully")),v(),t("init-forum");else{let e=await l.json();Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(e)}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-input-number"),f=(0,r.up)("el-button"),_=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(_,{ref_key:"formSectorRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Ordering"),prop:"ordering"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:m.ordering,"onUpdate:modelValue":t[4]||(t[4]=e=>m.ordering=e),min:1,max:3e3},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"danger",size:"small",onClick:t[5]||(t[5]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Delete"))},null,8,fo)])),_:1})])),_:1})])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",vo,[(0,r.Wm)(f,{onClick:t[6]||(t[6]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,go)])),_:1}),(0,r.Wm)(f,{type:"primary",onClick:t[7]||(t[7]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,_o)])),_:1})])])}}};const yo=ho;var bo=yo;const xo=["textContent"],Co={class:"custom-tabs-label"},Wo=["textContent"],$o={class:"text-center pa-6"},qo=["textContent"],ko={class:"text-center pa-6"},zo=["textContent"],So={key:1},Ao=["textContent"];var jo={__name:"qpMeForumIndex",props:{world:{type:Object,default:()=>{}},forum:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,n.iH)(),a=(0,n.iH)([]),s=(0,n.iH)(),i=(0,n.iH)(),u=(0,n.iH)(),d=()=>{a.value=t.forum.zones,a.value.length&&(l.value=a.value[0].id)};(0,r.bv)((()=>{d()}));const p=(0,n.iH)(!1),c=(0,n.iH)(!1),m=(0,n.iH)(!1),w=(0,n.iH)(!1),f=(0,n.iH)(!1),v=(0,n.iH)(!1),g=()=>{p.value=!0},_=()=>{p.value=!1},h=e=>{s.value=e,c.value=!0},y=()=>{c.value=!1},b=e=>{s.value=e,m.value=!0},x=()=>{m.value=!1},C=e=>{i.value=e,w.value=!0},W=()=>{w.value=!1},$=e=>{i.value=e,f.value=!0},q=()=>{f.value=!1},k=e=>{u.value=e,v.value=!0},z=()=>{v.value=!1};return(e,n)=>{const d=(0,r.up)("el-icon"),S=(0,r.up)("el-table-column"),A=(0,r.up)("el-button"),j=(0,r.up)("el-table"),T=(0,r.up)("el-tab-pane"),D=(0,r.up)("el-tabs"),H=(0,r.up)("el-dialog"),V=(0,r.up)("el-col"),U=(0,r.up)("el-row");return(0,r.wg)(),(0,r.j4)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(V,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-forum"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Index"))},null,8,xo)])),default:(0,r.w5)((()=>[a.value.length?((0,r.wg)(),(0,r.j4)(D,{key:0,modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),addable:"",onTabAdd:n[1]||(n[1]=e=>g())},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.value,((t,l)=>((0,r.wg)(),(0,r.j4)(T,{key:`zone-${l}`,label:t.name,name:t.id},{label:(0,r.w5)((()=>[(0,r._)("span",Co,[(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,Wo)]),(0,r.Wm)(d,{class:"mdi mdi-pencil is-icon-close",onClick:e=>h(t)},null,8,["onClick"])])),default:(0,r.w5)((()=>[(0,r._)("div",null,[(0,r.Wm)(j,{data:t.territories,"show-header":!1,"empty-text":e.$t("NoTerritories"),style:{width:"100%"}},{append:(0,r.w5)((()=>[(0,r._)("div",ko,[(0,r.Wm)(A,{size:"small",onClick:e=>b(t)},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AddANewTerritory"))},null,8,zo)])),_:2},1032,["onClick"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(S,{type:"expand"},{default:(0,r.w5)((t=>[(0,r._)("div",null,[(0,r.Wm)(j,{data:t.row.sectors,"show-header":!1,"empty-text":e.$t("NoSectors"),style:{width:"100%"}},{append:(0,r.w5)((()=>[(0,r._)("div",$o,[(0,r.Wm)(A,{size:"small",onClick:e=>$(t.row)},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AddANewSector"))},null,8,qo)])),_:2},1032,["onClick"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(S,{prop:"ordering",align:"center",width:"48"}),(0,r.Wm)(S,{prop:"name"}),(0,r.Wm)(S,{prop:"action",fixed:"right",width:"60"},{default:(0,r.w5)((e=>[(0,r.Wm)(A,{size:"small",onClick:t=>k(e.row)},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"mdi mdi-pencil"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["data","empty-text"])])])),_:1}),(0,r.Wm)(S,{prop:"name"}),(0,r.Wm)(S,{prop:"action",fixed:"right",width:"60"},{default:(0,r.w5)((e=>[(0,r.Wm)(A,{size:"small",onClick:t=>C(e.row)},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"mdi mdi-pencil"})])),_:2},1032,["onClick"])])),_:1})])),_:2},1032,["data","empty-text"])])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])):((0,r.wg)(),(0,r.iD)("div",So,[(0,r.Wm)(A,{onClick:n[2]||(n[2]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AddANewZone"))},null,8,Ao)])),_:1})]))])),_:1}),(0,r.Wm)(H,{modelValue:p.value,"onUpdate:modelValue":n[5]||(n[5]=e=>p.value=e),title:e.$t("AddANewZone"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(Mr,{forum:t.forum,onInitForum:n[3]||(n[3]=t=>e.$emit("init-forum")),onClose:n[4]||(n[4]=e=>_())},null,8,["forum"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:c.value,"onUpdate:modelValue":n[8]||(n[8]=e=>c.value=e),title:e.$t("EditAZone"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(Br,{zone:s.value,onInitForum:n[6]||(n[6]=t=>e.$emit("init-forum")),onClose:n[7]||(n[7]=e=>y())},null,8,["zone"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:m.value,"onUpdate:modelValue":n[11]||(n[11]=e=>m.value=e),title:e.$t("AddANewTerritory"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(eo,{zone:s.value,onInitForum:n[9]||(n[9]=t=>e.$emit("init-forum")),onClose:n[10]||(n[10]=e=>x())},null,8,["zone"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:w.value,"onUpdate:modelValue":n[14]||(n[14]=e=>w.value=e),title:e.$t("EditATerritory"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(so,{territory:i.value,onInitForum:n[12]||(n[12]=t=>e.$emit("init-forum")),onClose:n[13]||(n[13]=e=>W())},null,8,["territory"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:f.value,"onUpdate:modelValue":n[17]||(n[17]=e=>f.value=e),title:e.$t("AddANewSector"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(wo,{territory:i.value,onInitForum:n[15]||(n[15]=t=>e.$emit("init-forum")),onClose:n[16]||(n[16]=e=>q())},null,8,["territory"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:v.value,"onUpdate:modelValue":n[20]||(n[20]=e=>v.value=e),title:e.$t("EditASector"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(bo,{sector:u.value,onInitForum:n[18]||(n[18]=t=>e.$emit("init-forum")),onClose:n[19]||(n[19]=e=>z())},null,8,["sector"])])),_:1},8,["modelValue","title"])])),_:1})])),_:1})}}};const To=jo;var Do=To;const Ho={key:0},Vo={key:0},Uo=["textContent"],Eo=["textContent"],Oo=["textContent"],Fo={key:1},Mo={class:"qp-container"},No={"element-loading-background":"transparent",style:{height:"60vh"}},Ro={key:2},Lo={class:"qp-container"};var Po={__name:"qpMeForum",props:{tab:{type:String,default:"general"},world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,s.oR)(),i=(0,r.Fl)((()=>a.getters.app)),u=(0,r.Fl)((()=>a.getters.rat));(0,r.bv)((()=>{c()}));const d=(0,n.iH)(!1),p=(0,n.iH)(null),c=async()=>{d.value=!0;try{let e=await fetch(`${Ld}/me/forums/${t.world.forum.id}/`,{method:"GET",headers:{Authorization:u.value}}),l=await e.json();if(200!==e.status)throw e;p.value=l,g(l)}catch(e){403===e.status?Il.z8.error(l("YouDoesntHaveAccessToThisPage")):Il.z8.error(l("AnErrorOccurred"))}d.value=!1},m=(0,n.iH)(!1),w=(0,n.iH)(),f=(0,n.qj)({name:"",slug:"",description:"",visibility:0,is_active:!1}),v=(0,n.qj)({}),g=e=>{f.name=e.name,f.visibility=e.visibility,f.is_active=e.is_active},_=()=>{g(p)},h=async()=>{m.value=!0,await w.value.validate(((e,t)=>{if(e)y();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)Il.z8.error(`${t} : ${e.message}`)}m.value=!1}}))},y=async()=>{m.value=!0;try{let e=new FormData;e.append("name",f.name),e.append("visibility",f.visibility),e.append("is_active",f.is_active);let t=await fetch(`${Ld}/me/forums/${p.value.id}/`,{method:"PATCH",headers:{Authorization:u.value},body:e}),a=await t.json();if(200===t.status)Il.z8.success(l("WorldUpdatedSuccessfully")),c();else for(let[r,o]of Object.entries(a)){let e=l(`error${r}`);for(let t of o)Il.z8.error(`${e} : ${t}`)}}catch{Il.z8.error(l("AnErrorOccurred"))}m.value=!1};return(l,a)=>{const s=(0,r.up)("el-input"),u=(0,r.up)("el-form-item"),g=(0,r.up)("el-option"),y=(0,r.up)("el-select"),b=(0,r.up)("el-checkbox"),x=(0,r.up)("el-form"),C=(0,r.up)("el-button"),W=(0,r.up)("el-col"),$=(0,r.up)("el-row"),q=(0,r.up)("el-result"),k=(0,r.Q2)("loading");return t.world?((0,r.wg)(),(0,r.iD)("div",Ho,[!d.value&&p.value?((0,r.wg)(),(0,r.iD)("div",Vo,["forum"==t.tab?((0,r.wg)(),(0,r.j4)($,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-forum"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("Forum"))},null,8,Uo)])),default:(0,r.w5)((()=>[(0,r.Wm)(x,{ref_key:"formForumGeneralRef",ref:w,model:f,"label-position":(0,n.SU)(i).win.w<1200?"top":"right",rules:v,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(i).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{label:l.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:f.name,"onUpdate:modelValue":a[0]||(a[0]=e=>f.name=e),placeholder:l.$t("NameOfTheWorld"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:l.$t("Visibility"),prop:"visibility"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{modelValue:f.visibility,"onUpdate:modelValue":a[1]||(a[1]=e=>f.visibility=e),placeholder:l.$t("Visibility")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.world.visibility_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(g,{key:`visibility-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:l.$t("Open"),prop:"is_active"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{modelValue:f.is_active,"onUpdate:modelValue":a[2]||(a[2]=e=>f.is_active=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r.Wm)($,null,{default:(0,r.w5)((()=>[(0,r.Wm)(W,null,{default:(0,r.w5)((()=>[(0,r.Wm)(C,{disabled:m.value,class:"ma-6",onClick:a[3]||(a[3]=e=>_())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("Reset"))},null,8,Eo)])),_:1},8,["disabled"]),(0,r.Wm)(C,{loading:m.value,class:"ma-6",type:"primary",onClick:a[4]||(a[4]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("Send"))},null,8,Oo)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0),"forum-index"==t.tab?((0,r.wg)(),(0,r.j4)(Do,{key:1,world:t.world,forum:p.value,onInitForum:a[5]||(a[5]=e=>c())},null,8,["world","forum"])):(0,r.kq)("",!0)])):d.value?((0,r.wg)(),(0,r.iD)("div",Fo,[(0,r._)("div",Mo,[(0,r.wy)((0,r._)("div",No,null,512),[[k,d.value]])])])):((0,r.wg)(),(0,r.iD)("div",Ro,[(0,r._)("div",Lo,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{icon:"error",title:l.$t("Error"),"sub-title":l.$t("AnErrorOccurred")},null,8,["title","sub-title"])])),_:1})])]))])):(0,r.kq)("",!0)}}};const Zo=Po;var Io=Zo;const Yo={class:"qp-vue"},Bo={key:0},Go={class:"qp-container"},Jo=["textContent"],Ko=["textContent"],Qo=["textContent"],Xo={key:1},en={class:"qp-container"},tn={"element-loading-background":"transparent",style:{height:"60vh"}},ln={key:2},an={class:"qp-container"};var rn={__name:"MeWorldsDetailView",setup(e){const{t:t}=Le.global,l=(0,i.yj)(),a=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,n.iH)(!0),c=(0,n.iH)(null),m=(0,n.iH)([{tab:"general",title:t("GeneralInformations"),caption:t("NameDescriptionVisibilityAndMore"),icon:"mdi mdi-account-outline"},{tab:"forum",title:t("Forum"),caption:t("ZonesTerritoriesSectorsAndSettings"),icon:"mdi mdi-forum-outline",subs:[{tab:"forum-index",title:t("Index")}]},{tab:"style",title:t("Style"),caption:t("ColoursAndCustomStylesheet"),icon:"mdi mdi-brush-variant",subs:[{tab:"style-stylesheets",title:t("Stylesheets")}]}]),w=(0,n.iH)("general"),f=e=>{w.value=e};(0,r.bv)((()=>{d.value?g():a.push({name:"AuthLogin"})}));const v=(0,n.iH)(),g=async()=>{p.value=!0,c.value=null;try{let e=await fetch(`${Ld}/me/worlds/${l.params.pk}/`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;v.value=t}catch(e){403===e.status?c.value=t("YouDoesntHaveAccessToThisPage"):c.value=t("AnErrorOccurred")}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-row"),s=(0,r.up)("el-result"),i=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Yo,[!p.value&&!c.value&&(0,n.SU)(d)&&v.value?((0,r.wg)(),(0,r.iD)("div",Bo,[(0,r._)("div",Go,[(0,r._)("header",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(v.value.name)},null,8,Jo)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(oa,{navs:m.value,tab:w.value,onGoto:f},null,8,["navs","tab"])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24,md:18,style:{padding:"0"}},{default:(0,r.w5)((()=>[w.value.startsWith("general")?((0,r.wg)(),(0,r.j4)(Hr,{key:0,world:v.value,onInitWorld:g},null,8,["world"])):w.value.startsWith("forum")?((0,r.wg)(),(0,r.j4)(Io,{key:1,tab:w.value,world:v.value,onInitWorld:g},null,8,["tab","world"])):"style"==w.value?((0,r.wg)(),(0,r.j4)(a,{key:2},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-style"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Style"))},null,8,Ko)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{icon:"info",title:e.$t("UnderDevelopment")},null,8,["title"])])),_:1})])),_:1})])),_:1})):"style-stylesheets"==w.value?((0,r.wg)(),(0,r.j4)(a,{key:3},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-style"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Stylesheets"))},null,8,Qo)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{icon:"info",title:e.$t("UnderDevelopment")},null,8,["title"])])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0)])),_:1})])),_:1})])])])):p.value?((0,r.wg)(),(0,r.iD)("div",Xo,[(0,r._)("div",en,[(0,r.wy)((0,r._)("div",tn,null,512),[[i,p.value]])])])):((0,r.wg)(),(0,r.iD)("div",ln,[(0,r._)("div",an,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{icon:"error",title:e.$t("Error"),"sub-title":c.value},null,8,["title","sub-title"])])),_:1})])]))])}}};const on=rn;var nn=on;const sn=[{path:"/me/profile",name:"MeProfile",component:xl},{path:"/me/characters",name:"MeCharacters",component:Zl},{path:"/me/characters/heros/:pk",name:"MeCharactersHerosDetail",component:Ta},{path:"/me/worlds",name:"MeWorlds",component:fr},{path:"/me/worlds/:pk",name:"MeWorldsDetail",component:nn}],un={key:0},dn={class:"qp-container"},pn={key:1},cn={class:"qp-container"},mn={"element-loading-background":"transparent",style:{height:"60vh"}};var wn={__name:"qpLoadError",props:{isLoading:{type:Boolean,default:!0},hasError:{type:String,default:null}},setup(e){const t=e;return(e,l)=>{const a=(0,r.up)("el-result"),o=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[t.hasError?((0,r.wg)(),(0,r.iD)("div",un,[(0,r._)("div",dn,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{icon:"error",title:e.$t("Error"),"sub-title":t.hasError},null,8,["title","sub-title"])])),_:1})])])):t.isLoading?((0,r.wg)(),(0,r.iD)("div",pn,[(0,r._)("div",cn,[(0,r.wy)((0,r._)("div",mn,null,512),[[o,t.isLoading]])])])):(0,r.kq)("",!0)])}}};const fn=wn;var vn=fn;const gn=e=>((0,r.dD)("data-v-55e885e9"),e=e(),(0,r.Cn)(),e),_n={class:"qp-vue"},hn={key:0},yn={class:"qp-world-header"},bn=["textContent"],xn={key:1,class:"qp-container"},Cn={class:"qp-world-header-banner"},Wn={class:"qp-world-header-banner-inner"},$n=gn((()=>(0,r._)("div",{class:"image-slot"},null,-1))),qn={class:"qp-world-header-identity"},kn=["textContent"],zn={class:"qp-world-header-identity-description"},Sn=["textContent"],An={class:"qp-world-footer"},jn={class:"qp-world-footer-inner"},Tn={class:"qp-world-footer-copyright"},Dn=["textContent"];var Hn={__name:"WorldView",setup(e){const{t:t}=Le.global,l=(0,i.yj)(),a=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,n.iH)(!0),c=(0,n.iH)(null);(0,r.bv)((()=>{w()}));const m=(0,n.iH)(null),w=async()=>{p.value=!0,c.value=null;try{let e=await fetch(`${Ld}/worlds/${l.params.slug}/`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t,f(t.name),v(t.style)}catch(e){403===e.status?c.value=t("YouDoesntHaveAccessToThisWorld"):404===e.status?c.value=t("ThisWorldDoesntExistAnymore"):c.value=t("AnErrorOccurred")}p.value=!1},f=e=>{document.title=`${e} - ${Rd.name}`},v=e=>{let t;document.getElementById("qp-custom-style")?t=document.getElementById("qp-custom-style"):(t=document.createElement("style"),t.setAttribute("id","qp-custom-style")),e?(t.innerHTML=":root{",t.innerHTML+=`--qp-primary:${e.primary};`,t.innerHTML+=`--qp-app-bg:${e.app_body_bg};`,t.innerHTML+=`--qp-app-txt:${e.app_body_txt};`,t.innerHTML+=`--qp-app-header-bg:${e.app_header_bg};`,t.innerHTML+=`--qp-app-header-txt:${e.app_header_txt};`,t.innerHTML+=`--qp-app-header-txt-hov:${e.app_header_txt_hov};`,t.innerHTML+=`--qp-app-sidebar-bg:${e.app_sidebar_bg};`,t.innerHTML+=`--qp-app-sidebar-txt:${e.app_sidebar_txt};`,t.innerHTML+=`--qp-app-sidebar-accent:${e.app_sidebar_accent};`,t.innerHTML+=`--qp-app-smallbar-bg:${e.app_smallbar_bg};`,t.innerHTML+=`--qp-app-smallbar-txt:${e.app_smallbar_txt};`,t.innerHTML+=`--qp-app-smallbar-accent:${e.app_smallbar_accent};`,t.innerHTML+=`--qp-default-bg:${e.default_bg};`,t.innerHTML+=`--qp-default-txt:${e.default_txt};`,t.innerHTML+=`--qp-default-accented-bg:${e.default_accented_bg};`,t.innerHTML+=`--qp-default-accented-txt:${e.default_accented_txt};`,t.innerHTML+=`--qp-default-disabled-bg:${e.default_disabled_bg};`,t.innerHTML+=`--qp-default-disabled-txt:${e.default_disabled_txt};`,t.innerHTML+=`--qp-form-bg:${e.form_bg};`,t.innerHTML+=`--qp-form-txt:${e.form_txt};`,t.innerHTML+=`--qp-form-placeholder:${e.form_placeholder};`,t.innerHTML+="}",t.innerHTML+=`${e.stylesheet}`):t.innerHTML="",document.head.appendChild(t)},g=()=>{"WorldForum"==l.name?a.go(l.fullPath):a.push({name:"WorldForum",params:{slug:m.value.slug}})};return(e,t)=>{const l=(0,r.up)("el-image"),a=(0,r.up)("el-col"),n=(0,r.up)("el-row"),s=(0,r.up)("router-view");return(0,r.wg)(),(0,r.iD)("div",_n,[p.value||c.value||!m.value?((0,r.wg)(),(0,r.j4)(vn,{key:1,isloading:p.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",hn,[(0,r._)("header",yn,[m.value.style&&"simple"==m.value.style.header?((0,r.wg)(),(0,r.iD)("h1",{key:0,class:"qp-world-header-name",onClick:t[0]||(t[0]=e=>g())},[(0,r._)("span",{textContent:(0,o.zw)(m.value.name)},null,8,bn)])):((0,r.wg)(),(0,r.iD)("div",xn,[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",Cn,[(0,r._)("div",Wn,[m.value.banner?((0,r.wg)(),(0,r.j4)(l,{key:0,src:m.value.banner,fit:"cover"},{error:(0,r.w5)((()=>[$n])),_:1},8,["src"])):(0,r.kq)("",!0)])]),(0,r._)("div",qn,[(0,r._)("h1",{class:"qp-world-header-identity-name",onClick:t[1]||(t[1]=e=>g())},[(0,r._)("span",{textContent:(0,o.zw)(m.value.name)},null,8,kn)]),(0,r._)("p",zn,[(0,r._)("span",{textContent:(0,o.zw)(m.value.description)},null,8,Sn)])])])),_:1})])),_:1})])),_:1})]))]),((0,r.wg)(),(0,r.j4)(s,{key:e.$route.params.slug,world:m.value},null,8,["world"])),(0,r._)("footer",An,[(0,r._)("div",jn,[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r._)("div",Tn,[(0,r._)("small",null,[(0,r._)("span",{textContent:(0,o.zw)(`© ${m.value.copyright} - ${e.$t("AllRightsReserved")}`)},null,8,Dn)])])])),_:1})])),_:1})])])]))])}}};const Vn=(0,z.Z)(Hn,[["__scopeId","data-v-55e885e9"]]);var Un=Vn;const En={class:"qp-forum-breadcrumbs"},On=["onClick"],Fn=["textContent"];var Mn={__name:"qpBreadcrumbs",props:{crumbs:{type:Array,default:()=>[]}},setup(e){const t=e,l=(0,i.tv)(),a=e=>{e&&l.push(e)};return(e,l)=>((0,r.wg)(),(0,r.iD)("nav",En,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.crumbs,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:`crumb-${t}`,onClick:t=>a(e.go)},[(0,r._)("span",{textContent:(0,o.zw)(e.name)},null,8,Fn)],8,On)))),128))])]))}};const Nn=Mn;var Rn=Nn;const Ln=e=>((0,r.dD)("data-v-3231c732"),e=e(),(0,r.Cn)(),e),Pn={class:"qp-forum-header"},Zn={class:"qp-forum-header-title"},In=["textContent"],Yn=["textContent"],Bn=Ln((()=>(0,r._)("hr",{class:"qp-forum-header-divider"},null,-1))),Gn={class:"qp-forum-header-buttons"},Jn=["textContent"],Kn=["textContent"];var Qn={__name:"qpHeader",props:{title:{type:String,default:""},description:{type:String,default:null},crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(l,a)=>{const n=(0,r.up)("el-col"),s=(0,r.up)("el-button"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("header",Pn,[(0,r._)("h2",Zn,[(0,r._)("span",{textContent:(0,o.zw)(t.title)},null,8,In)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,class:"qp-forum-header-description",textContent:(0,o.zw)(t.description)},null,8,Yn)):(0,r.kq)("",!0),Bn,t.crumbs?.length||e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(i,{key:1,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{span:24,sm:e.showBtnChapter||e.showBtnReply?12:24,style:{"padding-left":"0"}},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(Rn,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1},8,["sm"]),e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(n,{key:0,span:24,sm:12,style:{"padding-right":"0"}},{default:(0,r.w5)((()=>[(0,r._)("div",Gn,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:a[0]||(a[0]=e=>l.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,Jn)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:a[1]||(a[1]=e=>l.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("ToReply"))},null,8,Kn)])),_:1})):(0,r.kq)("",!0)])])),_:1})):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0)])}}};const Xn=(0,z.Z)(Qn,[["__scopeId","data-v-3231c732"]]);var es=Xn;const ts=(e,t=!0)=>{const l={year:"numeric",month:"long",day:"numeric",hour:t?"numeric":null,minute:t?"numeric":null,hour12:!1};return new Date(e).toLocaleString("fr",l)},ls=e=>{const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",l="aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(e=>l.charAt(t.indexOf(e)))).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},as=["id"],rs={class:"qp-forum-territory-inner"},os={class:"qp-forum-header"},ns=["textContent"],ss=["textContent"],is=["textContent"],us=["textContent"],ds=["textContent"],ps=["textContent"],cs=["textContent"],ms=["textContent"],ws={class:"qp-forum-header-lastmessage"},fs=["textContent"],vs={key:2,class:"qp-forum-header-lastmessage-unread"},gs={key:0,class:"qp-forum-header-lastmessage-infos"},_s=["textContent"],hs=["textContent"];var ys={__name:"qpTerritoryList",props:{territory:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,i.yj)(),a=(0,i.tv)(),s=e=>{e&&a.push(e)},u=()=>{a.push({name:"WorldForumTerritory",params:{slug:l.params.slug,zone_pk:t.territory.zone.id,zone_slug:ls(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:ls(t.territory.name)}})};return(e,l)=>{const a=(0,r.up)("el-col"),i=(0,r.up)("el-row"),d=(0,r.up)("el-popover"),p=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.territory?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.territory.id}`,class:"qp-forum-territory",style:(0,o.j5)(`flex-basis:${t.territory.flexbasis};`)},[(0,r._)("div",rs,[(0,r._)("header",os,[(0,r.Wm)(d,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>u()),style:(0,o.j5)(t.territory.colour?`color:${t.territory.colour};`:"")},[(0,r._)("span",{textContent:(0,o.zw)(t.territory.name)},null,8,ns)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[t.territory.description?((0,r.wg)(),(0,r.j4)(a,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,o.zw)(t.territory.description)},null,8,ss)])),_:1})):(0,r.kq)("",!0),t.territory.count_sectors?((0,r.wg)(),(0,r.j4)(a,{key:1,span:8,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.territory.count_sectors))},null,8,is),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Sector",t.territory.count_sectors))},null,8,us)])])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.territory.count_chapters))},null,8,ds),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Chapter",t.territory.count_chapters))},null,8,ps)])])),_:1},8,["span"]),(0,r.Wm)(a,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.territory.count_messages))},null,8,cs),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Message",t.territory.count_messages))},null,8,ms)])])),_:1},8,["span"])])),_:1})])),_:1}),(0,r._)("div",ws,[(0,r._)("div",{class:(0,o.C_)("qp-forum-header-lastmessage-avatar "+(t.territory.last_chapter?.last_message?"":"qp-empty"))},[t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(p,{key:0,src:t.territory.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.territory.last_chapter.last_message.author?.initials)},null,8,fs)])),_:1},8,["src"])):(0,r.kq)("",!0),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:l[1]||(l[1]=e=>s(t.territory.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0),t.territory.last_chapter&&t.territory.is_unread?((0,r.wg)(),(0,r.iD)("div",vs,[(0,r.Wm)(c,{class:"mdi mdi-bell"})])):(0,r.kq)("",!0)],2),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",gs,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:l[2]||(l[2]=e=>s(t.territory.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,o.zw)(t.territory.last_chapter.last_message.chapter.title)},null,8,_s),(0,r._)("span",{class:"date",textContent:(0,o.zw)((0,n.SU)(ts)(t.territory.last_chapter.last_message.created_at))},null,8,hs)])])):(0,r.kq)("",!0)])])])],12,as)):(0,r.kq)("",!0)}}};const bs=ys;var xs=bs;const Cs=["id"],Ws={class:"qp-forum-zone-inner"},$s={class:"qp-forum-territories"};var qs={__name:"qpZoneList",props:{world:{type:Object,default:()=>{}},zone:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,i.yj)(),a=(0,r.Fl)((()=>{if("WorldForum"==l.name)return[];let e=[{name:t.world.name,view:"world",data:{world:t.world}}];return e}));return(e,l)=>t.zone?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`z${t.zone.id}`,class:"qp-forum-zone"},[(0,r._)("div",Ws,[(0,r.Wm)(es,{title:t.zone.name,description:t.zone.description,crumbs:(0,n.SU)(a)},null,8,["title","description","crumbs"]),(0,r._)("section",$s,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.zone.territories,((e,t)=>((0,r.wg)(),(0,r.j4)(xs,{key:`territory-${t}`,territory:e},null,8,["territory"])))),128))])])],8,Cs)):(0,r.kq)("",!0)}};const ks=qs;var zs=ks;const Ss={class:"qp-vue qp-forum qp-singleton-index"},As={key:0},js={class:"qp-container"},Ts={key:0,class:"qp-forum-zones"};var Ds={__name:"IndexView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,s.oR)(),o=(0,r.Fl)((()=>a.getters.rat)),i=(0,n.iH)(!0),u=(0,n.iH)(null);(0,r.bv)((()=>{p()}));const d=(0,n.iH)(null),p=async()=>{i.value=!0,u.value=null;try{let e=await fetch(`${Ld}/worlds/forums/${t.world.forum.id}/`,{method:"GET",headers:{Authorization:o.value}}),l=await e.json();if(200!==e.status)throw e;d.value=l}catch(e){403===e.status?u.value=l("YouDoesntHaveAccessToThisForum"):404===e.status?u.value=l("ThisForumDoesntExistAnymore"):u.value=l("AnErrorOccurred")}i.value=!1};return(e,l)=>((0,r.wg)(),(0,r.iD)("div",Ss,[i.value||u.value||!d.value?((0,r.wg)(),(0,r.j4)(vn,{key:1,isloading:i.value,hasError:u.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",As,[(0,r._)("div",js,["WorldForum"==e.$route.name?((0,r.wg)(),(0,r.iD)("section",Ts,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value.zones,((e,l)=>((0,r.wg)(),(0,r.j4)(zs,{key:`zones-${l}`,world:t.world,zone:e},null,8,["world","zone"])))),128))])):(0,r.kq)("",!0)])]))]))}};const Hs=Ds;var Vs=Hs;const Us={class:"qp-vue qp-forum qp-singleton-zone"},Es={key:0},Os={class:"qp-container"},Fs={class:"qp-forum-zones"},Ms=["id"],Ns={class:"qp-forum-zone-inner"},Rs={class:"qp-forum-territories"};var Ls={__name:"ZoneView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.yj)(),o=(0,s.oR)(),u=(0,r.Fl)((()=>o.getters.rat)),d=(0,n.iH)(!0),p=(0,n.iH)(null),c=(0,r.Fl)((()=>{let e=[{name:m.value.forum.name,go:`/w/${a.params.slug}/forum`}];return e}));(0,r.bv)((()=>{w()}));const m=(0,n.iH)(null),w=async()=>{d.value=!0,p.value=null;try{let e=await fetch(`${Ld}/worlds/zones/${a.params.zone_pk}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t}catch(e){403===e.status?p.value=l("YouDoesntHaveAccessToThisZone"):404===e.status?p.value=l("ThisZoneDoesntExistAnymore"):p.value=l("AnErrorOccurred")}d.value=!1};return(e,l)=>((0,r.wg)(),(0,r.iD)("div",Us,[d.value||p.value||!m.value?((0,r.wg)(),(0,r.j4)(vn,{key:1,isloading:d.value,hasError:p.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Es,[(0,r._)("div",Os,[(0,r._)("section",Fs,[(0,r._)("article",{id:`z${m.value.id}`,class:"qp-forum-zone"},[(0,r._)("div",Ns,[(0,r.Wm)(es,{title:m.value.name,description:m.value.description,crumbs:(0,n.SU)(c)},null,8,["title","description","crumbs"]),(0,r._)("section",Rs,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.value.territories,((e,l)=>((0,r.wg)(),(0,r.j4)(xs,{key:`territory-${l}`,world:t.world,territory:e},null,8,["world","territory"])))),128))])])],8,Ms)])])]))]))}};const Ps=Ls;var Zs=Ps;const Is=e=>((0,r.dD)("data-v-b4de7354"),e=e(),(0,r.Cn)(),e),Ys=["textContent"],Bs={class:"qp-quests-list"},Gs={class:"qp-quests-item"},Js={class:"qp-quests-item-icon"},Ks={class:"qp-quests-item-text"},Qs=Is((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Récolter des plantes"},null,-1))),Xs=["textContent"],ei={class:"qp-quests-item-progress"},ti={class:"qp-quests-item"},li={class:"qp-quests-item-icon"},ai={class:"qp-quests-item-text"},ri=Is((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Problème de vermine"},null,-1))),oi=["textContent"],ni={class:"qp-quests-item-progress"},si=["textContent"];var ii={__name:"qpCardQuestsList",setup(e){return(e,t)=>{const l=(0,r.up)("el-icon"),a=(0,r.up)("el-progress"),n=(0,r.up)("el-button");return(0,r.wg)(),(0,r.j4)(gt,{h:"auto"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Quests"))},null,8,Ys)])),default:(0,r.w5)((()=>[(0,r._)("ul",Bs,[(0,r._)("li",Gs,[(0,r._)("div",Js,[(0,r.Wm)(l,{class:"mdi mdi-leaf"})]),(0,r._)("div",Ks,[Qs,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,o.zw)("Parcourir les alentours pour trouver des plantes utiles.")},null,8,Xs)]),(0,r._)("div",ei,[(0,r.Wm)(a,{percentage:50,"stroke-width":4,"show-text":!1})])]),(0,r._)("li",ti,[(0,r._)("div",li,[(0,r.Wm)(l,{class:"mdi mdi-sword"})]),(0,r._)("div",ai,[ri,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,o.zw)("Éliminer les créatures qui ont envahi la région et détruisent les récoltes.")},null,8,oi)]),(0,r._)("div",ni,[(0,r.Wm)(a,{percentage:50,"stroke-width":4,"show-text":!1})])])]),(0,r.Wm)(n,{size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("SeeAllQuests"))},null,8,si)])),_:1})])),_:1})}}};const ui=(0,z.Z)(ii,[["__scopeId","data-v-b4de7354"]]);var di=ui;const pi={class:"qp-forum-writing-newchapter"},ci={class:"qp-forum-writing-newchapter-form"},mi=["innerHTML"],wi=["textContent"],fi=["textContent"];var vi={__name:"qpWritingChapter",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),c=(0,r.Fl)((()=>u.getters.heros));(0,r.bv)((()=>{w()}));const m=(0,n.iH)([]),w=()=>{m.value=[];for(const e of c.value)e.world.id==t.world.id&&m.value.push(e)},f=(0,n.iH)(null),v=(0,n.iH)(!1),g=(0,n.iH)(),_=(0,n.qj)({title:"",character:null,text:""}),h=(0,n.qj)({title:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}],character:[{required:!0,message:l("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),y=async()=>{f.value=null,v.value=!0,await g.value.validate(((e,t)=>{if(e)b();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)f.value=`${t} : ${e.message}`}v.value=!1}}))},b=async()=>{f.value=null,v.value=!0;try{let e=new FormData;e.append("title",_.title),e.append("author",_.character),e.append("territory",t.territory.id),t.sector&&e.append("sector",t.sector.id);let a=await fetch(`${Ld}/worlds/territories/${t.territory.id}/chapters/create/`,{method:"POST",headers:{Authorization:p.value},body:e}),r=await a.json();if(201===a.status)x(r.id);else for(let[t,o]of Object.entries(r)){let e=l(`error${t}`);for(let t of o)f.value=`${e} : ${t}`}}catch(e){f.value=`${l("AnErrorOccurred")} : ${e}`}v.value=!1},x=async e=>{f.value=null,v.value=!0;try{let t=new FormData;t.append("chapter",e),t.append("author",_.character),t.append("text",_.text);let r=await fetch(`${Ld}/worlds/chapters/${e}/messages/create/`,{method:"POST",headers:{Authorization:p.value},body:t}),o=await r.json();if(201===r.status)a.push(o.route);else for(let[e,a]of Object.entries(o)){let t=l(`error${e}`);for(let e of a)f.value=`${t} : ${e}`}}catch{f.value=l("AnErrorOccurred")}v.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-option"),i=(0,r.up)("el-select"),u=(0,r.up)("el-form"),p=(0,r.up)("el-col"),c=(0,r.up)("el-alert"),w=(0,r.up)("el-button"),b=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",pi,[(0,r.Wm)(es,{title:e.$t("Writing"),description:e.$t("NewChapter")},null,8,["title","description"]),(0,r._)("section",ci,[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{style:(0,o.j5)((0,n.SU)(d).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{ref_key:"formNewChapterRef",ref:g,model:_,"label-position":(0,n.SU)(d).win.w<1200?"top":"right",rules:h,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Title"),prop:"title"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:_.title,"onUpdate:modelValue":t[0]||(t[0]=e=>_.title=e),type:"text",placeholder:e.$t("NewChapterTitle")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:_.character,"onUpdate:modelValue":t[1]||(t[1]=e=>_.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.value,((e,t)=>((0,r.wg)(),(0,r.j4)(s,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:_.text,"onUpdate:modelValue":t[2]||(t[2]=e=>_.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),f.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:f.value},null,8,mi)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,{disabled:v.value,onClick:t[3]||(t[3]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,wi)])),_:1},8,["disabled"]),(0,r.Wm)(w,{loading:v.value,type:"primary",onClick:t[4]||(t[4]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,fi)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const gi=(0,z.Z)(vi,[["__scopeId","data-v-04f2205a"]]);var _i=gi;const hi=["id"],yi={class:"qp-forum-sector-inner"},bi={class:"qp-forum-header"},xi=["textContent"],Ci=["textContent"],Wi=["textContent"],$i=["textContent"],qi=["textContent"],ki=["textContent"],zi={key:0,class:"qp-forum-header-lastmessage"},Si=["textContent"],Ai={key:2,class:"qp-forum-header-lastmessage-unread"},ji={key:0,class:"qp-forum-header-lastmessage-infos"},Ti=["textContent"],Di=["textContent"];var Hi={__name:"qpSectorList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,i.yj)(),a=(0,i.tv)(),s=e=>{e&&a.push(e)},u=()=>{a.push({name:"WorldForumSector",params:{slug:l.params.slug,zone_pk:l.params.zone_pk,zone_slug:l.params.zone_slug,territory_pk:l.params.territory_pk,territory_slug:l.params.territory_slug,sector_pk:t.sector.id,sector_slug:ls(t.sector.name)}})};return(e,l)=>{const a=(0,r.up)("el-col"),i=(0,r.up)("el-row"),d=(0,r.up)("el-popover"),p=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.sector?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.sector.id}`,class:"qp-forum-sector",style:(0,o.j5)(`flex-basis:${t.sector.flexbasis};`)},[(0,r._)("div",yi,[(0,r._)("header",bi,[(0,r.Wm)(d,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>u()),style:(0,o.j5)(t.sector.colour?`color:${t.sector.colour};`:"")},[(0,r._)("span",{textContent:(0,o.zw)(t.sector.name)},null,8,xi)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[t.sector.description?((0,r.wg)(),(0,r.j4)(a,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,o.zw)(t.sector.description)},null,8,Ci)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.sector.count_chapters))},null,8,Wi),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Chapter",t.sector.count_chapters))},null,8,$i)])])),_:1}),(0,r.Wm)(a,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.sector.count_messages))},null,8,qi),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Message",t.sector.count_messages))},null,8,ki)])])),_:1})])),_:1})])),_:1}),t.sector.last_chapter?((0,r.wg)(),(0,r.iD)("div",zi,[(0,r._)("div",{class:(0,o.C_)("qp-forum-header-lastmessage-avatar "+(t.sector.last_chapter?.last_message?"":"qp-empty"))},[t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(p,{key:0,src:t.sector.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.sector.last_chapter.last_message.author?.initials)},null,8,Si)])),_:1},8,["src"])):(0,r.kq)("",!0),t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:l[1]||(l[1]=e=>s(t.sector.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0),t.sector.last_chapter&&t.sector.is_unread?((0,r.wg)(),(0,r.iD)("div",Ai,[(0,r.Wm)(c,{class:"mdi mdi-bell"})])):(0,r.kq)("",!0)],2),t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",ji,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:l[2]||(l[2]=e=>s(t.sector.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,o.zw)(t.sector.last_chapter.last_message.chapter.title)},null,8,Ti),(0,r._)("span",{class:"date",textContent:(0,o.zw)((0,n.SU)(ts)(t.sector.last_chapter.last_message.chapter.created_at))},null,8,Di)])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])])],12,hi)):(0,r.kq)("",!0)}}};const Vi=Hi;var Ui=Vi;const Ei=["id"],Oi={class:"qp-forum-chapter-inner"},Fi={class:"qp-forum-header"},Mi={class:"qp-forum-header-profile"},Ni={class:"qp-forum-header-profile-banner"},Ri=(0,r._)("div",{class:"image-slot"},null,-1),Li={class:"qp-forum-header-profile-avatar"},Pi=["textContent"],Zi={key:0,class:"qp-forum-header-profile-unread"},Ii=["textContent"],Yi={class:"qp-forum-header-date"},Bi=["textContent"],Gi={class:"qp-forum-header-infos"},Ji={class:"qp-forum-header-infos-lastmessagedate"},Ki=["textContent"],Qi=["textContent"],Xi={class:"qp-forum-header-infos-countmessages"},eu=["textContent"];var tu={__name:"qpChapterList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,i.tv)(),a=()=>{l.push({name:"WorldForumTerritoryChapter",params:{slug:t.world.slug,zone_pk:t.territory.zone.id,zone_slug:ls(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:ls(t.territory.name),chapter_pk:t.chapter.id,chapter_slug:ls(t.chapter.title)}})};return(e,l)=>{const s=(0,r.up)("el-image"),i=(0,r.up)("el-avatar"),u=(0,r.up)("el-icon");return t.chapter?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`c${t.chapter.id}`,class:"qp-forum-chapter"},[(0,r._)("div",Oi,[(0,r._)("header",Fi,[(0,r._)("div",Mi,[(0,r._)("div",Ni,[t.chapter.author?.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:t.chapter.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Ri])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",Li,[(0,r.Wm)(i,{src:t.chapter.last_message?.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.chapter.last_message?.author?.initials)},null,8,Pi)])),_:1},8,["src"]),t.chapter.last_message&&t.chapter.is_unread?((0,r.wg)(),(0,r.iD)("div",Zi,[(0,r.Wm)(u,{class:"mdi mdi-bell"})])):(0,r.kq)("",!0)])]),(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>a())},[(0,r._)("span",{textContent:(0,o.zw)(t.chapter.title)},null,8,Ii)]),(0,r._)("p",Yi,[t.chapter.date?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,o.zw)(t.chapter.date)},null,8,Bi)):(0,r.kq)("",!0)]),(0,r._)("ul",Gi,[(0,r._)("li",Ji,[(0,r.Wm)(u,{class:"mdi mdi-clock-outline"}),t.chapter.last_message?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,o.zw)((0,n.SU)(ts)(t.chapter.last_message.created_at))},null,8,Ki)):((0,r.wg)(),(0,r.iD)("span",{key:1,textContent:(0,o.zw)(e.$t("Never"))},null,8,Qi))]),(0,r._)("li",Xi,[(0,r.Wm)(u,{class:"mdi mdi-message-text-outline"}),(0,r._)("span",{textContent:(0,o.zw)(t.chapter.count_messages)},null,8,eu)])])])])],8,Ei)):(0,r.kq)("",!0)}}};const lu=tu;var au=lu;const ru={class:"qp-vue qp-forum qp-singleton-territory"},ou={key:0},nu={class:"qp-container"},su={class:"qp-forum-territories"},iu=["id"],uu={class:"qp-forum-territory-inner"},du={class:"qp-forum-sectors"},pu={key:0},cu=(0,r.Uk)(" (en construction) "),mu=["textContent"],wu={class:"qp-forum-chapters"};var fu={__name:"TerritoryView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.yj)(),u=(0,i.tv)(),d=(0,s.oR)(),p=(0,r.Fl)((()=>d.getters.rat)),c=(0,n.iH)(!0),m=(0,n.iH)(null),w=(0,r.Fl)((()=>{let e=[{name:f.value.forum.name,go:`/w/${a.params.slug}/forum`}];return f.value&&e.push({name:f.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),e}));(0,r.bv)((()=>{v()}));const f=(0,n.iH)(null),v=async()=>{c.value=!0,m.value=null;try{let e=await fetch(`${Ld}/worlds/territories/${a.params.territory_pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;f.value=t}catch(e){403===e.status?m.value=l("YouDoesntHaveAccessToThisTerritory"):404===e.status?m.value=l("ThisTerritoryDoesntExistAnymore"):m.value=l("AnErrorOccurred")}c.value=!1},g=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),_=e=>{u.push({name:"WorldForumTerritory",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:f.value.id,territory_slug:ls(f.value.name)},query:{page:e}})},h=(0,n.iH)(!1),y=()=>{h.value=!0},b=()=>{h.value=!1};return(l,a)=>{const s=(0,r.up)("el-col"),i=(0,r.up)("el-pagination"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",ru,[c.value||m.value||!f.value?((0,r.wg)(),(0,r.j4)(vn,{key:1,isloading:c.value,hasError:m.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",ou,[(0,r._)("div",nu,[(0,r._)("section",su,[(0,r._)("article",{id:`t${f.value.id}`,class:"qp-forum-territory"},[(0,r._)("div",uu,[(0,r.Wm)(es,{title:f.value.name,description:f.value.description,crumbs:(0,n.SU)(w)},null,8,["title","description","crumbs"]),h.value?((0,r.wg)(),(0,r.j4)(_i,{key:1,world:e.world,territory:f.value,onClose:a[1]||(a[1]=e=>b())},null,8,["world","territory"])):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("section",du,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.value.sectors,((e,l)=>((0,r.wg)(),(0,r.j4)(Ui,{key:`sector-${l}`,world:t.world,territory:f.value,sector:e},null,8,["world","territory","sector"])))),128)),f.value.sectors?.length?((0,r.wg)(),(0,r.iD)("hr",pu)):(0,r.kq)("",!0)]),(0,r._)("section",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[cu])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",bgcolor:"primary",onClick:a[0]||(a[0]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,mu)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",wu,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.value.chapters,((e,l)=>((0,r.wg)(),(0,r.j4)(au,{key:`chapter-${l}`,world:t.world,territory:f.value,chapter:e},null,8,["world","territory","chapter"])))),128)),f.value.chapters.length?((0,r.wg)(),(0,r.j4)(i,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:f.value.count_chapters,"page-size":f.value.perpage_chapters,"current-page":(0,n.SU)(g),"onUpdate:currentPage":_},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(di)])),_:1})])),_:1})])],64))])],8,iu)])])]))])}}};const vu=fu;var gu=vu;const _u={class:"qp-vue qp-forum qp-singleton-sector"},hu={key:0},yu={class:"qp-container"},bu={class:"qp-forum-territories"},xu=["id"],Cu={class:"qp-forum-sector-inner"},Wu={key:0},$u=(0,r.Uk)(" (en construction) "),qu=["textContent"],ku={class:"qp-forum-chapters"};var zu={__name:"SectorView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.yj)(),u=(0,i.tv)(),d=(0,s.oR)(),p=(0,r.Fl)((()=>d.getters.rat)),c=(0,n.iH)(!0),m=(0,n.iH)(null),w=(0,r.Fl)((()=>{let e=[{name:f.value.forum.name,go:`/w/${a.params.slug}/forum`}];return f.value?.zone&&e.push({name:f.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),f.value?.territory&&e.push({name:f.value.territory.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}`}),e}));(0,r.bv)((()=>{v()}));const f=(0,n.iH)(null),v=async()=>{c.value=!0,m.value=null;try{let e=await fetch(`${Ld}/worlds/sectors/${a.params.sector_pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;f.value=t}catch(e){403===e.status?m.value=l("YouDoesntHaveAccessToThisSector"):404===e.status?m.value=l("ThisSectorDoesntExistAnymore"):m.value=l("AnErrorOccurred")}c.value=!1},g=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),_=e=>{u.push({name:"WorldForumSector",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,sector_pk:f.value.id,sector_slug:ls(f.value.name)},query:{page:e}})},h=(0,n.iH)(!1),y=()=>{h.value=!0},b=()=>{h.value=!1};return(l,a)=>{const s=(0,r.up)("el-col"),i=(0,r.up)("el-pagination"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",_u,[c.value||m.value||!f.value?((0,r.wg)(),(0,r.j4)(vn,{key:1,isloading:c.value,hasError:m.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",hu,[(0,r._)("div",yu,[(0,r._)("section",bu,[(0,r._)("article",{id:`s${f.value.id}`,class:"qp-forum-sector"},[(0,r._)("div",Cu,[(0,r.Wm)(es,{title:f.value.name,description:f.value.description,crumbs:(0,n.SU)(w)},null,8,["title","description","crumbs"]),h.value?((0,r.wg)(),(0,r.j4)(_i,{key:1,type:"chapter",world:e.world,territory:f.value.territory,sector:f.value,onClose:a[1]||(a[1]=e=>b())},null,8,["world","territory","sector"])):((0,r.wg)(),(0,r.iD)("section",Wu,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[$u])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",bgcolor:"primary",onClick:a[0]||(a[0]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,qu)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",ku,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.value.chapters,((e,l)=>((0,r.wg)(),(0,r.j4)(au,{key:`chapter-${l}`,world:t.world,territory:f.value.territory,sector:f.value,chapter:e},null,8,["world","territory","sector","chapter"])))),128)),f.value.chapters.length?((0,r.wg)(),(0,r.j4)(i,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:f.value.count_chapters,"page-size":f.value.perpage_chapters,"current-page":(0,n.SU)(g),"onUpdate:currentPage":_},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(di)])),_:1})])),_:1})]))])],8,xu)])])]))])}}};const Su=zu;var Au=Su;const ju={class:"qp-forum-footer"},Tu={class:"qp-forum-footer-buttons"},Du=["textContent"],Hu=["textContent"];var Vu={__name:"qpFooter",props:{crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(l,a)=>{const n=(0,r.up)("el-col"),s=(0,r.up)("el-button"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("footer",ju,[(0,r.Wm)(i,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{span:24,sm:12},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(Rn,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(n,{span:24,sm:12},{default:(0,r.w5)((()=>[(0,r._)("div",Tu,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:a[0]||(a[0]=e=>l.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,Du)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:a[1]||(a[1]=e=>l.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("ToReply"))},null,8,Hu)])),_:1})):(0,r.kq)("",!0)])])),_:1})])),_:1})])}}};const Uu=(0,z.Z)(Vu,[["__scopeId","data-v-6adf28f5"]]);var Eu=Uu,Ou=l(327);const Fu=e=>{let t=e;return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replaceAll("\n","<br />").replaceAll("[g]",'<span style="font-weight:bold;">').replaceAll("[/g]","</span>").replaceAll("[i]",'<span style="font-style:italic;">').replaceAll("[/i]","</span>").replaceAll("[s]",'<span style="text-decoration:underline;">').replaceAll("[/s]","</span>").replaceAll("[b]",'<span style="text-decoration:line-through;">').replaceAll("[/b]","</span>").replaceAll("[gauche]",'<div style="text-align:left;">').replaceAll("[/gauche]","</div>").replaceAll("[centre]",'<div style="text-align:center;">').replaceAll("[/centre]","</div>").replaceAll("[droite]",'<div style="text-align:right;">').replaceAll("[/droite]","</div>").replace(/\[c=#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\]/g,'<span style="color:#$1;">').replace(/\[c=([a-zA-Z0-9_]+)\]/g,'<span style="color:var(--c-$1);">').replaceAll("[/c]","</span>").replace(/\[p=(Indie Flower|Oswald|Quicksand|Roboto Condensed)\]/g,"<span style=\"font-family:'$1';\">").replaceAll("[/p]","</span>").replace(/\[url=([^<>[\]]+)\]/g,'<a href="$1">').replaceAll("[/url]","</a>").replace(/\[urlo=([^<>[\]]+)\]/g,'<a href="$1" target="_blank">').replaceAll("[/urlo]","</a>").replace(/\[img=([^<>[\]]+)\]/g,'<img src="$1" alt="" />').replace(/\[ico=([a-z- ]+)\]/g,'<i class="mdi $1"></i>'),t},Mu={class:"qp-forum-writing-editmessage"},Nu={class:"qp-forum-writing-editmessage-form"},Ru=["innerHTML"],Lu=["textContent"],Pu=["textContent"];var Zu={__name:"qpWritingEdit",props:{message:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat));(0,r.bv)((()=>{c()}));const c=()=>{v.text=t.message.text},m=(0,n.iH)(null),w=(0,n.iH)(!1),f=(0,n.iH)(),v=(0,n.qj)({text:""}),g=(0,n.qj)({text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),_=async()=>{m.value=null,w.value=!0,await f.value.validate(((e,t)=>{if(e)h();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)m.value=`${t} : ${e.message}`}w.value=!1}}))},h=async()=>{m.value=null,w.value=!0;try{let e=new FormData;e.append("text",v.text);let r=await fetch(`${Ld}/worlds/messages/${t.message.id}/edit/`,{method:"PATCH",headers:{Authorization:p.value},body:e}),o=await r.json();if(200===r.status)a.go(o.route);else{for(let[e,t]of Object.entries(o)){let a=l(`error${e}`);for(let e of t)m.value=`${a} : ${e}`}w.value=!1}}catch{m.value=l("AnErrorOccurred"),w.value=!1}};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-form"),i=(0,r.up)("el-col"),u=(0,r.up)("el-alert"),p=(0,r.up)("el-button"),c=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",Mu,[(0,r._)("section",Nu,[(0,r.Wm)(c,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{style:(0,o.j5)((0,n.SU)(d).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{ref_key:"formEditMessageRef",ref:f,model:v,"label-position":(0,n.SU)(d).win.w<1200?"top":"right",rules:g,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:v.text,"onUpdate:modelValue":t[0]||(t[0]=e=>v.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),m.value?((0,r.wg)(),(0,r.j4)(i,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:m.value},null,8,Ru)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{disabled:w.value,onClick:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Lu)])),_:1},8,["disabled"]),(0,r.Wm)(p,{loading:w.value,type:"primary",onClick:t[2]||(t[2]=e=>_())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Pu)])),_:1},8,["loading"])])),_:1})])),_:1})])])}}};const Iu=(0,z.Z)(Zu,[["__scopeId","data-v-0c0a4a34"]]);var Yu=Iu;const Bu=e=>((0,r.dD)("data-v-2d53a7a2"),e=e(),(0,r.Cn)(),e),Gu=["id"],Ju={class:"qp-forum-message-inner"},Ku={class:"qp-forum-header"},Qu={class:"qp-forum-header-profile"},Xu={class:"qp-forum-header-profile-banner"},ed=Bu((()=>(0,r._)("div",{class:"image-slot"},null,-1))),td={class:"qp-forum-header-profile-avatar"},ld=["textContent"],ad={class:"qp-forum-header-profile-infos"},rd={class:"qp-forum-header-profile-name"},od=["textContent"],nd={class:"qp-forum-header-profile-date"},sd=["textContent"],id={key:1,class:"qp-forum-message-text"},ud={class:"qp-forum-message-text-inner"},dd=["innerHTML"],pd={class:"qp-forum-message-footer"},cd={key:0};var md={__name:"qpMessage",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}},message:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.yj)(),u=(0,i.tv)(),d=(0,s.oR)(),p=(0,r.Fl)((()=>d.getters.rat)),c=(0,r.Fl)((()=>d.getters.player)),m=(0,n.iH)(!1),w=()=>{m.value=!0,Nr.T.confirm(l("Areyousureyouwanttodeletethismessage"),l("DeleteMessage"),{confirmButtonText:l("Delete"),cancelButtonText:l("Cancel"),type:"warning"}).then((()=>{f()})).catch((()=>{m.value=!1}))},f=async()=>{m.value=!0;try{let e=new FormData;e.append("id",t.message.id);let r=await fetch(`${Ld}/worlds/messages/${t.message.id}/delete/`,{method:"DELETE",headers:{Authorization:p.value},body:e});204===r.status?(u.go(a.fullPath),(0,Ou.bM)({title:l("Success"),message:l("MessageDeletedSuccessfully"),type:"success"})):((0,Ou.bM)({title:l("Error"),message:l("AnErrorOccurred"),type:"error"}),m.value=!1)}catch(e){(0,Ou.bM)({title:l("Error"),message:`${l("AnErrorOccurred")} : ${e}`,type:"error"}),m.value=!1}},v=(0,n.iH)(!1),g=()=>{v.value=!0},_=()=>{v.value=!1};return(e,l)=>{const a=(0,r.up)("el-image"),s=(0,r.up)("el-avatar"),i=(0,r.up)("el-icon"),u=(0,r.up)("el-button"),d=(0,r.up)("el-tooltip"),f=(0,r.Q2)("loading");return t.message?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`m${t.message.id}`,class:"qp-forum-message"},[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Ju,[(0,r._)("header",Ku,[(0,r._)("div",Qu,[(0,r._)("div",Xu,[t.message.author.avatar?((0,r.wg)(),(0,r.j4)(a,{key:0,src:t.message.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[ed])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",td,[(0,r.Wm)(s,{src:t.message.author.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.message.author.initials)},null,8,ld)])),_:1},8,["src"])]),(0,r._)("div",ad,[(0,r._)("div",rd,[(0,r._)("span",{textContent:(0,o.zw)(t.message.author.name)},null,8,od)]),(0,r._)("div",nd,[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(ts)(t.message.created_at))},null,8,sd)])])])]),v.value?((0,r.wg)(),(0,r.j4)(Yu,{key:0,message:t.message,onClose:l[0]||(l[0]=e=>_())},null,8,["message"])):((0,r.wg)(),(0,r.iD)("div",id,[(0,r._)("div",ud,[(0,r._)("div",{innerHTML:(0,n.SU)(Fu)(t.message.text)},null,8,dd)])])),(0,r._)("footer",pd,[(0,n.SU)(p)&&(0,n.SU)(c)?.id==t.message.author?.player?.id&&!v.value?((0,r.wg)(),(0,r.iD)("div",cd,[(0,r.Wm)(d,{content:e.$t("EditMessage"),placement:"bottom-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{size:"small",onClick:l[1]||(l[1]=e=>g())},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"mdi mdi-pencil"})])),_:1})])),_:1},8,["content"]),(0,r.Wm)(d,{content:e.$t("DeleteMessage"),placement:"bottom-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{size:"small",onClick:l[2]||(l[2]=e=>w())},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"mdi mdi-close"})])),_:1})])),_:1},8,["content"])])):(0,r.kq)("",!0)])])),[[f,m.value]])],8,Gu)):(0,r.kq)("",!0)}}};const wd=(0,z.Z)(md,[["__scopeId","data-v-2d53a7a2"]]);var fd=wd;const vd={class:"qp-forum-writing-newchapter"},gd={class:"qp-forum-writing-newchapter-form"},_d=["innerHTML"],hd=["textContent"],yd=["textContent"];var bd={__name:"qpWritingReply",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),c=(0,r.Fl)((()=>u.getters.heros));(0,r.bv)((()=>{w()}));const m=(0,n.iH)([]),w=()=>{m.value=[];for(const e of c.value)e.world.id==t.world.id&&m.value.push(e)},f=(0,n.iH)(null),v=(0,n.iH)(!1),g=(0,n.iH)(),_=(0,n.qj)({character:null,text:""}),h=(0,n.qj)({character:[{required:!0,message:l("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),y=async()=>{f.value=null,v.value=!0,await g.value.validate(((e,t)=>{if(e)b();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)f.value=`${t} : ${e.message}`}v.value=!1}}))},b=async()=>{f.value=null,v.value=!0;try{let e=new FormData;e.append("chapter",t.chapter.id),e.append("author",_.character),e.append("text",_.text);let r=await fetch(`${Ld}/worlds/chapters/${t.chapter.id}/messages/create/`,{method:"POST",headers:{Authorization:p.value},body:e}),o=await r.json();if(201===r.status)a.push(o.route);else for(let[t,a]of Object.entries(o)){let e=l(`error${t}`);for(let t of a)f.value=`${e} : ${t}`}}catch{f.value=l("AnErrorOccurred")}v.value=!1};return(e,t)=>{const l=(0,r.up)("el-option"),a=(0,r.up)("el-select"),s=(0,r.up)("el-form-item"),i=(0,r.up)("el-input"),u=(0,r.up)("el-form"),p=(0,r.up)("el-col"),c=(0,r.up)("el-alert"),w=(0,r.up)("el-button"),b=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",vd,[(0,r.Wm)(es,{title:e.$t("Writing"),description:e.$t("ToReply")},null,8,["title","description"]),(0,r._)("section",gd,[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{style:(0,o.j5)((0,n.SU)(d).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{ref_key:"formNewReplyRef",ref:g,model:_,"label-position":(0,n.SU)(d).win.w<1200?"top":"right",rules:h,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:_.character,"onUpdate:modelValue":t[0]||(t[0]=e=>_.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.value,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(s,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:_.text,"onUpdate:modelValue":t[1]||(t[1]=e=>_.text=e),type:"textarea",rows:12,placeholder:e.$t("YourReply")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),f.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(c,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:f.value},null,8,_d)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(w,{disabled:v.value,onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,hd)])),_:1},8,["disabled"]),(0,r.Wm)(w,{loading:v.value,type:"primary",onClick:t[3]||(t[3]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,yd)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const xd=(0,z.Z)(bd,[["__scopeId","data-v-77c5f4d2"]]);var Cd=xd;const Wd={class:"qp-vue qp-forum qp-singleton-zone"},$d={key:0},qd={class:"qp-container"},kd={key:0,class:"qp-forum-chapters"},zd=["id"],Sd={class:"qp-forum-chapter-inner"},Ad={key:0,class:"qp-forum-messages"},jd={key:1,id:"reply",class:"qp-forum-writing"};var Td={__name:"ChapterView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,i.yj)(),o=(0,i.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,n.iH)(!0),c=(0,n.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:w.value.forum.name,go:`/w/${a.params.slug}/forum`}];return w.value&&e.push({name:w.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),w.value&&e.push({name:w.value.territory.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}`}),w.value?.sector&&e.push({name:w.value.sector.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}/s${a.params.sector_pk}-${a.params.sector_slug}`}),e}));(0,r.bv)((()=>{v()}));const w=(0,n.iH)(null),f=(0,n.iH)(null),v=async()=>{p.value=!0,c.value=null;try{let e=await fetch(`${Ld}/worlds/chapters/${a.params.chapter_pk}/`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t,g()}catch(e){403===e.status?c.value=l("YouDoesntHaveAccessToThisChapter"):404===e.status?c.value=l("ThisChapterDoesntExistAnymore"):c.value=l("AnErrorOccurred")}p.value=!1},g=async()=>{p.value=!0,c.value=null;try{let e=await fetch(`${Ld}/worlds/chapters/${a.params.chapter_pk}/messages/?page=${h.value}`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;f.value=t,_()}catch(e){403===e.status?c.value=l("YouDoesntHaveAccessToThisChapter"):404===e.status?c.value=l("ThisPageDoesntExistAnymore"):c.value=l("AnErrorOccurred")}p.value=!1},_=()=>{setTimeout((()=>{if(a.hash&&(a.hash.startsWith("#c")||a.hash.startsWith("#m"))){const e=document.getElementById(a.hash.replace("#","")),t=document.getElementById("qp-app-main").firstChild.firstChild;e&&t.scrollTo({top:e.offsetTop,behavior:"smooth"})}}),200)},h=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),y=e=>{let t="WorldForumTerritoryChapter",l={name:t,params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,chapter_pk:a.params.chapter_pk,chapter_slug:a.params.chapter_slug},query:{page:e}};w.value?.sector&&(l.name="WorldForumSectorChapter",l.params["sector_pk"]=a.params.sector_pk,l.params["sector_slug"]=a.params.sector_slug),o.push(l)},b=(0,n.iH)(!1),x=()=>{b.value=!0,setTimeout((()=>{const e=document.getElementById("reply");e?.scrollIntoView()}),100)},C=()=>{b.value=!1};return(e,l)=>{const a=(0,r.up)("el-pagination"),o=(0,r.up)("el-icon"),s=(0,r.up)("el-button"),i=(0,r.up)("el-tooltip"),u=(0,r.up)("el-col"),d=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",Wd,[p.value||c.value||!w.value?((0,r.wg)(),(0,r.j4)(vn,{key:1,isloading:p.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",$d,[(0,r._)("div",qd,[w.value?((0,r.wg)(),(0,r.iD)("section",kd,[(0,r._)("article",{id:`c${w.value.id}`,class:"qp-forum-chapter"},[(0,r._)("div",Sd,[(0,r.Wm)(es,{"show-btn-reply":"",title:w.value.title,description:w.value.description,crumbs:(0,n.SU)(m),onOpenNewReply:l[0]||(l[0]=e=>x())},null,8,["title","description","crumbs"]),f.value?((0,r.wg)(),(0,r.iD)("section",Ad,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(f.value.results,((e,l)=>((0,r.wg)(),(0,r.j4)(fd,{key:`message-${l}`,world:t.world,chapter:w.value,message:e},null,8,["world","chapter","message"])))),128))])):(0,r.kq)("",!0),(0,r.Wm)(Eu,{"show-btn-reply":"",crumbs:(0,n.SU)(m),onOpenNewReply:l[1]||(l[1]=e=>x())},null,8,["crumbs"]),f.value?.results.length?((0,r.wg)(),(0,r.j4)(a,{key:1,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:f.value.count,"page-size":f.value.size,"current-page":(0,n.SU)(h),"onUpdate:currentPage":y},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])],8,zd),(0,r._)("footer",null,[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:24,md:12},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{content:e.$t("DeleteChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"mdi mdi-delete-forever"})])),_:1})])),_:1},8,["content"]),w.value.is_locked?((0,r.wg)(),(0,r.j4)(i,{key:0,content:e.$t("UnlockChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"mdi mdi-lock-open"})])),_:1})])),_:1},8,["content"])):((0,r.wg)(),(0,r.j4)(i,{key:1,content:e.$t("LockChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"mdi mdi-lock"})])),_:1})])),_:1},8,["content"]))])),_:1}),(0,r.Wm)(u,{span:24,md:12})])),_:1})])])):(0,r.kq)("",!0),b.value?((0,r.wg)(),(0,r.iD)("section",jd,[(0,r.Wm)(Cd,{world:t.world,chapter:w.value,onClose:l[2]||(l[2]=e=>C())},null,8,["world","chapter"])])):(0,r.kq)("",!0)])]))])}}};const Dd=Td;var Hd=Dd;const Vd=[{path:"/w/:slug",name:"World",component:Un,children:[{path:"forum",name:"WorldForum",component:Vs},{path:"forum/z:zone_pk(\\d+)-:zone_slug",name:"WorldForumZone",component:Zs},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug",name:"WorldForumTerritory",component:gu},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumTerritoryChapter",component:Hd},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug",name:"WorldForumSector",component:Au},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumSectorChapter",component:Hd}]}],Ud=[{path:"/",name:"Home",component:ct},{path:"/:catchAll(.*)",name:"Error",component:Ct}];Ud.push(...Xt),Ud.push(...sn),Ud.push(...Vd);const Ed=(0,i.p7)({history:(0,i.PO)("/"),routes:Ud});Ed.beforeEach((async(e,t,l)=>{"slug"in e.params||document.getElementById("qp-custom-style")&&document.getElementById("qp-custom-style").remove(),st.dispatch("getPlayer"),await st.restored,l()}));var Od=Ed,Fd=l(5605),Md=l(4242);l(4415);const Nd=(0,a.ri)(Ee),Rd={name:"Cynorrhodonnismes",shortname:"Cynorrs"},Ld="https://mcpronovost.pythonanywhere.com/api";Nd.use(Le),Nd.use(st),Nd.use(Od),Nd.use(Fd.Z,{locale:Md.Z}),Nd.mount("#app")},4465:function(e,t,l){e.exports=l.p+"img/logo-square-trans.png"}},t={};function l(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,r,o){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var s=!0,i=0;i<a.length;i++)(!1&o||n>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[i])}))?a.splice(i--,1):(s=!1,o<n&&(n=o));if(s){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,n=a[0],s=a[1],i=a[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(i)var d=i(l)}for(t&&t(a);u<n.length;u++)o=n[u],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},a=self["webpackChunk_mcpronovost_cynorrs"]=self["webpackChunk_mcpronovost_cynorrs"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(1859)}));a=l.O(a)})();