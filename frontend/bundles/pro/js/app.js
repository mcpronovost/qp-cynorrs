(function(){"use strict";var e={9406:function(e,t,l){l.d(t,{b:function(){return xs},E:function(){return Cs}});var a=l(9242),r=l(3396),n=l(7139),o=l(4870),s=l(65),u=l(2748);const i=e=>((0,r.dD)("data-v-4935364e"),e=e(),(0,r.Cn)(),e),p={id:"qp-header-menu-player"},d=["textContent"],c=["textContent"],m=["textContent"],w=["textContent"],g=i((()=>(0,r._)("br",null,null,-1))),_=["textContent"],v=i((()=>(0,r._)("hr",null,null,-1))),h=["textContent"],f=["textContent"],y=["textContent"],C=i((()=>(0,r._)("hr",null,null,-1))),x=["textContent"],b=["textContent"],q=i((()=>(0,r._)("hr",null,null,-1))),k=["textContent"];var $={__name:"qpHeaderNavPlayer",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-icon"),u=(0,r.up)("el-menu-item"),i=(0,r.up)("el-menu"),$=(0,r.up)("el-badge"),W=(0,r.up)("el-sub-menu");return(0,r.wg)(),(0,r.iD)("div",p,[(0,o.SU)(l)?((0,r.wg)(),(0,r.j4)(i,{key:1,router:"",mode:"horizontal","menu-trigger":"click","default-active":e.$route&&e.$route.name?e.$route.name:null},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{disabled:"",index:"notifications"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{hidden:!0,"is-dot":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-bell-outline"})])),_:1})])),_:1}),(0,r.Wm)(u,{disabled:"",index:"messages"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{hidden:!0,value:123,max:99},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-email-outline"})])),_:1})])),_:1}),(0,r.Wm)(W,{index:"1"},{title:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(a)?.name)},null,8,m)])),default:(0,r.w5)((()=>[(0,r.Wm)(u,{disabled:"",index:"profile",class:"qp-multiline"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("SignedInAs"))},null,8,w),g,(0,r._)("strong",{textContent:(0,n.zw)((0,o.SU)(a)?.name)},null,8,_)])),_:1}),v,(0,r.Wm)(u,{disabled:"",index:"profile"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourProfile"))},null,8,h)])),_:1}),(0,r.Wm)(u,{index:"MeCharacters",route:{name:"MeCharacters"},disabled:e.$route.name&&"MeCharacters"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourCharacters"))},null,8,f)])),_:1},8,["disabled"]),(0,r.Wm)(u,{index:"MeWorlds",route:{name:"MeWorlds"},disabled:e.$route.name&&"MeWorlds"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourWorlds"))},null,8,y)])),_:1},8,["disabled"]),C,(0,r.Wm)(u,{disabled:"",index:"help"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Help"))},null,8,x)])),_:1}),(0,r.Wm)(u,{disabled:"",index:"settings"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Settings"))},null,8,b)])),_:1}),q,(0,r.Wm)(u,{index:"AuthLogout",route:{name:"AuthLogout"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Logout"))},null,8,k)])),_:1})])),_:1})])),_:1},8,["default-active"])):((0,r.wg)(),(0,r.j4)(i,{key:0,router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{index:"AuthLogin",route:{name:"AuthLogin"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-power"}),(0,r._)("span",{textContent:(0,n.zw)(e.$t("Login"))},null,8,d)])),_:1}),(0,r.Wm)(u,{index:"AuthRegister",route:{name:"AuthRegister"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-login-variant"}),(0,r._)("span",{textContent:(0,n.zw)(e.$t("Register"))},null,8,c)])),_:1})])),_:1}))])}}},W=l(89);const z=(0,W.Z)($,[["__scopeId","data-v-4935364e"]]);var S=z;const j=e=>((0,r.dD)("data-v-308fc494"),e=e(),(0,r.Cn)(),e),T={id:"qp-app-header"},D={id:"qp-header-logo-img"},A=j((()=>(0,r._)("div",{class:"image-slot"},null,-1))),H={id:"qp-header-logo-title"},E=["textContent"],U={id:"qp-header-menu-app"},O=["textContent"],F=["textContent"];var R={__name:"qpHeader",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.app)),i=(0,o.iH)(l(4465)),p=()=>{t.commit("TOGGLE_SIDEBAR")};return(e,t)=>{const l=(0,r.up)("el-image"),s=(0,r.up)("el-icon"),d=(0,r.up)("el-menu-item"),c=(0,r.up)("el-menu"),m=(0,r.up)("el-col"),w=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",T,[(0,r.Wm)(w,{gutter:20,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{span:12,class:"text-left"},{default:(0,r.w5)((()=>[(0,r._)("div",{id:"qp-header-logo",onClick:t[0]||(t[0]=t=>e.$router.push({name:"Home"}))},[(0,r._)("div",D,[(0,r.Wm)(l,{src:i.value,fit:"cover"},{error:(0,r.w5)((()=>[A])),_:1},8,["src"])]),(0,r._)("div",H,[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Cs).shortname)},null,8,E)])]),(0,o.SU)(a).win.w>=1200?((0,r.wg)(),(0,r.iD)("div",{key:0,id:"qp-header-toggle-sidebar",onClick:t[1]||(t[1]=e=>p())},[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,o.SU)(a).sidebar.collapse?((0,r.wg)(),(0,r.j4)((0,o.SU)(u.M0b),{key:0})):((0,r.wg)(),(0,r.j4)((0,o.SU)(u.qFw),{key:1}))])),_:1})])):(0,r.kq)("",!0),(0,r._)("div",U,[(0,r.Wm)(c,{router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{disabled:"",index:"discover"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Discover"))},null,8,O)])),_:1}),(0,r.Wm)(d,{disabled:"",index:"browse"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Browse"))},null,8,F)])),_:1})])),_:1})])])),_:1}),(0,r.Wm)(m,{span:12,class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Wm)(S)])),_:1})])),_:1})])}}};const V=(0,W.Z)(R,[["__scopeId","data-v-308fc494"]]);var L=V;const P=e=>((0,r.dD)("data-v-f09be23e"),e=e(),(0,r.Cn)(),e),Y={id:"qp-sidebar-profile"},N={id:"qp-sidebar-banner"},M=P((()=>(0,r._)("div",{class:"image-slot"},null,-1))),B={id:"qp-sidebar-avatar"},Z={id:"qp-sidebar-name"},I=["textContent"],K={key:0,id:"qp-sidebar-title"},J=["textContent"];var G={__name:"qpSidebarProfile",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,r.Fl)((()=>t.getters.player)),i=(0,o.iH)("Qui ne fait que passer");return(e,t)=>{const s=(0,r.up)("el-image"),p=(0,r.up)("el-icon"),d=(0,r.up)("el-avatar");return(0,r.wg)(),(0,r.iD)("div",Y,[(0,r._)("div",N,[(0,r.Wm)(s,{src:(0,o.SU)(a)?.banner,fit:"cover"},{error:(0,r.w5)((()=>[M])),_:1},8,["src"])]),(0,r._)("div",B,[(0,r.Wm)(d,{src:(0,o.SU)(a)?.avatar},{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,o.SU)(u.n5m))])),_:1})])),_:1},8,["src"])]),(0,r._)("div",Z,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(a)?.name)},null,8,I)])]),(0,o.SU)(l)?((0,r.wg)(),(0,r.iD)("div",K,[(0,r._)("p",null,[(0,r._)("span",{textContent:(0,n.zw)(i.value)},null,8,J)])])):(0,r.kq)("",!0)])}}};const Q=(0,W.Z)(G,[["__scopeId","data-v-f09be23e"]]);var X=Q;const ee=e=>((0,r.dD)("data-v-0c347f1f"),e=e(),(0,r.Cn)(),e),te={id:"qp-sidebar-nav"},le=ee((()=>(0,r._)("i",{class:"mdi mdi-home"},null,-1))),ae=["textContent"],re=ee((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),ne=["textContent"],oe=ee((()=>(0,r._)("i",{class:"mdi mdi-scale-balance"},null,-1))),se=["textContent"],ue=ee((()=>(0,r._)("i",{class:"mdi mdi-script-text"},null,-1))),ie=["textContent"],pe=ee((()=>(0,r._)("i",{class:"mdi mdi-forum-outline"},null,-1))),de=["textContent"],ce=ee((()=>(0,r._)("i",{class:"mdi mdi-account-group"},null,-1))),me=["textContent"],we=ee((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),ge=["textContent"];var _e={__name:"qpSidebarNav",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app)),a=(0,r.Fl)((()=>t.getters.worlds));return(e,t)=>{const s=(0,r.up)("el-menu-item"),u=(0,r.up)("el-sub-menu"),i=(0,r.up)("el-menu");return(0,r.wg)(),(0,r.iD)("div",te,[(0,r.Wm)(i,{router:"","default-active":e.$route&&e.$route.params&&"slug"in e.$route.params?e.$route.params.slug:e.$route.name,collapse:(0,o.SU)(l).win.w<1200||(0,o.SU)(l).sidebar?.collapse},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{index:"Home",route:{name:"Home"}},{default:(0,r.w5)((()=>[le,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Home"))},null,8,ae)])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,o.SU)(a),((t,l)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[e.$route.params.slug&&e.$route.params.slug==t.slug?((0,r.wg)(),(0,r.j4)(u,{key:`world-nav-group-${l}`,index:t.slug},{title:(0,r.w5)((()=>[re,(0,r._)("span",{textContent:(0,n.zw)(t.name)},null,8,ne)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:"",index:`${t.slug}-rules`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[oe,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Rules"))},null,8,se)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-context`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ue,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Context"))},null,8,ie)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[pe,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Forum"))},null,8,de)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-community`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ce,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Community"))},null,8,me)])),_:2},1032,["index","route"])])),_:2},1032,["index"])):((0,r.wg)(),(0,r.j4)(s,{key:`world-nav-${l}`,index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[we,(0,r._)("span",{textContent:(0,n.zw)(t.name)},null,8,ge)])),_:2},1032,["index","route"]))],64)))),256))])),_:1},8,["default-active","collapse"])])}}};const ve=(0,W.Z)(_e,[["__scopeId","data-v-0c347f1f"]]);var he=ve;const fe={id:"qp-sibebar-inner"},ye={id:"qp-sibebar-main"},Ce={id:"qp-sidebar-footer"},xe=["innerHTML"];var be={__name:"qpSidebar",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app));return(e,t)=>{const a=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",{id:"qp-app-sidebar",class:(0,n.C_)((0,o.SU)(l).win.w<1200||(0,o.SU)(l).sidebar?.collapse?"qp-collapsed":"")},[(0,r.Wm)(a,{height:"100%"},{default:(0,r.w5)((()=>[(0,r._)("div",fe,[(0,r._)("div",ye,[(0,r.Wm)(X),(0,r.Wm)(he)]),(0,r._)("div",Ce,[(0,r._)("span",{innerHTML:e.$t("TextCopyrights")},null,8,xe)])])])),_:1})],2)}}};const qe=(0,W.Z)(be,[["__scopeId","data-v-102c9f96"]]);var ke=qe,$e=l(678);const We={id:"qp-app-smallbar"},ze={key:0,id:"qp-smallbar-inner"},Se=["textContent"];var je={__name:"qpSmallbar",setup(e){const t=(0,$e.yj)(),l=(0,s.oR)(),a=(0,r.Fl)((()=>l.getters.rat)),u=(0,r.Fl)((()=>l.getters.heros)),i=(0,r.Fl)((()=>"world_pk"in t.params?u.value.filter((e=>e.world==t.params.world_pk)):u.value));return(e,t)=>{const l=(0,r.up)("el-avatar"),s=(0,r.up)("el-tooltip"),u=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",We,[(0,r.Wm)(u,{height:"100%"},{default:(0,r.w5)((()=>[(0,o.SU)(a)?((0,r.wg)(),(0,r.iD)("div",ze,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,o.SU)(i),((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:`hero-${t}`,class:"qp-smallbar-hero"},[(0,r.Wm)(s,{content:e.name,placement:"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.initials)},null,8,Se)])),_:2},1032,["src"])])),_:2},1032,["content"])])))),128))])):(0,r.kq)("",!0)])),_:1})])}}};const Te=(0,W.Z)(je,[["__scopeId","data-v-c0835186"]]);var De=Te;const Ae={id:"qp-app"};var He={__name:"App",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat));return(e,t)=>{const a=(0,r.up)("router-view"),s=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",Ae,[e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(L,{key:0})),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(ke,{key:1})),(0,r._)("div",{id:"qp-app-main",class:(0,n.C_)(`${(0,o.SU)(l)?"":" qp-nosmallbar"}${e.$route.name&&e.$route.name.startsWith("Auth")?" qp-fullview":""}`)},[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)(a,{key:e.$route.fullPath}))])),_:1})],2),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(De,{key:2}))])}}};const Ee=He;var Ue=Ee,Oe=l(3590),Fe=JSON.parse('{"A player with that playername already exists.":"Un joueur avec ce nom existe déjà.","A user with that email already exists.":"Un joueur avec cette adresse courriel existe déjà.","A user with that username already exists.":"Un joueur avec ce nom existe déjà.","AlreadyHaveAnAccount":"Déjà inscrit ?","AnErrorOccurred":"Une erreur est survenue","BackToHome":"Retour à l\'accueil","Browse":"Parcourir","Cancel":"Annuler","Ce champ est obligatoire.":"Ce champ est obligatoire.","Chapter":"Chapitre | Chapitre | Chapitres","Character":"Personnage | Personnage | Personnages","ChooseTravellers":"Choisir les voyageurs","Closed":"Fermé","Community":"Communauté","Confirm":"Confirmer","Context":"Contexte","Continue":"Continuer","CreateWorld":"Créer un monde","Description":"Description","Descriptionofthenewchapter":"Courte description facultative","Discover":"Découvrir","DontHaveAnAccount":"Pas encore inscrit ?","email":"Courriel","Email":"Courriel","Enter a valid email address.":"Saisissez une adresse courriel valide.","Error":"Erreur","Forum":"Forum","Help":"Aide","Home":"Accueil","Login":"Connexion","Logout":"Déconnexion","Message":"Message | Message | Messages","Never":"Jamais","NewChapter":"Nouveau chapitre","NoAvailableTravellers":"Aucun voyageur disponible","non_field_errors":"Erreur","NoWorldCreated":"Aucun monde créé","password":"Mot de passe","Password":"Mot de passe","Player":"Joueur | Joueur | Joueurs","Playername":"Nom de joueur","playername":"Nom de joueur","Profile":"Profil","Quests":"Quêtes","Register":"Inscription","Rules":"Règlements","Saisissez une adresse e-mail valide.":"Saisissez une adresse courriel valide.","Sector":"Secteur | Secteur | Secteurs","SeeAllQuests":"Voir toutes les quêtes","Send":"Envoyer","Settings":"Paramètres","SignedInAs":"Connecté en tant que","Text":"Texte","TextCopyrights":"&copy;&nbsp;2022 M-C Pronovost","That password is too short.":"Ce mot de passe est trop court.","ThisChapterDoesntExistAnymore":"Ce chapitre n\'existe pas ou plus","Thisfieldisrequired":"Ce champs est requis.","ThisForumDoesntExistAnymore":"Ce forum n\'existe pas ou plus","ThisSectorDoesntExistAnymore":"Ce secteur n\'existe pas ou plus","ThisTerritoryDoesntExistAnymore":"Ce territoire n\'existe pas ou plus","ThisWorldDoesntExistAnymore":"Ce monde n\'existe pas ou plus","ThisZoneDoesntExistAnymore":"Cette zone n\'existe pas ou plus","Title":"Titre","Titleofthenewchapter":"Titre du nouveau chapitre","Travel":"Voyager","TravelCompleted":"Voyage complété","username":"Nom d\'utilisateur","Username":"Nom d\'utilisateur","Writing":"Rédaction","YouDoesntHaveAccessToThisForum":"Vous n\'avez pas accès à ce forum","YouDoesntHaveAccessToThisWorld":"Vous n\'avez pas accès à ce monde","Youhavearrivedatyourdestination":"Vous êtes arrivé à destination","YourCharacters":"Vos personnages","YourEmailAddress":"Votre adresse de courriel","YourMessage":"Votre message","YourPersonalUsername":"Votre nom d\'utilisateur personnel","YourProfile":"Votre profil","YourPublicPlayername":"Votre nom de joueur public","YourWorlds":"Vos mondes","YouDoesntHaveAccessToThisZone":"Vous n\'avez pas accès à cette zone","YouDoesntHaveAccessToThisTerritory":"Vous n\'avez pas accès à ce territoire","YouDoesntHaveAccessToThisChapter":"Vous n\'avez pas accès à ce chapitre","YouDoesntHaveAccessToThisSector":"Vous n\'avez pas accès à ce secteur","ToReply":"Répondre","ChooseACharacter":"Choisir un personnage","YourReply":"Votre réponse","ThisPageDoesntExistAnymore":"Cette page n\'existe pas ou plus","errorcharacter":"Personnage","errortext":"Texte","AllRightsReserved":"Tous droits réservés","NewChapterTitle":"Titre du nouveau chapitre"}');const Re={short:{year:"numeric",month:"long",day:"2-digit"}},Ve={fr:Re},Le=(0,Oe.o)({locale:"fr",fallbackLocale:"fr",messages:{fr:Fe},dateTimeFormats:Ve,legacy:!1,globalInjection:!0,silentTranslationWarn:!0});var Pe=Le,Ye=l(5361);const Ne=e=>({win:e.app.win,sidebar:e.app.sidebar}),Me={state:()=>({win:{w:1880,h:980},sidebar:{collapse:!1}}),mutations:{SET_WINSIZES(e){e.win={w:window.innerWidth,h:window.innerHeight}},TOGGLE_SIDEBAR(e){e.sidebar.collapse=!e.sidebar.collapse}}},Be=e=>{if(e.drat.s&&e.frat.e){let t=Ye.lW.from(e.drat.s,"base64").toString("utf8"),l=Ye.lW.from(e.frat.e,"base64").toString("utf8");return`Token ${t}${l}`}return null},Ze={state:()=>({s:null}),mutations:{SET_DRAT(e,t){e.s=t?Ye.lW.from(t).toString("base64"):null}}},Ie={state:()=>({e:null}),mutations:{SET_FRAT(e,t){e.e=t?Ye.lW.from(t).toString("base64"):null}}},Ke=e=>e.player.j?JSON.parse(Ye.lW.from(e.player.j,"base64").toString("utf8")):null,Je=e=>e.player.h?JSON.parse(Ye.lW.from(e.player.h,"base64").toString("utf8")):[],Ge=e=>e.player.w?JSON.parse(Ye.lW.from(e.player.w,"base64").toString("utf8")):[],Qe={state:()=>({j:null,h:null,c:null,w:null}),mutations:{SET_PLAYER(e,t){if(t){let l=Ye.lW.from(e.j,"base64").toString("utf8");l=l?JSON.parse(l):{},l[t[0]]=t[1],e.j=Ye.lW.from(JSON.stringify(l)).toString("base64")}},BATCH_PLAYER(e,t){if(t){let l=e.j;l=l?JSON.parse(Ye.lW.from(l,"base64").toString("utf8")):{};let a=Object.entries(t);for(let e=0;e<a.length;e++)l[a[e][0]]=a[e][1];e.j=Ye.lW.from(JSON.stringify(l)).toString("base64")}else e.j=null},BATCH_HEROS(e,t){e.h=t?Ye.lW.from(JSON.stringify(t)).toString("base64"):null},BATCH_WORLDS(e,t){e.w=t?Ye.lW.from(JSON.stringify(t)).toString("base64"):null}},actions:{async getPlayer({commit:e,dispatch:t,getters:l}){if(l.rat){let a=await fetch(`${xs}/me/`,{method:"GET",headers:{Authorization:l.rat}});if(200===a.status){let t=await a.json();e("BATCH_PLAYER",t.player),e("BATCH_HEROS",t.heros),e("BATCH_WORLDS",t.worlds)}else 401===a.status&&t("doLogout")}},async getHeros({commit:e,dispatch:t,getters:l}){if(l.rat){let a=await fetch(`${xs}/me/heros/`,{method:"GET",headers:{Authorization:l.rat}});if(200===a.status){let t=await a.json();e("BATCH_HEROS",t.heros)}else 401===a.status&&t("doLogout")}},async doRegister({dispatch:e},{username:t,playername:l,email:a,password:r}){let n=new FormData;t&&n.append("username",t),l&&n.append("playername",l),a&&n.append("email",a),r&&n.append("password",r);let o=await fetch(`${xs}/register/`,{method:"POST",body:n}),s=await o.json();return 200===o.status?e("doLogin",{username:t,password:r}):{valid:!1,data:s}},async doLogin({commit:e},{username:t,password:l}){let a=new FormData;a.append("username",t),a.append("password",l);let r=await fetch(`${xs}/login/`,{method:"POST",body:a}),n=await r.json();if(200===r.status){let t=n.token,l=Math.ceil(t.length/2);return e("SET_DRAT",t.slice(0,l)),e("SET_FRAT",t.slice(l)),{valid:!0}}return{valid:!1,data:n}},async doLogout({commit:e,getters:t}){let l=await fetch(`${xs}/logout/`,{method:"POST",headers:{Authorization:t.rat}});return e("BATCH_PLAYER",null),e("BATCH_HEROS",null),e("BATCH_WORLDS",null),e("SET_DRAT",null),e("SET_FRAT",null),l}}};var Xe=l(5103),et=l(680);const tt=new Xe.ZP({key:"qpcynorrs",storage:window.localStorage,reducer:e=>({drat:e.drat,app:e.app})}),lt=new Xe.ZP({key:"qpcynorrs",storage:window.sessionStorage,reducer:e=>({player:e.player})}),at=new Xe.ZP({key:"qpcynorrs",restoreState:e=>{if(et.Z.get(e))return JSON.parse(Ye.lW.from(et.Z.get(e),"base64").toString("utf8"))},saveState:(e,t)=>{t&&et.Z.set(e,Ye.lW.from(JSON.stringify(t)).toString("base64"),{expires:30})},modules:["frat"]}),rt=e=>{e.commit("SET_WINSIZES"),window.addEventListener("resize",(()=>{e.commit("SET_WINSIZES")}))},nt=(0,s.MT)({getters:{app:Ne,rat:Be,player:Ke,heros:Je,worlds:Ge},modules:{app:Me,drat:Ze,frat:Ie,player:Qe},plugins:[tt.plugin,lt.plugin,at.plugin,rt]});var ot=nt;const st={class:"qp-vue"};function ut(e,t){return(0,r.wg)(),(0,r.iD)("div",st," aaa ")}const it={},pt=(0,W.Z)(it,[["render",ut]]);var dt=pt;const ct={key:0,class:"qp-card-header"},mt={class:"qp-card-header-title"};var wt={__name:"qpCard",props:{clickable:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1},bgcolor:{type:String,default:"base"},h:{type:String,default:""},pa:{type:String,default:"20px"},mb:{type:String,default:""}},setup(e){const t=e,l=(0,r.Fl)((()=>t.clickable?"qp-card-clickable":"")),a=(0,r.Fl)((()=>t.overflow?"qp-card-overflow":"")),s=(0,r.Fl)((()=>"base"!=t.bgcolor?`qp-card-bg-${t.bgcolor}`:"")),u=(0,r.Fl)((()=>t.h?`height:${t.h};`:"")),i=(0,r.Fl)((()=>t.pa?`padding:${t.pa};`:"")),p=(0,r.Fl)((()=>t.mb?`margin-bottom:${t.mb};`:""));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,n.C_)(`qp-card ${(0,o.SU)(l)} ${(0,o.SU)(a)} ${(0,o.SU)(s)}`),style:(0,n.j5)(`${(0,o.SU)(u)}${(0,o.SU)(p)}`)},[e.$slots.header?((0,r.wg)(),(0,r.iD)("div",ct,[(0,r._)("div",mt,[(0,r.WI)(e.$slots,"header")])])):(0,r.kq)("",!0),(0,r._)("div",{class:"qp-card-main",style:(0,n.j5)(`${(0,o.SU)(i)}`)},[(0,r.WI)(e.$slots,"default")],4)],6))}};const gt=(0,W.Z)(wt,[["__scopeId","data-v-01c14f76"]]);var _t=gt;const vt=e=>((0,r.dD)("data-v-04204da0"),e=e(),(0,r.Cn)(),e),ht={class:"qp-vue"},ft={key:0},yt={class:"qp-container"},Ct=["textContent"],xt={class:"qp-mecharacters-overview"},bt=vt((()=>(0,r._)("h2",{class:"qp-mecharacters-overview-title"},[(0,r._)("span",{textContent:"Qalatlán"})],-1))),qt=vt((()=>(0,r._)("p",null,"Lorem ipsum dolor sit amet.",-1))),kt={class:"qp-mecharacters-infolist"},$t=["textContent"],Wt=["textContent"],zt=["textContent"],St=["textContent"],jt=["textContent"],Tt=["textContent"],Dt=["textContent"],At=["textContent"],Ht={key:1},Et={class:"qp-container"},Ut={"element-loading-background":"transparent",style:{height:"60vh"}},Ot={key:2},Ft={class:"qp-container"};var Rt={__name:"MeCharactersView",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,o.iH)(!0),u=(0,o.iH)(null),i=(0,o.iH)([]);return(0,r.bv)((()=>{console.log("onMounted"),a.value=!1})),(e,t)=>{const s=(0,r.up)("el-col"),p=(0,r.up)("el-row"),d=((0,r.up)("el-tag"),(0,r.up)("el-icon")),c=(0,r.up)("el-empty"),m=(0,r.up)("el-result"),w=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",ht,[a.value||u.value||!(0,o.SU)(l)?a.value?((0,r.wg)(),(0,r.iD)("div",Ht,[(0,r._)("div",Et,[(0,r.wy)((0,r._)("div",Ut,null,512),[[w,a.value]])])])):((0,r.wg)(),(0,r.iD)("div",Ot,[(0,r._)("div",Ft,[(0,r.Wm)(_t,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{icon:"error",title:e.$t("Error"),"sub-title":u.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",ft,[(0,r._)("div",yt,[(0,r._)("header",null,[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourCharacters"))},null,8,Ct)])])),_:1})])),_:1})]),(0,r._)("section",null,[i.value.length?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(i.value,((t,l)=>((0,r.wg)(),(0,r.j4)(s,{key:`character-${l}`},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,{clickable:"",pa:"12px"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("div",xt,[bt,(0,r.kq)("",!0),qt])])),_:1}),(0,r.Wm)(s,{span:24,md:12,align:"right"},{default:(0,r.w5)((()=>[(0,r._)("ul",kt,[(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Player",12))},null,8,$t),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(12,1))},null,8,Wt)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Character",16))},null,8,zt),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(16,1))},null,8,St)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Chapter",1))},null,8,jt),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(1,1))},null,8,Tt)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Message",2346))},null,8,Dt),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(2346,1))},null,8,At)])])])),_:1})])),_:1})])),_:1})])),_:2},1024)))),128))])),_:1})):((0,r.wg)(),(0,r.j4)(p,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(c,null,{image:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1})])),_:1})])),_:1}))])])]))])}}};const Vt=(0,W.Z)(Rt,[["__scopeId","data-v-04204da0"]]);var Lt=Vt;l(6699);const Pt={class:"qp-vue"},Yt={key:0},Nt={key:0,class:"qp-container"},Mt=["textContent"],Bt=["textContent"],Zt={class:"qp-meworlds-overview"},It={class:"qp-meworlds-overview-tags"},Kt=["textContent"],Jt=["textContent"],Gt=["textContent"],Qt=["textContent"],Xt={class:"qp-meworlds-overview-title"},el=["textContent"],tl=["textContent"],ll={class:"qp-meworlds-infolist"},al=["textContent"],rl=["textContent"],nl=["textContent"],ol=["textContent"],sl=["textContent"],ul=["textContent"],il=["textContent"],pl=["textContent"],dl={key:1,class:"qp-container"},cl=["textContent"],ml=["innerHTML"],wl=["textContent"],gl=["textContent"],_l={key:1},vl={class:"qp-container"},hl={"element-loading-background":"transparent",style:{height:"60vh"}},fl={key:2},yl={class:"qp-container"};var Cl={__name:"MeWorldsView",setup(e){const{t:t}=Pe.global,l=(0,$e.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.rat)),p=(0,r.Fl)((()=>u.getters.app)),d=(0,r.Fl)((()=>u.getters.player)),c=(0,o.iH)(!0),m=(0,o.iH)(!1),w=(0,o.iH)(null),g=(0,o.iH)(null),_=(0,o.iH)([]),v=(0,o.iH)(0),h=(0,o.iH)(1),f=(0,o.iH)(0);(0,r.bv)((()=>{i.value?y():l.push({name:"AuthLogin"})}));const y=async()=>{c.value=!0,w.value=null,_.value=[];let e=await fetch(`${xs}/worlds/?page=${h.value}`,{method:"GET",headers:{Authorization:i.value}}),l=await e.json();200===e.status?(v.value=l.count,_.value=l.results,f.value=l.size):w.value=t("ThisWorldDoesntExistAnymore"),c.value=!1},C=e=>{h.value=e,y()},x=(0,o.iH)(!1),b=(0,o.iH)(),q=(0,o.qj)({name:"",description:""}),k=()=>{x.value=!0},$=()=>{x.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),s=(0,r.up)("el-button"),u=(0,r.up)("el-row"),y=(0,r.up)("el-tag"),W=(0,r.up)("el-pagination"),z=(0,r.up)("el-icon"),S=(0,r.up)("el-empty"),j=(0,r.up)("el-input"),T=(0,r.up)("el-form-item"),D=(0,r.up)("el-form"),A=(0,r.up)("el-alert"),H=(0,r.up)("el-result"),E=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Pt,[c.value||w.value||!(0,o.SU)(i)?c.value?((0,r.wg)(),(0,r.iD)("div",_l,[(0,r._)("div",vl,[(0,r.wy)((0,r._)("div",hl,null,512),[[E,c.value]])])])):((0,r.wg)(),(0,r.iD)("div",fl,[(0,r._)("div",yl,[(0,r.Wm)(_t,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(H,{icon:"error",title:e.$t("Error"),"sub-title":w.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",Yt,[x.value?x.value?((0,r.wg)(),(0,r.iD)("div",dl,[(0,r._)("header",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("CreateWorld"))},null,8,cl)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(D,{ref_key:"formCreateWorldRef",ref:b,model:q,"label-position":(0,o.SU)(p).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{label:e.$t("Name"),prop:"name",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:q.name,"onUpdate:modelValue":t[1]||(t[1]=e=>q.name=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername")},null,8,["modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,r.Wm)(T,{label:e.$t("Description"),prop:"description",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:q.description,"onUpdate:modelValue":t[2]||(t[2]=e=>q.description=e),type:"text",maxlength:"250",onKeyup:t[3]||(t[3]=(0,a.D2)((e=>$()),["enter"]))},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),g.value?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(A,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:g.value},null,8,ml)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:m.value,onClick:t[4]||(t[4]=e=>$())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,wl)])),_:1},8,["disabled"]),(0,r.Wm)(s,{type:"primary",loading:m.value},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,gl)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Nt,[(0,r._)("header",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourWorlds"))},null,8,Mt)])])),_:1}),(0,r.Wm)(l,{span:24,sm:12,align:(0,o.SU)(p).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:!(0,o.SU)(d).limits.can_create_worlds,onClick:t[0]||(t[0]=e=>k())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("CreateWorld"))},null,8,Bt)])),_:1},8,["disabled"])])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[_.value.length?((0,r.wg)(),(0,r.j4)(u,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(_.value,((t,a)=>((0,r.wg)(),(0,r.j4)(l,{key:`world-${a}`},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,{clickable:"",pa:"12px"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("div",Zt,[(0,r._)("div",It,[t.is_active?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(y,{key:0,type:"danger",effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Closed"))},null,8,Kt)])),_:1})),(0,o.SU)(d).id==t.creator?((0,r.wg)(),(0,r.j4)(y,{key:1,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Creator"))},null,8,Jt)])),_:1})):(0,r.kq)("",!0),t.administrators.includes((0,o.SU)(d).id)?((0,r.wg)(),(0,r.j4)(y,{key:2,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Administration"))},null,8,Gt)])),_:1})):(0,r.kq)("",!0),t.moderators.includes((0,o.SU)(d).id)?((0,r.wg)(),(0,r.j4)(y,{key:3,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Moderation"))},null,8,Qt)])),_:1})):(0,r.kq)("",!0)]),(0,r._)("h2",Xt,[(0,r._)("span",{textContent:(0,n.zw)(t.name)},null,8,el)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,textContent:(0,n.zw)(t.description)},null,8,tl)):(0,r.kq)("",!0)])])),_:2},1024),(0,r.Wm)(l,{span:24,md:12,align:"right"},{default:(0,r.w5)((()=>[(0,r._)("ul",ll,[(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Player",t.count_players))},null,8,al),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(t.count_players,1))},null,8,rl)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Character",t.count_heros))},null,8,nl),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(t.count_heros,1))},null,8,ol)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Chapter",t.count_chapters))},null,8,sl),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(t.count_chapters,1))},null,8,ul)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Message",t.count_messages))},null,8,il),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)(e.$filters.num_to_element(t.count_messages,1))},null,8,pl)])])])),_:2},1024)])),_:2},1024)])),_:2},1024)])),_:2},1024)))),128)),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(W,{background:"","hide-on-single-page":"",layout:"prev, pager, next",total:v.value,"page-size":f.value,"current-page":h.value,"onUpdate:currentPage":C},null,8,["total","page-size","current-page"])])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(u,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{description:e.$t("NoWorldCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(z,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])]))]))])}}};const xl=(0,W.Z)(Cl,[["__scopeId","data-v-2f27f54c"]]);var bl=xl;const ql={class:"qp-vue"},kl={class:"qp-container"};function $l(e,t,l,a,n,o){const s=(0,r.up)("qp-card"),u=(0,r.up)("el-col"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",ql,[(0,r._)("div",kl,[(0,r.Wm)(i,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(s)])),_:1})])),_:1})])])}var Wl={name:"HeroDetailView",components:{qpCard:_t}};const zl=(0,W.Z)(Wl,[["render",$l]]);var Sl=zl;const jl={class:"qp-vue"},Tl={class:"qp-container"},Dl=(0,r._)("a",{href:"https://www.flaticon.com/free-icons/killer-whale",target:"_blank",title:"killer whale icons"},"Killer whale icons created by edt.im - Flaticon",-1);var Al={__name:"ErrorView",setup(e){return(e,t)=>{const l=(0,r.up)("el-result"),a=(0,r.up)("el-col"),n=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",jl,[(0,r._)("div",Tl,[(0,r.Wm)(n,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{icon:"error",title:e.$t("Error"),"sub-title":"..."},null,8,["title","sub-title"])])),_:1})])),_:1}),(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[Dl])),_:1})])),_:1})])),_:1})])])}}};const Hl=Al;var El=Hl;const Ul=e=>((0,r.dD)("data-v-d92a0386"),e=e(),(0,r.Cn)(),e),Ol={class:"qp-vue"},Fl={key:0},Rl={id:"qp-auth"},Vl=Ul((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),Ll={id:"qp-auth-title"},Pl=["textContent"],Yl=["innerHTML"],Nl=["textContent"],Ml=["textContent"],Bl=["textContent"],Zl=Ul((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),Il={id:"qp-auth-title"},Kl=["textContent"],Jl=["innerHTML"],Gl=["textContent"],Ql=["textContent"],Xl=["textContent"],ea={"element-loading-background":"transparent",style:{width:"200px",height:"200px"}},ta=["textContent"],la={key:1},aa={class:"qp-container"},ra={"element-loading-background":"transparent",style:{height:"60vh"}},na={key:2},oa={id:"qp-auth"},sa=["textContent"];var ua={__name:"AuthView",setup(e){const{t:t}=Pe.global,l=(0,$e.yj)(),i=(0,$e.tv)(),p=(0,s.oR)(),d=(0,r.Fl)((()=>p.getters.app)),c=(0,r.Fl)((()=>p.getters.rat)),m=(0,o.iH)(!0),w=(0,o.iH)(!1),g=(0,o.iH)(null),_=(0,o.iH)(null),v=(0,o.iH)(null);(0,r.bv)((()=>{c.value||"AuthRegister"!=l.name?c.value||"AuthLogin"!=l.name?"AuthLogout"==l.name?(v.value="logout",S()):g.value=t("AnErrorOccurred"):f():h(),m.value=!1}));const h=()=>{v.value="register",history.pushState(history.state,null,"/register")},f=()=>{v.value="login",history.pushState(history.state,null,"/login")},y=()=>{i.push({name:"Home"})},C=(0,o.iH)(),x=(0,o.qj)({username:"",playername:"",email:"",password:""}),b=async()=>{_.value=null,w.value=!0,await C.value.validate(((e,l)=>{if(e)q();else{for(let[e,a]of Object.entries(l)){let l=t(`${e}`);for(let e of a)_.value=`${l} : ${e.message}`}w.value=!1}}))},q=async()=>{_.value=null,w.value=!0;const e=await p.dispatch("doRegister",x);if(e.valid)i.push({name:"Home"});else{for(let[l,a]of Object.entries(e.data)){let e=t(`${l}`),r=t(`${a}`);_.value=`${e} : ${r}`}w.value=!1}},k=(0,o.iH)(),$=(0,o.qj)({username:"",password:""}),W=async()=>{_.value=null,w.value=!0,await k.value.validate(((e,l)=>{if(e)z();else{for(let[e,a]of Object.entries(l)){let l=t(`${e}`);for(let e of a)_.value=`${l} : ${e.message}`}w.value=!1}}))},z=async()=>{_.value=null,w.value=!0;const e=await p.dispatch("doLogin",$);if(e.valid)i.push({name:"Home"});else{for(let[l,a]of Object.entries(e.data)){let e=t(`${l}`),r=t(`${a}`);_.value=`${e} : ${r}`}w.value=!1}},S=async()=>{await p.dispatch("doLogout"),i.push({name:"Home"})};return(e,t)=>{const l=(0,r.up)("el-input"),s=(0,r.up)("el-form-item"),i=(0,r.up)("el-form"),p=(0,r.up)("el-col"),q=(0,r.up)("el-alert"),z=(0,r.up)("el-button"),S=(0,r.up)("el-link"),j=(0,r.up)("el-row"),T=(0,r.up)("el-scrollbar"),D=(0,r.up)("el-result"),A=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Ol,[m.value||g.value||!v.value?m.value?((0,r.wg)(),(0,r.iD)("div",la,[(0,r._)("div",aa,[(0,r.wy)((0,r._)("div",ra,null,512),[[A,m.value]])])])):((0,r.wg)(),(0,r.iD)("div",na,[(0,r._)("div",oa,[(0,r.Wm)(_t,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{icon:"error",title:e.$t("Error"),"sub-title":g.value,style:{"padding-bottom":"24px"}},null,8,["title","sub-title"]),(0,r.Wm)(z,{onClick:t[14]||(t[14]=e=>y()),style:{"margin-bottom":"40px"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("BackToHome"))},null,8,sa)])),_:1})])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",Fl,[(0,r._)("div",Rl,[(0,o.SU)(c)||"register"!=v.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(_t,{key:0,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{"max-height":"90vh"},{default:(0,r.w5)((()=>[Vl,(0,r._)("div",Ll,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Register"))},null,8,Pl)])]),(0,r.Wm)(j,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{ref_key:"formRegisterRef",ref:C,model:x,"label-position":(0,o.SU)(d).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.username,"onUpdate:modelValue":t[0]||(t[0]=e=>x.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,o.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Playername"),prop:"playername",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.playername,"onUpdate:modelValue":t[1]||(t[1]=e=>x.playername=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPublicPlayername"),"prefix-icon":(0,o.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Email"),prop:"email",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.email,"onUpdate:modelValue":t[2]||(t[2]=e=>x.email=e),type:"email",maxlength:"250",placeholder:e.$t("YourEmailAddress"),"prefix-icon":(0,o.SU)(u.v0C)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.password,"onUpdate:modelValue":t[3]||(t[3]=e=>x.password=e),type:"password",maxlength:"250","prefix-icon":(0,o.SU)(u.HEZ),onKeyup:t[4]||(t[4]=(0,a.D2)((e=>b()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),_.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:_.value},null,8,Yl)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:w.value,onClick:t[5]||(t[5]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Nl)])),_:1},8,["disabled"]),(0,r.Wm)(z,{type:"primary",loading:w.value,onClick:t[6]||(t[6]=e=>b())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Ml)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:w.value,onClick:t[7]||(t[7]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("AlreadyHaveAnAccount"))},null,8,Bl)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),(0,o.SU)(c)||"login"!=v.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(_t,{key:1,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{"max-height":"90vh"},{default:(0,r.w5)((()=>[Zl,(0,r._)("div",Il,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Login"))},null,8,Kl)])]),(0,r.Wm)(j,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{ref_key:"formLoginRef",ref:k,model:$,"label-position":(0,o.SU)(d).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:$.username,"onUpdate:modelValue":t[8]||(t[8]=e=>$.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,o.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:$.password,"onUpdate:modelValue":t[9]||(t[9]=e=>$.password=e),type:"password",maxlength:"250","prefix-icon":(0,o.SU)(u.HEZ),onKeyup:t[10]||(t[10]=(0,a.D2)((e=>W()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),_.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:_.value},null,8,Jl)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:w.value,onClick:t[11]||(t[11]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Gl)])),_:1},8,["disabled"]),(0,r.Wm)(z,{type:"primary",loading:w.value,onClick:t[12]||(t[12]=e=>W())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Ql)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:w.value,onClick:t[13]||(t[13]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("DontHaveAnAccount"))},null,8,Xl)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),"logout"==v.value?((0,r.wg)(),(0,r.j4)(_t,{key:2,h:"auto"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",ea,null,512),[[A,!0]]),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Logout"))},null,8,ta)])])),_:1})):(0,r.kq)("",!0)])]))])}}};const ia=(0,W.Z)(ua,[["__scopeId","data-v-d92a0386"]]);var pa=ia;const da=[{path:"/register",name:"AuthRegister",component:pa},{path:"/login",name:"AuthLogin",component:pa},{path:"/logout",name:"AuthLogout",component:pa}],ca={key:0},ma={class:"qp-container"},wa={key:1},ga={class:"qp-container"},_a={"element-loading-background":"transparent",style:{height:"60vh"}};var va={__name:"qpLoadError",props:{isLoading:{type:Boolean,default:!0},hasError:{type:String,default:null}},setup(e){const t=e;return(e,l)=>{const a=(0,r.up)("el-result"),n=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[t.hasError?((0,r.wg)(),(0,r.iD)("div",ca,[(0,r._)("div",ma,[(0,r.Wm)(_t,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{icon:"error",title:e.$t("Error"),"sub-title":t.hasError},null,8,["title","sub-title"])])),_:1})])])):t.isLoading?((0,r.wg)(),(0,r.iD)("div",wa,[(0,r._)("div",ga,[(0,r.wy)((0,r._)("div",_a,null,512),[[n,t.isLoading]])])])):(0,r.kq)("",!0)])}}};const ha=va;var fa=ha;const ya={class:"qp-vue"},Ca={key:0},xa={class:"qp-world-header"},ba={class:"qp-world-header-name"},qa=["textContent"],ka={class:"qp-world-footer"},$a={class:"qp-world-footer-inner"},Wa={class:"qp-world-footer-copyright"},za=["textContent"];var Sa={__name:"WorldView",setup(e){const{t:t}=Pe.global,l=(0,$e.yj)(),a=(0,s.oR)(),u=(0,r.Fl)((()=>a.getters.rat)),i=(0,o.iH)(!0),p=(0,o.iH)(null);(0,r.bv)((()=>{c()}));const d=(0,o.iH)(null),c=async()=>{i.value=!0,p.value=null;try{let e=await fetch(`${xs}/worlds/${l.params.slug}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;d.value=t}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisWorld"):404===e.status?p.value=t("ThisWorldDoesntExistAnymore"):p.value=t("AnErrorOccurred")}i.value=!1};return(e,t)=>{const l=(0,r.up)("router-view"),a=(0,r.up)("el-col"),o=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",ya,[i.value||p.value||!d.value?((0,r.wg)(),(0,r.j4)(fa,{key:1,isloading:i.value,hasError:p.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Ca,[(0,r._)("header",xa,[(0,r._)("h1",ba,[(0,r._)("span",{textContent:(0,n.zw)(d.value.name)},null,8,qa)])]),((0,r.wg)(),(0,r.j4)(l,{key:e.$route.params.slug,world:d.value},null,8,["world"])),(0,r._)("footer",ka,[(0,r._)("div",$a,[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r._)("div",Wa,[(0,r._)("small",null,[(0,r._)("span",{textContent:(0,n.zw)(`© ${d.value.copyright} - ${e.$t("AllRightsReserved")}`)},null,8,za)])])])),_:1})])),_:1})])])]))])}}};const ja=Sa;var Ta=ja;const Da={class:"qp-forum-breadcrumbs"},Aa=["onClick"],Ha=["textContent"];var Ea={__name:"qpBreadcrumbs",props:{crumbs:{type:Array,default:()=>[]}},setup(e){const t=e,l=(0,$e.tv)(),a=e=>{e&&l.push(e)};return(e,l)=>((0,r.wg)(),(0,r.iD)("nav",Da,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.crumbs,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:`crumb-${t}`,onClick:t=>a(e.go)},[(0,r._)("span",{textContent:(0,n.zw)(e.name)},null,8,Ha)],8,Aa)))),128))])]))}};const Ua=Ea;var Oa=Ua;const Fa=e=>((0,r.dD)("data-v-378fa6a1"),e=e(),(0,r.Cn)(),e),Ra={class:"qp-forum-header"},Va={class:"qp-forum-header-title"},La=["textContent"],Pa=["textContent"],Ya=Fa((()=>(0,r._)("hr",{class:"qp-forum-header-divider"},null,-1))),Na={class:"qp-forum-header-buttons"},Ma=["textContent"],Ba=["textContent"];var Za={__name:"qpHeader",props:{title:{type:String,default:""},description:{type:String,default:null},crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(l,a)=>{const o=(0,r.up)("el-col"),s=(0,r.up)("el-button"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("header",Ra,[(0,r._)("h2",Va,[(0,r._)("span",{textContent:(0,n.zw)(t.title)},null,8,La)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,class:"qp-forum-header-description",textContent:(0,n.zw)(t.description)},null,8,Pa)):(0,r.kq)("",!0),Ya,t.crumbs?.length||e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(u,{key:1,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{span:24,sm:e.showBtnChapter||e.showBtnReply?12:24,style:{"padding-left":"0"}},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(Oa,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1},8,["sm"]),e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(o,{key:0,span:24,sm:12,style:{"padding-right":"0"}},{default:(0,r.w5)((()=>[(0,r._)("div",Na,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:a[0]||(a[0]=e=>l.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(l.$t("NewChapter"))},null,8,Ma)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:a[1]||(a[1]=e=>l.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(l.$t("ToReply"))},null,8,Ba)])),_:1})):(0,r.kq)("",!0)])])),_:1})):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0)])}}};const Ia=(0,W.Z)(Za,[["__scopeId","data-v-378fa6a1"]]);var Ka=Ia;const Ja=(e,t=!0)=>{const l={year:"numeric",month:"long",day:"numeric",hour:t?"numeric":null,minute:t?"numeric":null,hour12:!1};return new Date(e).toLocaleString("fr",l)},Ga=(e,t)=>{const l=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],a=/\.0+$|(\.[0-9]*[1-9])0+$/;var r=l.slice().reverse().find((function(t){return e>=t.value}));return r?(e/r.value).toFixed(t).replace(a,"$1")+r.symbol:"0"},Qa=e=>{const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",l="aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(e=>l.charAt(t.indexOf(e)))).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},Xa=["id"],er={class:"qp-forum-territory-inner"},tr={class:"qp-forum-header"},lr=["textContent"],ar=["textContent"],rr=["textContent"],nr=["textContent"],or=["textContent"],sr=["textContent"],ur=["textContent"],ir=["textContent"],pr={class:"qp-forum-header-lastmessage"},dr=["textContent"],cr={key:0,class:"qp-forum-header-lastmessage-infos"},mr=["textContent"],wr=["textContent"];var gr={__name:"qpTerritoryList",props:{territory:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,$e.yj)(),a=(0,$e.tv)(),s=e=>{e&&a.push(e)},u=()=>{a.push({name:"WorldForumTerritory",params:{slug:l.params.slug,zone_pk:t.territory.zone.id,zone_slug:Qa(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:Qa(t.territory.name)}})};return(e,l)=>{const a=(0,r.up)("el-col"),i=(0,r.up)("el-row"),p=(0,r.up)("el-popover"),d=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.territory?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.territory.id}`,class:"qp-forum-territory",style:(0,n.j5)(`flex-basis:${t.territory.flexbasis};`)},[(0,r._)("div",er,[(0,r._)("header",tr,[(0,r.Wm)(p,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>u()),style:(0,n.j5)(t.territory.colour?`color:${t.territory.colour};`:"")},[(0,r._)("span",{textContent:(0,n.zw)(t.territory.name)},null,8,lr)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[t.territory.description?((0,r.wg)(),(0,r.j4)(a,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,n.zw)(t.territory.description)},null,8,ar)])),_:1})):(0,r.kq)("",!0),t.territory.count_sectors?((0,r.wg)(),(0,r.j4)(a,{key:1,span:8,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Ga)(t.territory.count_sectors))},null,8,rr),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Sector",t.territory.count_sectors))},null,8,nr)])])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Ga)(t.territory.count_chapters))},null,8,or),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Chapter",t.territory.count_chapters))},null,8,sr)])])),_:1},8,["span"]),(0,r.Wm)(a,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Ga)(t.territory.count_messages))},null,8,ur),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Message",t.territory.count_messages))},null,8,ir)])])),_:1},8,["span"])])),_:1})])),_:1}),(0,r._)("div",pr,[(0,r._)("div",{class:(0,n.C_)("qp-forum-header-lastmessage-avatar "+(t.territory.last_chapter?.last_message?"":"qp-empty"))},[t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(d,{key:0,src:t.territory.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.territory.last_chapter.last_message.author?.initials)},null,8,dr)])),_:1},8,["src"])):(0,r.kq)("",!0),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:l[1]||(l[1]=e=>s(t.territory.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0)],2),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",cr,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:l[2]||(l[2]=e=>s(t.territory.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,n.zw)(t.territory.last_chapter.last_message.chapter.title)},null,8,mr),(0,r._)("span",{class:"date",textContent:(0,n.zw)((0,o.SU)(Ja)(t.territory.last_chapter.last_message.chapter.created_at))},null,8,wr)])])):(0,r.kq)("",!0)])])])],12,Xa)):(0,r.kq)("",!0)}}};const _r=gr;var vr=_r;const hr=["id"],fr={class:"qp-forum-zone-inner"},yr={class:"qp-forum-territories"};var Cr={__name:"qpZoneList",props:{world:{type:Object,default:()=>{}},zone:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,$e.yj)(),a=(0,r.Fl)((()=>{if("WorldForum"==l.name)return[];let e=[{name:t.world.name,view:"world",data:{world:t.world}}];return e}));return(e,l)=>t.zone?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`z${t.zone.id}`,class:"qp-forum-zone"},[(0,r._)("div",fr,[(0,r.Wm)(Ka,{title:t.zone.name,description:t.zone.description,crumbs:(0,o.SU)(a)},null,8,["title","description","crumbs"]),(0,r._)("section",yr,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.zone.territories,((e,t)=>((0,r.wg)(),(0,r.j4)(vr,{key:`territory-${t}`,territory:e},null,8,["territory"])))),128))])])],8,hr)):(0,r.kq)("",!0)}};const xr=Cr;var br=xr;const qr={class:"qp-vue qp-forum qp-singleton-index"},kr={key:0},$r={class:"qp-container"},Wr={key:0,class:"qp-forum-zones"};var zr={__name:"IndexView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,s.oR)(),n=(0,r.Fl)((()=>a.getters.rat)),u=(0,o.iH)(!0),i=(0,o.iH)(null);(0,r.bv)((()=>{d()}));const p=(0,o.iH)(null),d=async()=>{u.value=!0,i.value=null;try{let e=await fetch(`${xs}/worlds/forums/${t.world.forum.id}/`,{method:"GET",headers:{Authorization:n.value}}),l=await e.json();if(200!==e.status)throw e;p.value=l}catch(e){403===e.status?i.value=l("YouDoesntHaveAccessToThisForum"):404===e.status?i.value=l("ThisForumDoesntExistAnymore"):i.value=l("AnErrorOccurred")}u.value=!1};return(e,l)=>((0,r.wg)(),(0,r.iD)("div",qr,[u.value||i.value||!p.value?((0,r.wg)(),(0,r.j4)(fa,{key:1,isloading:u.value,hasError:i.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",kr,[(0,r._)("div",$r,["WorldForum"==e.$route.name?((0,r.wg)(),(0,r.iD)("section",Wr,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.value.zones,((e,l)=>((0,r.wg)(),(0,r.j4)(br,{key:`zones-${l}`,world:t.world,zone:e},null,8,["world","zone"])))),128))])):(0,r.kq)("",!0)])]))]))}};const Sr=zr;var jr=Sr;const Tr={class:"qp-vue qp-forum qp-singleton-zone"},Dr={key:0},Ar={class:"qp-container"},Hr={class:"qp-forum-zones"},Er=["id"],Ur={class:"qp-forum-zone-inner"},Or={class:"qp-forum-territories"};var Fr={__name:"ZoneView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,$e.yj)(),n=(0,s.oR)(),u=(0,r.Fl)((()=>n.getters.rat)),i=(0,o.iH)(!0),p=(0,o.iH)(null),d=(0,r.Fl)((()=>{let e=[{name:c.value.forum.name,go:`/w/${a.params.slug}/forum`}];return e}));(0,r.bv)((()=>{m()}));const c=(0,o.iH)(null),m=async()=>{i.value=!0,p.value=null;try{let e=await fetch(`${xs}/worlds/zones/${a.params.zone_pk}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t}catch(e){403===e.status?p.value=l("YouDoesntHaveAccessToThisZone"):404===e.status?p.value=l("ThisZoneDoesntExistAnymore"):p.value=l("AnErrorOccurred")}i.value=!1};return(e,l)=>((0,r.wg)(),(0,r.iD)("div",Tr,[i.value||p.value||!c.value?((0,r.wg)(),(0,r.j4)(fa,{key:1,isloading:i.value,hasError:p.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Dr,[(0,r._)("div",Ar,[(0,r._)("section",Hr,[(0,r._)("article",{id:`z${c.value.id}`,class:"qp-forum-zone"},[(0,r._)("div",Ur,[(0,r.Wm)(Ka,{title:c.value.name,description:c.value.description,crumbs:(0,o.SU)(d)},null,8,["title","description","crumbs"]),(0,r._)("section",Or,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value.territories,((e,l)=>((0,r.wg)(),(0,r.j4)(vr,{key:`territory-${l}`,world:t.world,territory:e},null,8,["world","territory"])))),128))])])],8,Er)])])]))]))}};const Rr=Fr;var Vr=Rr;const Lr=e=>((0,r.dD)("data-v-8b3271d8"),e=e(),(0,r.Cn)(),e),Pr=["textContent"],Yr={class:"qp-quests-list"},Nr={class:"qp-quests-item"},Mr={class:"qp-quests-item-icon"},Br={class:"qp-quests-item-text"},Zr=Lr((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Récolter des plantes"},null,-1))),Ir=["textContent"],Kr={class:"qp-quests-item-progress"},Jr={class:"qp-quests-item"},Gr={class:"qp-quests-item-icon"},Qr={class:"qp-quests-item-text"},Xr=Lr((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Problème de vermine"},null,-1))),en=["textContent"],tn={class:"qp-quests-item-progress"},ln=["textContent"];var an={__name:"qpCardQuestsList",setup(e){return(e,t)=>{const l=(0,r.up)("el-icon"),a=(0,r.up)("el-progress"),o=(0,r.up)("el-button");return(0,r.wg)(),(0,r.j4)(_t,{h:"auto"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Quests"))},null,8,Pr)])),default:(0,r.w5)((()=>[(0,r._)("ul",Yr,[(0,r._)("li",Nr,[(0,r._)("div",Mr,[(0,r.Wm)(l,{class:"mdi mdi-leaf"})]),(0,r._)("div",Br,[Zr,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,n.zw)("Parcourir les alentours pour trouver des plantes utiles.")},null,8,Ir)]),(0,r._)("div",Kr,[(0,r.Wm)(a,{percentage:50,"stroke-width":4,"show-text":!1})])]),(0,r._)("li",Jr,[(0,r._)("div",Gr,[(0,r.Wm)(l,{class:"mdi mdi-sword"})]),(0,r._)("div",Qr,[Xr,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,n.zw)("Éliminer les créatures qui ont envahi la région et détruisent les récoltes.")},null,8,en)]),(0,r._)("div",tn,[(0,r.Wm)(a,{percentage:50,"stroke-width":4,"show-text":!1})])])]),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("SeeAllQuests"))},null,8,ln)])),_:1})])),_:1})}}};const rn=(0,W.Z)(an,[["__scopeId","data-v-8b3271d8"]]);var nn=rn;const on={class:"qp-forum-writing-newchapter"},sn={class:"qp-forum-writing-newchapter-form"},un=["innerHTML"],pn=["textContent"],dn=["textContent"];var cn={__name:"qpWritingChapter",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,$e.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),d=(0,r.Fl)((()=>u.getters.heros));(0,r.bv)((()=>{m()}));const c=(0,o.iH)([]),m=()=>{c.value=[];for(const e of d.value)e.world==t.world.id&&c.value.push(e)},w=(0,o.iH)(null),g=(0,o.iH)(!1),_=(0,o.iH)(),v=(0,o.qj)({title:"",character:null,text:""}),h=(0,o.qj)({title:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}],character:[{required:!0,message:l("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),f=async()=>{w.value=null,g.value=!0,await _.value.validate(((e,t)=>{if(e)y();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)w.value=`${t} : ${e.message}`}g.value=!1}}))},y=async()=>{w.value=null,g.value=!0;try{let e=new FormData;e.append("title",v.title),e.append("author",v.character),e.append("territory",t.territory.id),t.sector&&e.append("sector",t.sector.id);let r=await fetch(`${xs}/worlds/territories/${t.territory.id}/chapters/create/`,{method:"POST",headers:{Authorization:p.value},body:e}),n=await r.json();if(201===r.status)a.push(n.route);else for(let[t,a]of Object.entries(n)){let e=l(`error${t}`);for(let t of a)w.value=`${e} : ${t}`}}catch(e){console.log(e),w.value=l("AnErrorOccurred")}g.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-option"),u=(0,r.up)("el-select"),p=(0,r.up)("el-form"),d=(0,r.up)("el-col"),m=(0,r.up)("el-alert"),y=(0,r.up)("el-button"),C=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",on,[(0,r.Wm)(Ka,{title:e.$t("Writing"),description:e.$t("NewChapter")},null,8,["title","description"]),(0,r._)("section",sn,[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{style:(0,n.j5)((0,o.SU)(i).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{ref_key:"formNewChapterRef",ref:_,model:v,"label-position":(0,o.SU)(i).win.w<1200?"top":"right",rules:h,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Title"),prop:"title"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:v.title,"onUpdate:modelValue":t[0]||(t[0]=e=>v.title=e),type:"text",placeholder:e.$t("NewChapterTitle")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:v.character,"onUpdate:modelValue":t[1]||(t[1]=e=>v.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(s,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:v.text,"onUpdate:modelValue":t[2]||(t[2]=e=>v.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),w.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:w.value},null,8,un)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:g.value,onClick:t[3]||(t[3]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,pn)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:g.value,type:"primary",onClick:t[4]||(t[4]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,dn)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const mn=(0,W.Z)(cn,[["__scopeId","data-v-91ca93b8"]]);var wn=mn;const gn=["id"],_n={class:"qp-forum-sector-inner"},vn={class:"qp-forum-header"},hn=["textContent"],fn=["textContent"],yn=["textContent"],Cn=["textContent"],xn=["textContent"],bn=["textContent"];var qn={__name:"qpSectorList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,$e.yj)(),a=(0,$e.tv)(),s=()=>{a.push({name:"WorldForumSector",params:{slug:l.params.slug,zone_pk:l.params.zone_pk,zone_slug:l.params.zone_slug,territory_pk:l.params.territory_pk,territory_slug:l.params.territory_slug,sector_pk:t.sector.id,sector_slug:Qa(t.sector.name)}})};return(e,l)=>{const a=(0,r.up)("el-col"),u=(0,r.up)("el-row"),i=(0,r.up)("el-popover");(0,r.up)("el-avatar"),(0,r.up)("el-icon");return t.sector?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.sector.id}`,class:"qp-forum-sector",style:(0,n.j5)(`flex-basis:${t.sector.flexbasis};`)},[(0,r._)("div",_n,[(0,r._)("header",vn,[(0,r.Wm)(i,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>s()),style:(0,n.j5)(t.sector.colour?`color:${t.sector.colour};`:"")},[(0,r._)("span",{textContent:(0,n.zw)(t.sector.name)},null,8,hn)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[t.sector.description?((0,r.wg)(),(0,r.j4)(a,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,n.zw)(t.sector.description)},null,8,fn)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Ga)(t.sector.count_chapters))},null,8,yn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Chapter",t.sector.count_chapters))},null,8,Cn)])])),_:1}),(0,r.Wm)(a,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Ga)(t.sector.count_messages))},null,8,xn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Message",t.sector.count_messages))},null,8,bn)])])),_:1})])),_:1})])),_:1}),(0,r.kq)("",!0)])])],12,gn)):(0,r.kq)("",!0)}}};const kn=qn;var $n=kn;const Wn=["id"],zn={class:"qp-forum-chapter-inner"},Sn={class:"qp-forum-header"},jn={class:"qp-forum-header-profile"},Tn={class:"qp-forum-header-profile-banner"},Dn=(0,r._)("div",{class:"image-slot"},null,-1),An={class:"qp-forum-header-profile-avatar"},Hn=["textContent"],En=["textContent"],Un={class:"qp-forum-header-date"},On=["textContent"],Fn={class:"qp-forum-header-infos"},Rn={class:"qp-forum-header-infos-lastmessagedate"},Vn=["textContent"],Ln=["textContent"],Pn={class:"qp-forum-header-infos-countmessages"},Yn=["textContent"];var Nn={__name:"qpChapterList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,$e.tv)(),a=()=>{l.push({name:"WorldForumTerritoryChapter",params:{slug:t.world.slug,zone_pk:t.territory.zone.id,zone_slug:Qa(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:Qa(t.territory.name),chapter_pk:t.chapter.id,chapter_slug:Qa(t.chapter.title)}})};return(e,l)=>{const s=(0,r.up)("el-image"),u=(0,r.up)("el-avatar"),i=(0,r.up)("el-icon");return t.chapter?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`c${t.chapter.id}`,class:"qp-forum-chapter"},[(0,r._)("div",zn,[(0,r._)("header",Sn,[(0,r._)("div",jn,[(0,r._)("div",Tn,[t.chapter.author?.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:t.chapter.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Dn])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",An,[(0,r.Wm)(u,{src:t.chapter.last_message?.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.chapter.last_message?.author?.initials)},null,8,Hn)])),_:1},8,["src"])])]),(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>a())},[(0,r._)("span",{textContent:(0,n.zw)(t.chapter.title)},null,8,En)]),(0,r._)("p",Un,[t.chapter.date?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,n.zw)(t.chapter.date)},null,8,On)):(0,r.kq)("",!0)]),(0,r._)("ul",Fn,[(0,r._)("li",Rn,[(0,r.Wm)(i,{class:"mdi mdi-clock-outline"}),t.chapter.last_message?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,n.zw)((0,o.SU)(Ja)(t.chapter.last_message.created_at))},null,8,Vn)):((0,r.wg)(),(0,r.iD)("span",{key:1,textContent:(0,n.zw)(e.$t("Never"))},null,8,Ln))]),(0,r._)("li",Pn,[(0,r.Wm)(i,{class:"mdi mdi-message-text-outline"}),(0,r._)("span",{textContent:(0,n.zw)(t.chapter.count_messages)},null,8,Yn)])])])])],8,Wn)):(0,r.kq)("",!0)}}};const Mn=Nn;var Bn=Mn;const Zn={class:"qp-vue qp-forum qp-singleton-territory"},In={key:0},Kn={class:"qp-container"},Jn={class:"qp-forum-territories"},Gn=["id"],Qn={class:"qp-forum-territory-inner"},Xn={class:"qp-forum-sectors"},eo={key:0},to=(0,r.Uk)(" (en construction) "),lo=["textContent"],ao={class:"qp-forum-chapters"};var ro={__name:"TerritoryView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,$e.yj)(),u=(0,$e.tv)(),i=(0,s.oR)(),p=(0,r.Fl)((()=>i.getters.rat)),d=(0,o.iH)(!0),c=(0,o.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:w.value.forum.name,go:`/w/${a.params.slug}/forum`}];return w.value&&e.push({name:w.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),e}));(0,r.bv)((()=>{g()}));const w=(0,o.iH)(null),g=async()=>{d.value=!0,c.value=null;try{let e=await fetch(`${xs}/worlds/territories/${a.params.territory_pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t}catch(e){403===e.status?c.value=l("YouDoesntHaveAccessToThisTerritory"):404===e.status?c.value=l("ThisTerritoryDoesntExistAnymore"):c.value=l("AnErrorOccurred")}d.value=!1},_=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),v=e=>{u.push({name:"WorldForumTerritory",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:w.value.id,territory_slug:Qa(w.value.name)},query:{page:e}})},h=(0,o.iH)(!1),f=()=>{h.value=!0},y=()=>{h.value=!1};return(l,a)=>{const s=(0,r.up)("el-col"),u=(0,r.up)("el-pagination"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",Zn,[d.value||c.value||!w.value?((0,r.wg)(),(0,r.j4)(fa,{key:1,isloading:d.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",In,[(0,r._)("div",Kn,[(0,r._)("section",Jn,[(0,r._)("article",{id:`t${w.value.id}`,class:"qp-forum-territory"},[(0,r._)("div",Qn,[(0,r.Wm)(Ka,{title:w.value.name,description:w.value.description,crumbs:(0,o.SU)(m)},null,8,["title","description","crumbs"]),h.value?((0,r.wg)(),(0,r.j4)(wn,{key:1,world:e.world,territory:w.value,onClose:a[1]||(a[1]=e=>y())},null,8,["world","territory"])):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("section",Xn,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.sectors,((e,l)=>((0,r.wg)(),(0,r.j4)($n,{key:`sector-${l}`,world:t.world,territory:w.value,sector:e},null,8,["world","territory","sector"])))),128)),w.value.sectors?.length?((0,r.wg)(),(0,r.iD)("hr",eo)):(0,r.kq)("",!0)]),(0,r._)("section",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[to])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,{clickable:"",bgcolor:"primary",onClick:a[0]||(a[0]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(l.$t("NewChapter"))},null,8,lo)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",ao,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.chapters,((e,l)=>((0,r.wg)(),(0,r.j4)(Bn,{key:`chapter-${l}`,world:t.world,territory:w.value,chapter:e},null,8,["world","territory","chapter"])))),128)),w.value.chapters.length?((0,r.wg)(),(0,r.j4)(u,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:w.value.count_chapters,"page-size":w.value.perpage_chapters,"current-page":(0,o.SU)(_),"onUpdate:currentPage":v},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(nn)])),_:1})])),_:1})])],64))])],8,Gn)])])]))])}}};const no=ro;var oo=no;const so={class:"qp-vue qp-forum qp-singleton-sector"},uo={key:0},io={class:"qp-container"},po={class:"qp-forum-territories"},co=["id"],mo={class:"qp-forum-sector-inner"},wo={key:0},go=(0,r.Uk)(" (en construction) "),_o=["textContent"],vo={class:"qp-forum-chapters"};var ho={__name:"SectorView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,$e.yj)(),u=(0,$e.tv)(),i=(0,s.oR)(),p=(0,r.Fl)((()=>i.getters.rat)),d=(0,o.iH)(!0),c=(0,o.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:w.value.forum.name,go:`/w/${a.params.slug}/forum`}];return w.value?.zone&&e.push({name:w.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),w.value?.territory&&e.push({name:w.value.territory.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}`}),e}));(0,r.bv)((()=>{g()}));const w=(0,o.iH)(null),g=async()=>{d.value=!0,c.value=null;try{let e=await fetch(`${xs}/worlds/sectors/${a.params.sector_pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t}catch(e){403===e.status?c.value=l("YouDoesntHaveAccessToThisSector"):404===e.status?c.value=l("ThisSectorDoesntExistAnymore"):c.value=l("AnErrorOccurred")}d.value=!1},_=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),v=e=>{u.push({name:"WorldForumSector",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,sector_pk:w.value.id,sector_slug:Qa(w.value.name)},query:{page:e}})},h=(0,o.iH)(!1),f=()=>{h.value=!0},y=()=>{h.value=!1};return(e,l)=>{const a=(0,r.up)("el-col"),s=(0,r.up)("el-pagination"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",so,[d.value||c.value||!w.value?((0,r.wg)(),(0,r.j4)(fa,{key:1,isloading:d.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",uo,[(0,r._)("div",io,[(0,r._)("section",po,[(0,r._)("article",{id:`s${w.value.id}`,class:"qp-forum-sector"},[(0,r._)("div",mo,[(0,r.Wm)(Ka,{title:w.value.name,description:w.value.description,crumbs:(0,o.SU)(m)},null,8,["title","description","crumbs"]),h.value?((0,r.wg)(),(0,r.j4)(wn,{key:1,type:"chapter",territory:t.territory,sector:w.value,onClose:l[1]||(l[1]=e=>y())},null,8,["territory","sector"])):((0,r.wg)(),(0,r.iD)("section",wo,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[go])),_:1})])),_:1}),(0,r.Wm)(a,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(_t,{clickable:"",bgcolor:"primary",onClick:l[0]||(l[0]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("NewChapter"))},null,8,_o)])),_:1})])),_:1}),(0,r.Wm)(a,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",vo,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.chapters,((e,l)=>((0,r.wg)(),(0,r.j4)(Bn,{key:`chapter-${l}`,world:t.world,territory:w.value.territory,sector:w.value,chapter:e},null,8,["world","territory","sector","chapter"])))),128)),w.value.chapters.length?((0,r.wg)(),(0,r.j4)(s,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:w.value.count_chapters,"page-size":w.value.perpage_chapters,"current-page":(0,o.SU)(_),"onUpdate:currentPage":v},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(a,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(nn)])),_:1})])),_:1})]))])],8,co)])])]))])}}};const fo=ho;var yo=fo;const Co={class:"qp-forum-footer"},xo={class:"qp-forum-footer-buttons"},bo=["textContent"],qo=["textContent"];var ko={__name:"qpFooter",props:{crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(l,a)=>{const o=(0,r.up)("el-col"),s=(0,r.up)("el-button"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("footer",Co,[(0,r.Wm)(u,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{span:24,sm:12},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(Oa,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(o,{span:24,sm:12},{default:(0,r.w5)((()=>[(0,r._)("div",xo,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:a[0]||(a[0]=e=>l.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(l.$t("NewChapter"))},null,8,bo)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:a[1]||(a[1]=e=>l.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(l.$t("ToReply"))},null,8,qo)])),_:1})):(0,r.kq)("",!0)])])),_:1})])),_:1})])}}};const $o=(0,W.Z)(ko,[["__scopeId","data-v-6adf28f5"]]);var Wo=$o;const zo=e=>{let t=e;return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replaceAll("\n","<br />").replaceAll("[g]",'<span style="font-weight:bold;">').replaceAll("[/g]","</span>").replaceAll("[i]",'<span style="font-style:italic;">').replaceAll("[/i]","</span>").replaceAll("[s]",'<span style="text-decoration:underline;">').replaceAll("[/s]","</span>").replaceAll("[b]",'<span style="text-decoration:line-through;">').replaceAll("[/b]","</span>").replace(/\[c=#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\]/g,'<span style="color:#$1;">').replace(/\[c=([a-zA-Z0-9_]+)\]/g,'<span style="color:var(--c-$1);">').replaceAll("[/c]","</span>").replace(/\[p=(Indie Flower|Oswald|Quicksand|Roboto Condensed)\]/g,"<span style=\"font-family:'$1';\">").replaceAll("[/p]","</span>").replace(/\[url=([^<>[\]]+)\]/g,'<a href="$1">').replaceAll("[/url]","</a>").replace(/\[urlo=([^<>[\]]+)\]/g,'<a href="$1" target="_blank">').replaceAll("[/urlo]","</a>").replace(/\[ico=([a-z- ]+)\]/g,'<i class="mdi $1"></i>'),t},So=e=>((0,r.dD)("data-v-5825edaf"),e=e(),(0,r.Cn)(),e),jo=["id"],To={class:"qp-forum-message-inner"},Do={class:"qp-forum-header"},Ao={class:"qp-forum-header-profile"},Ho={class:"qp-forum-header-profile-banner"},Eo=So((()=>(0,r._)("div",{class:"image-slot"},null,-1))),Uo={class:"qp-forum-header-profile-avatar"},Oo=["textContent"],Fo={class:"qp-forum-header-profile-infos"},Ro={class:"qp-forum-header-profile-name"},Vo=["textContent"],Lo={class:"qp-forum-header-profile-date"},Po=["textContent"],Yo={class:"qp-forum-message-text"},No={class:"qp-forum-message-text-inner"},Mo=["innerHTML"];var Bo={__name:"qpMessage",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}},message:{type:Object,default:()=>{}}},setup(e){const t=e;return(e,l)=>{const a=(0,r.up)("el-image"),s=(0,r.up)("el-avatar");return t.message?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`m${t.message.id}`,class:"qp-forum-message"},[(0,r._)("div",To,[(0,r._)("header",Do,[(0,r._)("div",Ao,[(0,r._)("div",Ho,[t.message.author.avatar?((0,r.wg)(),(0,r.j4)(a,{key:0,src:t.message.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Eo])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",Uo,[(0,r.Wm)(s,{src:t.message.author.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.message.author.initials)},null,8,Oo)])),_:1},8,["src"])]),(0,r._)("div",Fo,[(0,r._)("div",Ro,[(0,r._)("span",{textContent:(0,n.zw)(t.message.author.name)},null,8,Vo)]),(0,r._)("div",Lo,[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Ja)(t.message.created_at))},null,8,Po)])])])]),(0,r._)("div",Yo,[(0,r._)("div",No,[(0,r._)("div",{innerHTML:(0,o.SU)(zo)(t.message.text)},null,8,Mo)])])])],8,jo)):(0,r.kq)("",!0)}}};const Zo=(0,W.Z)(Bo,[["__scopeId","data-v-5825edaf"]]);var Io=Zo;const Ko={class:"qp-forum-writing-newchapter"},Jo={class:"qp-forum-writing-newchapter-form"},Go=["innerHTML"],Qo=["textContent"],Xo=["textContent"];var es={__name:"qpWritingReply",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,$e.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),d=(0,r.Fl)((()=>u.getters.heros));(0,r.bv)((()=>{m()}));const c=(0,o.iH)([]),m=()=>{c.value=[];for(const e of d.value)e.world==t.world.id&&c.value.push(e)},w=(0,o.iH)(null),g=(0,o.iH)(!1),_=(0,o.iH)(),v=(0,o.qj)({character:null,text:""}),h=(0,o.qj)({character:[{required:!0,message:l("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),f=async()=>{w.value=null,g.value=!0,await _.value.validate(((e,t)=>{if(e)y();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)w.value=`${t} : ${e.message}`}g.value=!1}}))},y=async()=>{w.value=null,g.value=!0;try{let e=new FormData;e.append("chapter",t.chapter.id),e.append("author",v.character),e.append("text",v.text);let r=await fetch(`${xs}/worlds/chapters/${t.chapter.id}/messages/create/`,{method:"POST",headers:{Authorization:p.value},body:e}),n=await r.json();if(201===r.status)a.push(n.route);else for(let[t,a]of Object.entries(n)){let e=l(`error${t}`);for(let t of a)w.value=`${e} : ${t}`}}catch{w.value=l("AnErrorOccurred")}g.value=!1};return(e,t)=>{const l=(0,r.up)("el-option"),a=(0,r.up)("el-select"),s=(0,r.up)("el-form-item"),u=(0,r.up)("el-input"),p=(0,r.up)("el-form"),d=(0,r.up)("el-col"),m=(0,r.up)("el-alert"),y=(0,r.up)("el-button"),C=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",Ko,[(0,r.Wm)(Ka,{title:e.$t("Writing"),description:e.$t("ToReply")},null,8,["title","description"]),(0,r._)("section",Jo,[(0,r.Wm)(_t,null,{default:(0,r.w5)((()=>[(0,r.Wm)(C,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{style:(0,n.j5)((0,o.SU)(i).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{ref_key:"formNewReplyRef",ref:_,model:v,"label-position":(0,o.SU)(i).win.w<1200?"top":"right",rules:h,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:v.character,"onUpdate:modelValue":t[0]||(t[0]=e=>v.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(s,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:v.text,"onUpdate:modelValue":t[1]||(t[1]=e=>v.text=e),type:"textarea",rows:12,placeholder:e.$t("YourReply")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),w.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:w.value},null,8,Go)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:g.value,onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Qo)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:g.value,type:"primary",onClick:t[3]||(t[3]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Xo)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const ts=(0,W.Z)(es,[["__scopeId","data-v-3f913287"]]);var ls=ts;const as={class:"qp-vue qp-forum qp-singleton-zone"},rs={key:0},ns={class:"qp-container"},os={class:"qp-forum-chapters"},ss=["id"],us={class:"qp-forum-chapter-inner"},is={key:0,class:"qp-forum-messages"},ps={key:0,id:"reply",class:"qp-forum-writing"};var ds={__name:"ChapterView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Pe.global,a=(0,$e.yj)(),n=(0,$e.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.rat)),p=(0,o.iH)(!0),d=(0,o.iH)(null),c=(0,r.Fl)((()=>{let e=[{name:m.value.forum.name,go:`/w/${a.params.slug}/forum`}];return m.value&&e.push({name:m.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),m.value&&e.push({name:m.value.territory.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}`}),m.value?.sector&&e.push({name:m.value.sector.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}/s${a.params.sector_pk}-${a.params.sector_slug}`}),e}));(0,r.bv)((()=>{g()}));const m=(0,o.iH)(null),w=(0,o.iH)(null),g=async()=>{p.value=!0,d.value=null;try{let e=await fetch(`${xs}/worlds/chapters/${a.params.chapter_pk}/`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t,_()}catch(e){403===e.status?d.value=l("YouDoesntHaveAccessToThisChapter"):404===e.status?d.value=l("ThisChapterDoesntExistAnymore"):d.value=l("AnErrorOccurred")}p.value=!1},_=async()=>{p.value=!0,d.value=null;try{let e=await fetch(`${xs}/worlds/chapters/${a.params.chapter_pk}/messages/?page=${h.value}`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t,v()}catch(e){403===e.status?d.value=l("YouDoesntHaveAccessToThisChapter"):404===e.status?d.value=l("ThisPageDoesntExistAnymore"):d.value=l("AnErrorOccurred")}p.value=!1},v=()=>{setTimeout((()=>{if(a.hash&&(a.hash.startsWith("#c")||a.hash.startsWith("#m"))){const e=document.getElementById(a.hash.replace("#",""));e&&e.scrollIntoView({behavior:"smooth"})}}),400)},h=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),f=e=>{let t="WorldForumTerritoryChapter",l={name:t,params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,chapter_pk:a.params.chapter_pk,chapter_slug:a.params.chapter_slug},query:{page:e}};m.value?.sector&&(l.name="WorldForumSectorChapter",l.params["sector_pk"]=a.params.sector_pk,l.params["sector_slug"]=a.params.sector_slug),n.push(l)},y=(0,o.iH)(!1),C=()=>{y.value=!0,setTimeout((()=>{const e=document.getElementById("reply");e?.scrollIntoView()}),100)},x=()=>{y.value=!1};return(e,l)=>{const a=(0,r.up)("el-pagination");return(0,r.wg)(),(0,r.iD)("div",as,[p.value||d.value||!m.value?((0,r.wg)(),(0,r.j4)(fa,{key:1,isloading:p.value,hasError:d.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",rs,[(0,r._)("div",ns,[(0,r._)("section",os,[m.value?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`c${m.value.id}`,class:"qp-forum-chapter"},[(0,r._)("div",us,[(0,r.Wm)(Ka,{"show-btn-reply":"",title:m.value.title,description:m.value.description,crumbs:(0,o.SU)(c),onOpenNewReply:l[0]||(l[0]=e=>C())},null,8,["title","description","crumbs"]),w.value?((0,r.wg)(),(0,r.iD)("section",is,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.results,((e,l)=>((0,r.wg)(),(0,r.j4)(Io,{key:`message-${l}`,world:t.world,chapter:m.value,message:e},null,8,["world","chapter","message"])))),128))])):(0,r.kq)("",!0),(0,r.Wm)(Wo,{"show-btn-reply":"",crumbs:(0,o.SU)(c),onOpenNewReply:l[1]||(l[1]=e=>C())},null,8,["crumbs"]),w.value?.results.length?((0,r.wg)(),(0,r.j4)(a,{key:1,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:w.value.count,"page-size":w.value.size,"current-page":(0,o.SU)(h),"onUpdate:currentPage":f},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])],8,ss)):(0,r.kq)("",!0)]),y.value?((0,r.wg)(),(0,r.iD)("section",ps,[(0,r.Wm)(ls,{world:t.world,chapter:m.value,onClose:l[2]||(l[2]=e=>x())},null,8,["world","chapter"])])):(0,r.kq)("",!0)])]))])}}};const cs=ds;var ms=cs;const ws=[{path:"/w/:slug",name:"World",component:Ta,children:[{path:"forum",name:"WorldForum",component:jr},{path:"forum/z:zone_pk(\\d+)-:zone_slug",name:"WorldForumZone",component:Vr},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug",name:"WorldForumTerritory",component:oo},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumTerritoryChapter",component:ms},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug",name:"WorldForumSector",component:yo},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumSectorChapter",component:ms}]}],gs=[{path:"/",name:"Home",component:dt},{path:"/me/characters",name:"MeCharacters",component:Lt},{path:"/me/worlds",name:"MeWorlds",component:bl},{path:"/heros/:pk",name:"HeroDetail",component:Sl},{path:"/:catchAll(.*)",name:"Error",component:El}];gs.push(...da),gs.push(...ws);const _s=(0,$e.p7)({history:(0,$e.PO)("/"),routes:gs});_s.beforeEach((async(e,t,l)=>{"world_pk"in e.params||document.getElementById("qp-custom-style")&&document.getElementById("qp-custom-style").remove(),ot.dispatch("getPlayer"),await ot.restored,l()}));var vs=_s,hs=l(5017),fs=l(4242);l(4415);const ys=(0,a.ri)(Ue),Cs={name:"Cynorrhodonnismes",shortname:"Cynorrs"},xs="https://mcpronovost.pythonanywhere.com/api";ys.use(Pe),ys.use(ot),ys.use(vs),ys.use(hs.Z,{locale:fs.Z}),ys.mount("#app")},4465:function(e,t,l){e.exports=l.p+"img/logo-square-trans.png"}},t={};function l(a){var r=t[a];if(void 0!==r)return r.exports;var n=t[a]={exports:{}};return e[a].call(n.exports,n,n.exports,l),n.exports}l.m=e,function(){var e=[];l.O=function(t,a,r,n){if(!a){var o=1/0;for(p=0;p<e.length;p++){a=e[p][0],r=e[p][1],n=e[p][2];for(var s=!0,u=0;u<a.length;u++)(!1&n||o>=n)&&Object.keys(l.O).every((function(e){return l.O[e](a[u])}))?a.splice(u--,1):(s=!1,n<o&&(o=n));if(s){e.splice(p--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[a,r,n]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,n,o=a[0],s=a[1],u=a[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(u)var p=u(l)}for(t&&t(a);i<o.length;i++)n=o[i],l.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return l.O(p)},a=self["webpackChunk_mcpronovost_cynorrs"]=self["webpackChunk_mcpronovost_cynorrs"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(9406)}));a=l.O(a)})();