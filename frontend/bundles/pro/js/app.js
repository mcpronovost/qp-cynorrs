(function(){"use strict";var e={1922:function(e,t,a){a.d(t,{b:function(){return Ru},E:function(){return Lu}});var l=a(9242),r=a(3396),n=a(7139),o=a(4870),s=a(65),u=a(2748);const i=e=>((0,r.dD)("data-v-f7f4a098"),e=e(),(0,r.Cn)(),e),p={id:"qp-header-menu-player"},d=["textContent"],c=["textContent"],m=["textContent"],g=["textContent"],w=i((()=>(0,r._)("br",null,null,-1))),_=["textContent"],v=i((()=>(0,r._)("hr",null,null,-1))),h=["textContent"],f=["textContent"],y=["textContent"],b=i((()=>(0,r._)("hr",null,null,-1))),x=["textContent"],C=["textContent"],q=i((()=>(0,r._)("hr",null,null,-1))),k=["textContent"];var W={__name:"qpHeaderNavPlayer",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.rat)),l=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-icon"),u=(0,r.up)("el-menu-item"),i=(0,r.up)("el-menu"),W=(0,r.up)("el-badge"),$=(0,r.up)("el-sub-menu");return(0,r.wg)(),(0,r.iD)("div",p,[(0,o.SU)(a)?((0,r.wg)(),(0,r.j4)(i,{key:1,router:"",mode:"horizontal","menu-trigger":"click","default-active":e.$route&&e.$route.name?e.$route.name:null},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{disabled:"",index:"notifications"},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{hidden:!0,"is-dot":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-bell-outline"})])),_:1})])),_:1}),(0,r.Wm)(u,{disabled:"",index:"messages"},{default:(0,r.w5)((()=>[(0,r.Wm)(W,{hidden:!0,value:123,max:99},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-email-outline"})])),_:1})])),_:1}),(0,r.Wm)($,{index:"1"},{title:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(l)?.playername)},null,8,m)])),default:(0,r.w5)((()=>[(0,r.Wm)(u,{index:"MeProfile",route:{name:"MeProfile"},disabled:e.$route.name&&"MeProfile"==e.$route.name,class:"qp-multiline"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("SignedInAs"))},null,8,g),w,(0,r._)("strong",{textContent:(0,n.zw)((0,o.SU)(l)?.playername)},null,8,_)])),_:1},8,["disabled"]),v,(0,r.Wm)(u,{index:"MeProfile",route:{name:"MeProfile"},disabled:e.$route.name&&"MeProfile"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourProfile"))},null,8,h)])),_:1},8,["disabled"]),(0,r.Wm)(u,{index:"MeCharacters",route:{name:"MeCharacters"},disabled:e.$route.name&&"MeCharacters"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourCharacters"))},null,8,f)])),_:1},8,["disabled"]),(0,r.Wm)(u,{index:"MeWorlds",route:{name:"MeWorlds"},disabled:e.$route.name&&"MeWorlds"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourWorlds"))},null,8,y)])),_:1},8,["disabled"]),b,(0,r.Wm)(u,{disabled:"",index:"help"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Help"))},null,8,x)])),_:1}),(0,r.Wm)(u,{disabled:"",index:"settings"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Settings"))},null,8,C)])),_:1}),q,(0,r.Wm)(u,{index:"AuthLogout",route:{name:"AuthLogout"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Logout"))},null,8,k)])),_:1})])),_:1})])),_:1},8,["default-active"])):((0,r.wg)(),(0,r.j4)(i,{key:0,router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{index:"AuthLogin",route:{name:"AuthLogin"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-power"}),(0,r._)("span",{textContent:(0,n.zw)(e.$t("Login"))},null,8,d)])),_:1}),(0,r.Wm)(u,{index:"AuthRegister",route:{name:"AuthRegister"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-login-variant"}),(0,r._)("span",{textContent:(0,n.zw)(e.$t("Register"))},null,8,c)])),_:1})])),_:1}))])}}},$=a(89);const z=(0,$.Z)(W,[["__scopeId","data-v-f7f4a098"]]);var S=z;const T=e=>((0,r.dD)("data-v-435885fa"),e=e(),(0,r.Cn)(),e),j={id:"qp-app-header"},D={id:"qp-header-logo-img"},H=T((()=>(0,r._)("div",{class:"image-slot"},null,-1))),A={id:"qp-header-logo-title"},E=["textContent"],U={id:"qp-header-menu-app"},M=["textContent"],F=["textContent"];var O={__name:"qpHeader",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app)),i=(0,o.iH)(a(4465)),p=()=>{t.commit("TOGGLE_SIDEBAR")};return(e,t)=>{const a=(0,r.up)("el-image"),s=(0,r.up)("el-icon"),d=(0,r.up)("el-menu-item"),c=(0,r.up)("el-menu"),m=(0,r.up)("el-col"),g=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",j,[(0,r.Wm)(g,{gutter:20,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{span:10,class:"text-left"},{default:(0,r.w5)((()=>[(0,r._)("div",{id:"qp-header-logo",onClick:t[0]||(t[0]=t=>e.$router.go({name:"Home"}))},[(0,r._)("div",D,[(0,r.Wm)(a,{src:i.value,fit:"cover"},{error:(0,r.w5)((()=>[H])),_:1},8,["src"])]),(0,r._)("div",A,[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(Lu).shortname)},null,8,E)])]),(0,o.SU)(l).win.w>=1200?((0,r.wg)(),(0,r.iD)("div",{key:0,id:"qp-header-toggle-sidebar",onClick:t[1]||(t[1]=e=>p())},[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,o.SU)(l).sidebar.collapse?((0,r.wg)(),(0,r.j4)((0,o.SU)(u.M0b),{key:0})):((0,r.wg)(),(0,r.j4)((0,o.SU)(u.qFw),{key:1}))])),_:1})])):(0,r.kq)("",!0),(0,r._)("div",U,[(0,r.Wm)(c,{router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{disabled:"",index:"discover"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Discover"))},null,8,M)])),_:1}),(0,r.Wm)(d,{disabled:"",index:"browse"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Browse"))},null,8,F)])),_:1})])),_:1})])])),_:1}),(0,r.Wm)(m,{span:14,class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Wm)(S)])),_:1})])),_:1})])}}};const V=(0,$.Z)(O,[["__scopeId","data-v-435885fa"]]);var L=V;const R=e=>((0,r.dD)("data-v-2e508a8a"),e=e(),(0,r.Cn)(),e),P={id:"qp-sidebar-profile"},N={id:"qp-sidebar-banner"},Y=R((()=>(0,r._)("div",{class:"image-slot"},null,-1))),B={id:"qp-sidebar-avatar"},I={id:"qp-sidebar-name"},Z=["textContent"],G={key:0,id:"qp-sidebar-title"},J=["textContent"];var K={__name:"qpSidebarProfile",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.rat)),l=(0,r.Fl)((()=>t.getters.player)),i=(0,o.iH)("Qui ne fait que passer");return(e,t)=>{const s=(0,r.up)("el-image"),p=(0,r.up)("el-icon"),d=(0,r.up)("el-avatar");return(0,r.wg)(),(0,r.iD)("div",P,[(0,r._)("div",N,[(0,r.Wm)(s,{src:(0,o.SU)(l)?.banner,fit:"cover"},{error:(0,r.w5)((()=>[Y])),_:1},8,["src"])]),(0,r._)("div",B,[(0,r.Wm)(d,{src:(0,o.SU)(l)?.avatar},{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,o.SU)(u.n5m))])),_:1})])),_:1},8,["src"])]),(0,r._)("div",I,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(l)?.playername)},null,8,Z)])]),(0,o.SU)(a)?((0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("p",null,[(0,r._)("span",{textContent:(0,n.zw)(i.value)},null,8,J)])])):(0,r.kq)("",!0)])}}};const Q=(0,$.Z)(K,[["__scopeId","data-v-2e508a8a"]]);var X=Q;const ee=e=>((0,r.dD)("data-v-bef58284"),e=e(),(0,r.Cn)(),e),te={id:"qp-sidebar-nav"},ae=ee((()=>(0,r._)("i",{class:"mdi mdi-home"},null,-1))),le=["textContent"],re=ee((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),ne=["textContent"],oe=ee((()=>(0,r._)("i",{class:"mdi mdi-scale-balance"},null,-1))),se=["textContent"],ue=ee((()=>(0,r._)("i",{class:"mdi mdi-script-text"},null,-1))),ie=["textContent"],pe=ee((()=>(0,r._)("i",{class:"mdi mdi-forum-outline"},null,-1))),de=["textContent"],ce=ee((()=>(0,r._)("i",{class:"mdi mdi-account-group"},null,-1))),me=["textContent"],ge=ee((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),we=["textContent"];var _e={__name:"qpSidebarNav",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.app)),l=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-menu-item"),u=(0,r.up)("el-sub-menu"),i=(0,r.up)("el-menu");return(0,r.wg)(),(0,r.iD)("div",te,[(0,r.Wm)(i,{router:"","default-active":e.$route&&e.$route.params&&"slug"in e.$route.params?e.$route.params.slug:e.$route.name,collapse:(0,o.SU)(a).win.w<1200||(0,o.SU)(a).sidebar?.collapse},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{index:"Home",route:{name:"Home"}},{default:(0,r.w5)((()=>[ae,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Home"))},null,8,le)])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,o.SU)(l)?.worldnavs,((t,a)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[e.$route.params.slug&&e.$route.params.slug==t.slug?((0,r.wg)(),(0,r.j4)(u,{key:`world-nav-group-${a}`,index:t.slug},{title:(0,r.w5)((()=>[re,(0,r._)("span",{textContent:(0,n.zw)(t.name)},null,8,ne)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:"",index:`${t.slug}-rules`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[oe,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Rules"))},null,8,se)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-context`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ue,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Context"))},null,8,ie)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[pe,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Forum"))},null,8,de)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-community`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ce,(0,r._)("span",{textContent:(0,n.zw)(e.$t("Community"))},null,8,me)])),_:2},1032,["index","route"])])),_:2},1032,["index"])):((0,r.wg)(),(0,r.j4)(s,{key:`world-nav-${a}`,index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ge,(0,r._)("span",{textContent:(0,n.zw)(t.name)},null,8,we)])),_:2},1032,["index","route"]))],64)))),256))])),_:1},8,["default-active","collapse"])])}}};const ve=(0,$.Z)(_e,[["__scopeId","data-v-bef58284"]]);var he=ve;const fe={id:"qp-sibebar-inner"},ye={id:"qp-sibebar-main"},be={id:"qp-sidebar-footer"},xe=["innerHTML"];var Ce={__name:"qpSidebar",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.app));return(e,t)=>{const l=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",{id:"qp-app-sidebar",class:(0,n.C_)((0,o.SU)(a).win.w<1200||(0,o.SU)(a).sidebar?.collapse?"qp-collapsed":"")},[(0,r.Wm)(l,{height:"100%"},{default:(0,r.w5)((()=>[(0,r._)("div",fe,[(0,r._)("div",ye,[(0,r.Wm)(X),(0,r.Wm)(he)]),(0,r._)("div",be,[(0,r._)("span",{innerHTML:e.$t("TextCopyrights")},null,8,xe)])])])),_:1})],2)}}};const qe=(0,$.Z)(Ce,[["__scopeId","data-v-73e61904"]]);var ke=qe,We=a(678);const $e={key:0,id:"qp-app-smallbar"},ze={key:0,id:"qp-smallbar-inner"},Se=["onClick"],Te=["textContent"];var je={__name:"qpSmallbar",setup(e){const t=(0,We.yj)(),a=(0,We.tv)(),l=(0,s.oR)(),u=(0,r.Fl)((()=>l.getters.app)),i=(0,r.Fl)((()=>l.getters.rat)),p=(0,r.Fl)((()=>l.getters.heros)),d=(0,r.Fl)((()=>"slug"in t.params?p.value.filter((e=>e.world?.slug==t.params.slug)):p.value)),c=e=>{a.push({name:"MeCharactersHerosDetail",params:{pk:e}})};return(e,t)=>{const a=(0,r.up)("el-avatar"),l=(0,r.up)("el-tooltip"),s=(0,r.up)("el-scrollbar");return(0,o.SU)(u).win.w>767?((0,r.wg)(),(0,r.iD)("div",$e,[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[(0,o.SU)(i)?((0,r.wg)(),(0,r.iD)("div",ze,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,o.SU)(d),((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:`hero-${t}`,class:"qp-smallbar-hero",onClick:t=>c(e.id)},[(0,r.Wm)(l,{content:e.name,placement:"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.initials)},null,8,Te)])),_:2},1032,["src"])])),_:2},1032,["content"])],8,Se)))),128))])):(0,r.kq)("",!0)])),_:1})])):(0,r.kq)("",!0)}}};const De=(0,$.Z)(je,[["__scopeId","data-v-92c57e10"]]);var He=De;const Ae={id:"qp-app"};var Ee={__name:"App",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.rat));return(e,t)=>{const l=(0,r.up)("router-view"),s=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",Ae,[e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(L,{key:0})),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(ke,{key:1})),(0,r._)("div",{id:"qp-app-main",class:(0,n.C_)(`${(0,o.SU)(a)?"":" qp-nosmallbar"}${e.$route.name&&e.$route.name.startsWith("Auth")?" qp-fullview":""}`)},[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)(l,{key:e.$route.fullPath}))])),_:1})],2),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(He,{key:2}))])}}};const Ue=Ee;var Me=Ue,Fe=a(3590),Oe=JSON.parse('{"A player with that playername already exists.":"Un joueur avec ce nom existe déjà.","A user with that email already exists.":"Un joueur avec cette adresse courriel existe déjà.","A user with that username already exists.":"Un joueur avec ce nom existe déjà.","AlreadyHaveAnAccount":"Déjà inscrit ?","AnErrorOccurred":"Une erreur est survenue","BackToHome":"Retour à l\'accueil","Browse":"Parcourir","Cancel":"Annuler","Ce champ est obligatoire.":"Ce champ est obligatoire.","Chapter":"Chapitre | Chapitre | Chapitres","Character":"Personnage | Personnage | Personnages","ChooseTravellers":"Choisir les voyageurs","Closed":"Fermé","Community":"Communauté","Confirm":"Confirmer","Context":"Contexte","Continue":"Continuer","CreateWorld":"Créer un monde","Description":"Description","Descriptionofthenewchapter":"Courte description facultative","Discover":"Découvrir","DontHaveAnAccount":"Pas encore inscrit ?","email":"Courriel","Email":"Courriel","Enter a valid email address.":"Saisissez une adresse courriel valide.","Error":"Erreur","Forum":"Forum","Help":"Aide","Home":"Accueil","Login":"Connexion","Logout":"Déconnexion","Message":"Message | Message | Messages","Never":"Jamais","NewChapter":"Nouveau chapitre","NoAvailableTravellers":"Aucun voyageur disponible","non_field_errors":"Erreur","NoWorldCreated":"Aucun monde créé","password":"Mot de passe","Password":"Mot de passe","Player":"Joueur | Joueur | Joueurs","Playername":"Nom de joueur","playername":"Nom de joueur","Profile":"Profil","Quests":"Quêtes","Register":"Inscription","Rules":"Règlements","Saisissez une adresse e-mail valide.":"Saisissez une adresse courriel valide.","Sector":"Secteur | Secteur | Secteurs","SeeAllQuests":"Voir toutes les quêtes","Send":"Envoyer","Settings":"Paramètres","SignedInAs":"Connecté en tant que","Text":"Texte","TextCopyrights":"&copy;&nbsp;2022 M-C Pronovost","That password is too short.":"Ce mot de passe est trop court.","ThisChapterDoesntExistAnymore":"Ce chapitre n\'existe pas ou plus","Thisfieldisrequired":"Ce champs est requis.","ThisForumDoesntExistAnymore":"Ce forum n\'existe pas ou plus","ThisSectorDoesntExistAnymore":"Ce secteur n\'existe pas ou plus","ThisTerritoryDoesntExistAnymore":"Ce territoire n\'existe pas ou plus","ThisWorldDoesntExistAnymore":"Ce monde n\'existe pas ou plus","ThisZoneDoesntExistAnymore":"Cette zone n\'existe pas ou plus","Title":"Titre","Titleofthenewchapter":"Titre du nouveau chapitre","Travel":"Voyager","TravelCompleted":"Voyage complété","username":"Nom d\'utilisateur","Username":"Nom d\'utilisateur","Writing":"Rédaction","YouDoesntHaveAccessToThisForum":"Vous n\'avez pas accès à ce forum","YouDoesntHaveAccessToThisWorld":"Vous n\'avez pas accès à ce monde","Youhavearrivedatyourdestination":"Vous êtes arrivé à destination","YourCharacters":"Vos personnages","YourEmailAddress":"Votre adresse de courriel","YourMessage":"Votre message","YourPersonalUsername":"Votre nom d\'utilisateur personnel","YourProfile":"Votre profil","YourPublicPlayername":"Votre nom de joueur public","YourWorlds":"Vos mondes","YouDoesntHaveAccessToThisZone":"Vous n\'avez pas accès à cette zone","YouDoesntHaveAccessToThisTerritory":"Vous n\'avez pas accès à ce territoire","YouDoesntHaveAccessToThisChapter":"Vous n\'avez pas accès à ce chapitre","YouDoesntHaveAccessToThisSector":"Vous n\'avez pas accès à ce secteur","ToReply":"Répondre","ChooseACharacter":"Choisir un personnage","YourReply":"Votre réponse","ThisPageDoesntExistAnymore":"Cette page n\'existe pas ou plus","errorcharacter":"Personnage","errortext":"Texte","AllRightsReserved":"Tous droits réservés","NewChapterTitle":"Titre du nouveau chapitre","Edit":"Modifier","Delete":"Supprimer","EditMessage":"Modifier le message","DeleteMessage":"Supprimer le message","Success":"Succès","MessageDeletedSuccessfully":"Message supprimé avec succès !","Areyousureyouwanttodeletethismessage":"Êtes-vous certain de vouloir supprimer définitivement ce message ? Cette action est irréversible.","DeleteChapter":"Supprimer le chapitre","LockChapter":"Verrouiller le chapitre","UnlockChapter":"Déverrouiller le chapitre","NoCharacterCreated":"Aucun personnage créé","YouDoesntHaveAccessToThisPage":"Vous n\'avez pas accès à cette page","Name":"Nom","Slug":"Slug","Visibility":"Visibilité","NameOfTheWorld":"Nom du monde","AShortDescription":"Une description courte","First Name":"Prénom","Middle Name":"Autre(s) nom(s)","Last Name":"Nom de famille","Reset":"Réinitialiser","ChangeAvatar":"Modifier l\'avatar","ShowProfile":"Voir le profil","FileFormatMustBeJPG":"Le fichier doit être au format JPG","FileSizeCanNotExceed1MB":"La taille du fichier ne doit pas excéder 1MB","150x150pxSizeMinimum":"Taille minimale : 150x150","Gender":"Genre"}');const Ve={short:{year:"numeric",month:"long",day:"2-digit"}},Le={fr:Ve},Re=(0,Fe.o)({locale:"fr",fallbackLocale:"fr",messages:{fr:Oe},dateTimeFormats:Le,legacy:!1,globalInjection:!0,silentTranslationWarn:!0});var Pe=Re,Ne=a(5361);const Ye=e=>({win:e.app.win,sidebar:e.app.sidebar}),Be={state:()=>({win:{w:1880,h:980},sidebar:{collapse:!1}}),mutations:{SET_WINSIZES(e){e.win={w:window.innerWidth,h:window.innerHeight}},TOGGLE_SIDEBAR(e){e.sidebar.collapse=!e.sidebar.collapse}}},Ie=e=>{if(e.drat.s&&e.frat.e){let t=Ne.lW.from(e.drat.s,"base64").toString("utf8"),a=Ne.lW.from(e.frat.e,"base64").toString("utf8");return`Token ${t}${a}`}return null},Ze={state:()=>({s:null}),mutations:{SET_DRAT(e,t){e.s=t?Ne.lW.from(t).toString("base64"):null}}},Ge={state:()=>({e:null}),mutations:{SET_FRAT(e,t){e.e=t?Ne.lW.from(t).toString("base64"):null}}},Je=e=>e.player.j?JSON.parse(Ne.lW.from(e.player.j,"base64").toString("utf8")):null,Ke=e=>e.player.h?JSON.parse(Ne.lW.from(e.player.h,"base64").toString("utf8")):[],Qe=e=>e.player.w?JSON.parse(Ne.lW.from(e.player.w,"base64").toString("utf8")):[],Xe={state:()=>({j:null,h:null,c:null,w:null}),mutations:{SET_PLAYER(e,t){if(t){let a=Ne.lW.from(e.j,"base64").toString("utf8");a=a?JSON.parse(a):{},a[t[0]]=t[1],e.j=Ne.lW.from(JSON.stringify(a)).toString("base64")}},BATCH_PLAYER(e,t){if(t){let a=e.j;a=a?JSON.parse(Ne.lW.from(a,"base64").toString("utf8")):{};let l=Object.entries(t);for(let e=0;e<l.length;e++)a[l[e][0]]=l[e][1];e.j=Ne.lW.from(JSON.stringify(a)).toString("base64")}else e.j=null},BATCH_HEROS(e,t){e.h=t?Ne.lW.from(JSON.stringify(t)).toString("base64"):null},BATCH_WORLDS(e,t){e.w=t?Ne.lW.from(JSON.stringify(t)).toString("base64"):null}},actions:{async getPlayer({commit:e,dispatch:t,getters:a}){if(a.rat){let l=await fetch(`${Ru}/me/`,{method:"GET",headers:{Authorization:a.rat}});if(200===l.status){let a=await l.json();e("BATCH_PLAYER",a),t("getHeros")}else 401===l.status&&t("doLogout")}},async getHeros({commit:e,dispatch:t,getters:a}){if(a.rat){let l=await fetch(`${Ru}/me/heros/`,{method:"GET",headers:{Authorization:a.rat}});if(200===l.status){let t=await l.json();e("BATCH_HEROS",t)}else 401===l.status&&t("doLogout")}},async doRegister({dispatch:e},{username:t,playername:a,email:l,password:r}){let n=new FormData;t&&n.append("username",t),a&&n.append("playername",a),l&&n.append("email",l),r&&n.append("password",r);let o=await fetch(`${Ru}/register/`,{method:"POST",body:n}),s=await o.json();return 200===o.status?e("doLogin",{username:t,password:r}):{valid:!1,data:s}},async doLogin({commit:e},{username:t,password:a}){let l=new FormData;l.append("username",t),l.append("password",a);let r=await fetch(`${Ru}/login/`,{method:"POST",body:l}),n=await r.json();if(200===r.status){let t=n.token,a=Math.ceil(t.length/2);return e("SET_DRAT",t.slice(0,a)),e("SET_FRAT",t.slice(a)),{valid:!0}}return{valid:!1,data:n}},async doLogout({commit:e,getters:t}){let a=await fetch(`${Ru}/logout/`,{method:"POST",headers:{Authorization:t.rat}});return e("BATCH_PLAYER",null),e("BATCH_HEROS",null),e("BATCH_WORLDS",null),e("SET_DRAT",null),e("SET_FRAT",null),a}}};var et=a(5103),tt=a(680);const at=new et.ZP({key:"qpcynorrs",storage:window.localStorage,reducer:e=>({drat:e.drat,app:e.app})}),lt=new et.ZP({key:"qpcynorrs",storage:window.sessionStorage,reducer:e=>({player:e.player})}),rt=new et.ZP({key:"qpcynorrs",restoreState:e=>{if(tt.Z.get(e))return JSON.parse(Ne.lW.from(tt.Z.get(e),"base64").toString("utf8"))},saveState:(e,t)=>{t&&tt.Z.set(e,Ne.lW.from(JSON.stringify(t)).toString("base64"),{expires:30})},modules:["frat"]}),nt=e=>{e.commit("SET_WINSIZES"),window.addEventListener("resize",(()=>{e.commit("SET_WINSIZES")}))},ot=(0,s.MT)({getters:{app:Ye,rat:Ie,player:Je,heros:Ke,worlds:Qe},modules:{app:Be,drat:Ze,frat:Ge,player:Xe},plugins:[at.plugin,lt.plugin,rt.plugin,nt]});var st=ot;const ut={class:"qp-vue"};function it(e,t){return(0,r.wg)(),(0,r.iD)("div",ut," aaa ")}const pt={},dt=(0,$.Z)(pt,[["render",it]]);var ct=dt;const mt={key:0,class:"qp-card-header"},gt={class:"qp-card-header-title"};var wt={__name:"qpCard",props:{clickable:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1},bgcolor:{type:String,default:"base"},h:{type:String,default:""},pa:{type:String,default:"20px"},mb:{type:String,default:""}},setup(e){const t=e,a=(0,r.Fl)((()=>t.clickable?"qp-card-clickable":"")),l=(0,r.Fl)((()=>t.overflow?"qp-card-overflow":"")),s=(0,r.Fl)((()=>"base"!=t.bgcolor?`qp-card-bg-${t.bgcolor}`:"")),u=(0,r.Fl)((()=>t.h?`height:${t.h};`:"")),i=(0,r.Fl)((()=>t.pa?`padding:${t.pa};`:"")),p=(0,r.Fl)((()=>t.mb?`margin-bottom:${t.mb};`:""));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,n.C_)(`qp-card ${(0,o.SU)(a)} ${(0,o.SU)(l)} ${(0,o.SU)(s)}`),style:(0,n.j5)(`${(0,o.SU)(u)}${(0,o.SU)(p)}`)},[e.$slots.header?((0,r.wg)(),(0,r.iD)("div",mt,[(0,r._)("div",gt,[(0,r.WI)(e.$slots,"header")])])):(0,r.kq)("",!0),(0,r._)("div",{class:"qp-card-main",style:(0,n.j5)(`${(0,o.SU)(i)}`)},[(0,r.WI)(e.$slots,"default")],4)],6))}};const _t=(0,$.Z)(wt,[["__scopeId","data-v-5cd20510"]]);var vt=_t;const ht={class:"qp-vue"},ft={class:"qp-container"},yt=(0,r._)("a",{href:"https://www.flaticon.com/free-icons/killer-whale",target:"_blank",title:"killer whale icons"},"Killer whale icons created by edt.im - Flaticon",-1);var bt={__name:"ErrorView",setup(e){return(e,t)=>{const a=(0,r.up)("el-result"),l=(0,r.up)("el-col"),n=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",ht,[(0,r._)("div",ft,[(0,r.Wm)(n,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{icon:"error",title:e.$t("Error"),"sub-title":"..."},null,8,["title","sub-title"])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[yt])),_:1})])),_:1})])),_:1})])])}}};const xt=bt;var Ct=xt;const qt=e=>((0,r.dD)("data-v-6097077c"),e=e(),(0,r.Cn)(),e),kt={class:"qp-vue"},Wt={key:0},$t={id:"qp-auth"},zt=qt((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),St={id:"qp-auth-title"},Tt=["textContent"],jt=["innerHTML"],Dt=["textContent"],Ht=["textContent"],At=["textContent"],Et=qt((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),Ut={id:"qp-auth-title"},Mt=["textContent"],Ft=["innerHTML"],Ot=["textContent"],Vt=["textContent"],Lt=["textContent"],Rt={"element-loading-background":"transparent",style:{width:"200px",height:"200px"}},Pt=["textContent"],Nt={key:1},Yt={class:"qp-container"},Bt={"element-loading-background":"transparent",style:{height:"60vh"}},It={key:2},Zt={id:"qp-auth"},Gt=["textContent"];var Jt={__name:"AuthView",setup(e){const{t:t}=Pe.global,a=(0,We.yj)(),i=(0,We.tv)(),p=(0,s.oR)(),d=(0,r.Fl)((()=>p.getters.app)),c=(0,r.Fl)((()=>p.getters.rat)),m=(0,o.iH)(!0),g=(0,o.iH)(!1),w=(0,o.iH)(null),_=(0,o.iH)(null),v=(0,o.iH)(null);(0,r.bv)((()=>{c.value||"AuthRegister"!=a.name?c.value||"AuthLogin"!=a.name?"AuthLogout"==a.name?(v.value="logout",S()):w.value=t("AnErrorOccurred"):f():h(),m.value=!1}));const h=()=>{v.value="register",history.pushState(history.state,null,"/register")},f=()=>{v.value="login",history.pushState(history.state,null,"/login")},y=()=>{i.push({name:"Home"})},b=(0,o.iH)(),x=(0,o.qj)({username:"",playername:"",email:"",password:""}),C=async()=>{_.value=null,g.value=!0,await b.value.validate(((e,a)=>{if(e)q();else{for(let[e,l]of Object.entries(a)){let a=t(`${e}`);for(let e of l)_.value=`${a} : ${e.message}`}g.value=!1}}))},q=async()=>{_.value=null,g.value=!0;const e=await p.dispatch("doRegister",x);if(e.valid)i.push({name:"Home"});else{for(let[a,l]of Object.entries(e.data)){let e=t(`${a}`),r=t(`${l}`);_.value=`${e} : ${r}`}g.value=!1}},k=(0,o.iH)(),W=(0,o.qj)({username:"",password:""}),$=async()=>{_.value=null,g.value=!0,await k.value.validate(((e,a)=>{if(e)z();else{for(let[e,l]of Object.entries(a)){let a=t(`${e}`);for(let e of l)_.value=`${a} : ${e.message}`}g.value=!1}}))},z=async()=>{_.value=null,g.value=!0;const e=await p.dispatch("doLogin",W);if(e.valid)i.push({name:"Home"});else{for(let[a,l]of Object.entries(e.data)){let e=t(`${a}`),r=t(`${l}`);_.value=`${e} : ${r}`}g.value=!1}},S=async()=>{await p.dispatch("doLogout"),i.push({name:"Home"})};return(e,t)=>{const a=(0,r.up)("el-input"),s=(0,r.up)("el-form-item"),i=(0,r.up)("el-form"),p=(0,r.up)("el-col"),q=(0,r.up)("el-alert"),z=(0,r.up)("el-button"),S=(0,r.up)("el-link"),T=(0,r.up)("el-row"),j=(0,r.up)("el-scrollbar"),D=(0,r.up)("el-result"),H=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",kt,[m.value||w.value||!v.value?m.value?((0,r.wg)(),(0,r.iD)("div",Nt,[(0,r._)("div",Yt,[(0,r.wy)((0,r._)("div",Bt,null,512),[[H,m.value]])])])):((0,r.wg)(),(0,r.iD)("div",It,[(0,r._)("div",Zt,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{icon:"error",title:e.$t("Error"),"sub-title":w.value,style:{"padding-bottom":"24px"}},null,8,["title","sub-title"]),(0,r.Wm)(z,{onClick:t[14]||(t[14]=e=>y()),style:{"margin-bottom":"40px"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("BackToHome"))},null,8,Gt)])),_:1})])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",Wt,[(0,r._)("div",$t,[(0,o.SU)(c)||"register"!=v.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(vt,{key:0,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{"max-height":"90vh"},{default:(0,r.w5)((()=>[zt,(0,r._)("div",St,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Register"))},null,8,Tt)])]),(0,r.Wm)(T,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{ref_key:"formRegisterRef",ref:b,model:x,"label-position":(0,o.SU)(d).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:x.username,"onUpdate:modelValue":t[0]||(t[0]=e=>x.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,o.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Playername"),prop:"playername",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:x.playername,"onUpdate:modelValue":t[1]||(t[1]=e=>x.playername=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPublicPlayername"),"prefix-icon":(0,o.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Email"),prop:"email",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:x.email,"onUpdate:modelValue":t[2]||(t[2]=e=>x.email=e),type:"email",maxlength:"250",placeholder:e.$t("YourEmailAddress"),"prefix-icon":(0,o.SU)(u.v0C)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:x.password,"onUpdate:modelValue":t[3]||(t[3]=e=>x.password=e),type:"password",maxlength:"250","prefix-icon":(0,o.SU)(u.HEZ),onKeyup:t[4]||(t[4]=(0,l.D2)((e=>C()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),_.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:_.value},null,8,jt)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:g.value,onClick:t[5]||(t[5]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Dt)])),_:1},8,["disabled"]),(0,r.Wm)(z,{type:"primary",loading:g.value,onClick:t[6]||(t[6]=e=>C())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Ht)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:g.value,onClick:t[7]||(t[7]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("AlreadyHaveAnAccount"))},null,8,At)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),(0,o.SU)(c)||"login"!=v.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(vt,{key:1,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{"max-height":"90vh"},{default:(0,r.w5)((()=>[Et,(0,r._)("div",Ut,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Login"))},null,8,Mt)])]),(0,r.Wm)(T,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{ref_key:"formLoginRef",ref:k,model:W,"label-position":(0,o.SU)(d).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:W.username,"onUpdate:modelValue":t[8]||(t[8]=e=>W.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,o.SU)(u.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:W.password,"onUpdate:modelValue":t[9]||(t[9]=e=>W.password=e),type:"password",maxlength:"250","prefix-icon":(0,o.SU)(u.HEZ),onKeyup:t[10]||(t[10]=(0,l.D2)((e=>$()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),_.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:_.value},null,8,Ft)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:g.value,onClick:t[11]||(t[11]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Ot)])),_:1},8,["disabled"]),(0,r.Wm)(z,{type:"primary",loading:g.value,onClick:t[12]||(t[12]=e=>$())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Vt)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:g.value,onClick:t[13]||(t[13]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("DontHaveAnAccount"))},null,8,Lt)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),"logout"==v.value?((0,r.wg)(),(0,r.j4)(vt,{key:2,h:"auto"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",Rt,null,512),[[H,!0]]),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Logout"))},null,8,Pt)])])),_:1})):(0,r.kq)("",!0)])]))])}}};const Kt=(0,$.Z)(Jt,[["__scopeId","data-v-6097077c"]]);var Qt=Kt;const Xt=[{path:"/register",name:"AuthRegister",component:Qt},{path:"/login",name:"AuthLogin",component:Qt},{path:"/logout",name:"AuthLogout",component:Qt}],ea=e=>((0,r.dD)("data-v-ce8fe982"),e=e(),(0,r.Cn)(),e),ta={class:"qp-vue"},aa={key:0},la={class:"qp-container"},ra=["textContent"],na={class:"qp-profile-header"},oa={class:"qp-profile-header-banner"},sa=ea((()=>(0,r._)("div",{class:"image-slot"},null,-1))),ua={class:"qp-profile-header-avatar"},ia=["textContent"],pa={class:"qp-profile-identity"},da={class:"qp-profile-identity-name"},ca=["textContent"],ma={class:"qp-profile-identity-title"},ga=["textContent"],wa={key:1},_a={class:"qp-container"},va={"element-loading-background":"transparent",style:{height:"60vh"}},ha={key:2},fa={class:"qp-container"};var ya={__name:"MeProfileView",setup(e){const{t:t}=Pe.global,a=(0,We.tv)(),l=(0,s.oR)(),u=(0,r.Fl)((()=>l.getters.rat)),i=(0,o.iH)(!0),p=(0,o.iH)(null);(0,r.bv)((()=>{u.value?c():a.push({name:"AuthLogin"})}));const d=(0,o.qj)({avatar:null,banner:null,initials:""}),c=async()=>{i.value=!0,p.value=null;try{let e=await fetch(`${Ru}/me/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;d.avatar=t.avatar,d.banner=t.banner,d.playername=t.playername,d.title="Qui ne fait que passer"}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisPage"):p.value=t("AnErrorOccurred")}i.value=!1};return(e,t)=>{const a=(0,r.up)("el-col"),l=(0,r.up)("el-row"),s=(0,r.up)("el-image"),c=(0,r.up)("el-avatar"),m=(0,r.up)("el-result"),g=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",ta,[i.value||p.value||!(0,o.SU)(u)?i.value?((0,r.wg)(),(0,r.iD)("div",wa,[(0,r._)("div",_a,[(0,r.wy)((0,r._)("div",va,null,512),[[g,i.value]])])])):((0,r.wg)(),(0,r.iD)("div",ha,[(0,r._)("div",fa,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{icon:"error",title:e.$t("Error"),"sub-title":p.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",aa,[(0,r._)("div",la,[(0,r._)("header",null,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourProfile"))},null,8,ra)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",na,[(0,r._)("div",oa,[d.banner?((0,r.wg)(),(0,r.j4)(s,{key:0,src:d.banner,fit:"cover"},{error:(0,r.w5)((()=>[sa])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",ua,[(0,r.Wm)(c,{src:d.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(d.initials)},null,8,ia)])),_:1},8,["src"])])]),(0,r._)("div",pa,[(0,r._)("h2",da,[(0,r._)("span",{textContent:(0,n.zw)(d.playername)},null,8,ca)]),(0,r._)("p",ma,[(0,r._)("span",{textContent:(0,n.zw)(d.title)},null,8,ga)])])])),_:1})])),_:1})])),_:1})])])]))])}}};const ba=(0,$.Z)(ya,[["__scopeId","data-v-ce8fe982"]]);var xa=ba;const Ca=e=>((0,r.dD)("data-v-e32a9e00"),e=e(),(0,r.Cn)(),e),qa={class:"qp-vue"},ka={key:0},Wa={class:"qp-container"},$a=["textContent"],za={class:"qp-profile-header"},Sa={class:"qp-profile-header-banner"},Ta=Ca((()=>(0,r._)("div",{class:"image-slot"},null,-1))),ja={class:"qp-profile-header-avatar"},Da=["textContent"],Ha={class:"qp-profile-identity"},Aa={class:"qp-profile-identity-name"},Ea=["textContent"],Ua={class:"qp-profile-identity-worldname"},Ma=["textContent"],Fa={key:1},Oa={class:"qp-container"},Va={"element-loading-background":"transparent",style:{height:"60vh"}},La={key:2},Ra={class:"qp-container"};var Pa={__name:"MeCharactersView",setup(e){const{t:t}=Pe.global,a=(0,We.tv)(),l=(0,s.oR)(),u=(0,r.Fl)((()=>l.getters.rat)),i=(0,o.iH)(!0),p=(0,o.iH)(null),d=(0,o.iH)([]),c=(0,o.iH)(0),m=(0,o.iH)(0),g=(0,o.iH)(1);(0,r.bv)((()=>{u.value?w():a.push({name:"AuthLogin"})}));const w=async()=>{i.value=!0,p.value=null,d.value=[];try{let e=await fetch(`${Ru}/me/characters/heros/?page=${g.value}`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t.count,d.value=t.results,m.value=t.size}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisPage"):p.value=t("AnErrorOccurred")}i.value=!1},_=e=>{g.value=e,w()},v=(e,t)=>{"hero"==t&&a.push({name:"MeCharactersHerosDetail",params:{pk:e}})};return(e,t)=>{const a=(0,r.up)("el-col"),l=(0,r.up)("el-row"),s=(0,r.up)("el-image"),w=(0,r.up)("el-avatar"),h=(0,r.up)("el-pagination"),f=(0,r.up)("el-icon"),y=(0,r.up)("el-empty"),b=(0,r.up)("el-result"),x=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",qa,[i.value||p.value||!(0,o.SU)(u)?i.value?((0,r.wg)(),(0,r.iD)("div",Fa,[(0,r._)("div",Oa,[(0,r.wy)((0,r._)("div",Va,null,512),[[x,i.value]])])])):((0,r.wg)(),(0,r.iD)("div",La,[(0,r._)("div",Ra,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:"error",title:e.$t("Error"),"sub-title":p.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",ka,[(0,r._)("div",Wa,[(0,r._)("header",null,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourCharacters"))},null,8,$a)])])),_:1})])),_:1})]),(0,r._)("section",null,[d.value.length?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value,((e,t)=>((0,r.wg)(),(0,r.j4)(a,{key:`world-${t}`,span:24,sm:12,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{clickable:"",overflow:"",pa:"0",onClick:t=>v(e.id,"hero")},{default:(0,r.w5)((()=>[(0,r._)("div",za,[(0,r._)("div",Sa,[e.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:e.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Ta])),_:2},1032,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",ja,[(0,r.Wm)(w,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.initials)},null,8,Da)])),_:2},1032,["src"])])]),(0,r._)("div",Ha,[(0,r._)("h2",Aa,[(0,r._)("span",{textContent:(0,n.zw)(e.name)},null,8,Ea)]),(0,r._)("p",Ua,[(0,r._)("span",{textContent:(0,n.zw)(e.world?.name)},null,8,Ma)])])])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[d.value.length?((0,r.wg)(),(0,r.j4)(h,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:c.value,"page-size":m.value,"current-page":g.value,"onUpdate:currentPage":_},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(l,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{description:e.$t("NoCharacterCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(f,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])])]))])}}};const Na=(0,$.Z)(Pa,[["__scopeId","data-v-e32a9e00"]]);var Ya=Na,Ba=a(2807);const Ia=e=>((0,r.dD)("data-v-2a06604e"),e=e(),(0,r.Cn)(),e),Za={class:"qp-vue"},Ga={key:0},Ja={class:"qp-container"},Ka=["textContent"],Qa=["textContent"],Xa=(0,r.Uk)(" (navigation) "),el={class:"qp-profile-header"},tl={class:"qp-profile-header-banner"},al=Ia((()=>(0,r._)("div",{class:"image-slot"},null,-1))),ll={class:"qp-profile-header-avatar"},rl=["textContent"],nl={class:"qp-meprofile-general-upload-icon"},ol={class:"qp-meprofile-general-upload-text"},sl=["textContent"],ul={class:"qp-meprofile-general-upload-info"},il=["textContent"],pl=["textContent"],dl=["textContent"],cl={key:1},ml={class:"qp-container"},gl={"element-loading-background":"transparent",style:{height:"60vh"}},wl={key:2},_l={class:"qp-container"};var vl={__name:"MeCharactersHerosDetailView",setup(e){const{t:t}=Pe.global,a=(0,We.yj)(),l=(0,We.tv)(),i=(0,s.oR)(),p=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),c=(0,o.iH)(!0),m=(0,o.iH)(null);(0,r.bv)((()=>{d.value?w():l.push({name:"AuthLogin"})}));const g=(0,o.iH)(),w=async()=>{c.value=!0,m.value=null;try{let e=await fetch(`${Ru}/me/characters/${a.params.pk}/`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;g.value=t,b(t)}catch(e){403===e.status?m.value=t("YouDoesntHaveAccessToThisPage"):m.value=t("AnErrorOccurred")}c.value=!1},_=(0,o.iH)(null),v=(0,o.iH)(!1),h=(0,o.iH)(),f=(0,o.qj)({first_name:"",middle_name:"",last_name:"",gender:""}),y=(0,o.qj)({}),b=e=>{f.first_name=e.first_name,f.middle_name=e.middle_name,f.last_name=e.last_name,f.gender=e.gender,f.avatar=e.avatar,f.avatar_file=null},x=()=>{b(g.value)},C=async()=>{_.value=null,v.value=!0,await h.value.validate(((e,a)=>{if(e)q();else{for(let[e,l]of Object.entries(a)){let a=t(`error${e}`);for(let e of l)_.value=`${a} : ${e.message}`}v.value=!1}}))},q=async()=>{_.value=null,v.value=!0;try{let e=new FormData;e.append("first_name",f.first_name),e.append("middle_name",f.middle_name),e.append("last_name",f.last_name),e.append("gender",f.gender),f.avatar_file&&e.append("avatar",f.avatar_file);let l=await fetch(`${Ru}/me/characters/${a.params.pk}/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();if(200===l.status)g.value=r,b(r);else for(let[a,n]of Object.entries(r)){let e=t(`error${a}`);for(let t of n)_.value=`${e} : ${t}`}}catch{_.value=t("AnErrorOccurred")}v.value=!1},k=(0,o.iH)(),W=e=>{k.value.clearFiles(),k.value.handleStart(e[0])},$=e=>"image/jpeg"!==e.raw.type?(Ba.z8.error(t("FileFormatMustBeJPG")),!1):e.raw.size/1024/1024>1?(Ba.z8.error(t("FileSizeCanNotExceed1MB")),!1):(f.avatar=URL.createObjectURL(e.raw),void(f.avatar_file=e.raw));return(e,t)=>{const a=(0,r.up)("el-col"),l=(0,r.up)("el-button"),s=(0,r.up)("el-row"),i=(0,r.up)("el-image"),w=(0,r.up)("el-avatar"),_=(0,r.up)("el-icon"),b=(0,r.up)("el-upload"),q=(0,r.up)("el-input"),z=(0,r.up)("el-form-item"),S=(0,r.up)("el-option"),T=(0,r.up)("el-select"),j=(0,r.up)("el-form"),D=(0,r.up)("el-result"),H=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Za,[!c.value&&!m.value&&(0,o.SU)(d)&&g.value?((0,r.wg)(),(0,r.iD)("div",Ga,[(0,r._)("div",Ja,[(0,r._)("header",null,[(0,r.Wm)(s,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(g.value.name)},null,8,Ka)])])),_:1}),(0,r.Wm)(a,{span:24,sm:12,align:(0,o.SU)(p).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{disabled:"",type:"primary"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("ShowProfile"))},null,8,Qa)])),_:1})])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[Xa])),_:1})])),_:1}),(0,r.Wm)(a,{span:24,md:18,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,sm:17},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",el,[(0,r._)("div",tl,[f.avatar?((0,r.wg)(),(0,r.j4)(i,{key:0,src:f.avatar,fit:"cover"},{error:(0,r.w5)((()=>[al])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",ll,[(0,r.Wm)(w,{src:f.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(g.value.initials)},null,8,rl)])),_:1},8,["src"])])])])),_:1})])),_:1}),(0,r.Wm)(a,{span:24,sm:7},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{class:"qp-meprofile-general-upload"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{ref_key:"formCharacterAvatarRef",ref:k,action:"#",accept:"image/*","auto-upload":!1,"show-file-list":!1,limit:1,"on-change":$,"on-exceed":W},{default:(0,r.w5)((()=>[(0,r._)("div",nl,[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,o.SU)(u.n5m))])),_:1})]),(0,r._)("div",ol,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("ChangeAvatar"))},null,8,sl)]),(0,r._)("div",ul,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("150x150pxSizeMinimum"))},null,8,il)])])),_:1},512)])),_:1})])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{class:"qp-mecharacter-form-general",style:(0,n.j5)((0,o.SU)(p).win.w<1200?"":"padding-right:60px")},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{ref_key:"formCharacterRef",ref:h,model:f,"label-position":(0,o.SU)(p).win.w<1200?"top":"right",rules:y,"label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(z,{label:e.$t("First Name"),prop:"first_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{modelValue:f.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>f.first_name=e),placeholder:e.$t("First Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(z,{label:e.$t("Middle Name"),prop:"middle_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{modelValue:f.middle_name,"onUpdate:modelValue":t[1]||(t[1]=e=>f.middle_name=e),placeholder:e.$t("Middle Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(z,{label:e.$t("Last Name"),prop:"last_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{modelValue:f.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>f.last_name=e),placeholder:e.$t("Last Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(z,{label:e.$t("Gender"),prop:"gender"},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{modelValue:f.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>f.gender=e),placeholder:e.$t("Gender")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value.gender_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(S,{key:`gender-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"]),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{disabled:v.value,onClick:t[4]||(t[4]=e=>x())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Reset"))},null,8,pl)])),_:1},8,["disabled"]),(0,r.Wm)(l,{loading:v.value,type:"primary",onClick:t[5]||(t[5]=e=>C())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,dl)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1},8,["style"])])),_:1})])),_:1})])),_:1})])),_:1})])])])):c.value?((0,r.wg)(),(0,r.iD)("div",cl,[(0,r._)("div",ml,[(0,r.wy)((0,r._)("div",gl,null,512),[[H,c.value]])])])):((0,r.wg)(),(0,r.iD)("div",wl,[(0,r._)("div",_l,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{icon:"error",title:e.$t("Error"),"sub-title":m.value},null,8,["title","sub-title"])])),_:1})])]))])}}};const hl=(0,$.Z)(vl,[["__scopeId","data-v-2a06604e"]]);var fl=hl;a(6699);const yl=(e,t)=>{const a=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],l=/\.0+$|(\.[0-9]*[1-9])0+$/;var r=a.slice().reverse().find((function(t){return e>=t.value}));return r?(e/r.value).toFixed(t).replace(l,"$1")+r.symbol:"0"},bl={class:"qp-vue"},xl={key:0},Cl={key:0,class:"qp-container"},ql=["textContent"],kl=["textContent"],Wl={class:"qp-meworlds-overview"},$l={class:"qp-meworlds-overview-tags"},zl=["textContent"],Sl=["textContent"],Tl=["textContent"],jl=["textContent"],Dl={class:"qp-meworlds-overview-title"},Hl=["textContent"],Al=["textContent"],El={class:"qp-meworlds-infolist"},Ul=["textContent"],Ml=["textContent"],Fl=["textContent"],Ol=["textContent"],Vl=["textContent"],Ll=["textContent"],Rl=["textContent"],Pl=["textContent"],Nl={key:1,class:"qp-container"},Yl=["textContent"],Bl=["innerHTML"],Il=["textContent"],Zl=["textContent"],Gl={key:1},Jl={class:"qp-container"},Kl={"element-loading-background":"transparent",style:{height:"60vh"}},Ql={key:2},Xl={class:"qp-container"};var er={__name:"MeWorldsView",setup(e){const{t:t}=Pe.global,a=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.rat)),p=(0,r.Fl)((()=>u.getters.app)),d=(0,r.Fl)((()=>u.getters.player)),c=(0,o.iH)(!0),m=(0,o.iH)(!1),g=(0,o.iH)(null),w=(0,o.iH)(null),_=(0,o.iH)([]),v=(0,o.iH)(0),h=(0,o.iH)(1),f=(0,o.iH)(0);(0,r.bv)((()=>{i.value?y():a.push({name:"AuthLogin"})}));const y=async()=>{c.value=!0,g.value=null,_.value=[];try{let e=await fetch(`${Ru}/me/worlds/?page=${h.value}`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;v.value=t.count,_.value=t.results,f.value=t.size}catch(e){403===e.status?g.value=t("YouDoesntHaveAccessToThisPage"):g.value=t("AnErrorOccurred")}c.value=!1},b=e=>{h.value=e,y()},x=e=>{a.push({name:"MeWorldsDetail",params:{pk:e}})},C=(0,o.iH)(!1),q=(0,o.iH)(),k=(0,o.qj)({name:"",description:""}),W=()=>{C.value=!0},$=()=>{C.value=!1};return(e,t)=>{const a=(0,r.up)("el-col"),s=(0,r.up)("el-button"),u=(0,r.up)("el-row"),y=(0,r.up)("el-tag"),z=(0,r.up)("el-pagination"),S=(0,r.up)("el-icon"),T=(0,r.up)("el-empty"),j=(0,r.up)("el-input"),D=(0,r.up)("el-form-item"),H=(0,r.up)("el-form"),A=(0,r.up)("el-alert"),E=(0,r.up)("el-result"),U=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",bl,[c.value||g.value||!(0,o.SU)(i)?c.value?((0,r.wg)(),(0,r.iD)("div",Gl,[(0,r._)("div",Jl,[(0,r.wy)((0,r._)("div",Kl,null,512),[[U,c.value]])])])):((0,r.wg)(),(0,r.iD)("div",Ql,[(0,r._)("div",Xl,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(E,{icon:"error",title:e.$t("Error"),"sub-title":g.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",xl,[C.value?C.value?((0,r.wg)(),(0,r.iD)("div",Nl,[(0,r._)("header",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("CreateWorld"))},null,8,Yl)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(H,{ref_key:"formCreateWorldRef",ref:q,model:k,"label-position":(0,o.SU)(p).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{label:e.$t("Name"),prop:"name",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:k.name,"onUpdate:modelValue":t[1]||(t[1]=e=>k.name=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername")},null,8,["modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,r.Wm)(D,{label:e.$t("Description"),prop:"description",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:k.description,"onUpdate:modelValue":t[2]||(t[2]=e=>k.description=e),type:"text",maxlength:"250",onKeyup:t[3]||(t[3]=(0,l.D2)((e=>$()),["enter"]))},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),w.value?((0,r.wg)(),(0,r.j4)(a,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(A,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:w.value},null,8,Bl)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:m.value,onClick:t[4]||(t[4]=e=>$())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Il)])),_:1},8,["disabled"]),(0,r.Wm)(s,{type:"primary",loading:m.value},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Zl)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Cl,[(0,r._)("header",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("YourWorlds"))},null,8,ql)])])),_:1}),(0,r.Wm)(a,{span:24,sm:12,align:(0,o.SU)(p).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:!(0,o.SU)(d)?.limits?.can_create_worlds,onClick:t[0]||(t[0]=e=>W())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("CreateWorld"))},null,8,kl)])),_:1},8,["disabled"])])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[_.value.length?((0,r.wg)(),(0,r.j4)(u,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(_.value,((t,l)=>((0,r.wg)(),(0,r.j4)(a,{key:`world-${l}`},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{clickable:"",pa:"12px",onClick:e=>x(t.id)},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,md:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("div",Wl,[(0,r._)("div",$l,[t.is_active?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(y,{key:0,type:"danger",effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Closed"))},null,8,zl)])),_:1})),(0,o.SU)(d).id==t.creator?((0,r.wg)(),(0,r.j4)(y,{key:1,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Creator"))},null,8,Sl)])),_:1})):(0,r.kq)("",!0),t.administrators.includes((0,o.SU)(d).id)?((0,r.wg)(),(0,r.j4)(y,{key:2,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Administration"))},null,8,Tl)])),_:1})):(0,r.kq)("",!0),t.moderators.includes((0,o.SU)(d).id)?((0,r.wg)(),(0,r.j4)(y,{key:3,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Moderation"))},null,8,jl)])),_:1})):(0,r.kq)("",!0)]),(0,r._)("h2",Dl,[(0,r._)("span",{textContent:(0,n.zw)(t.name)},null,8,Hl)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,textContent:(0,n.zw)(t.description)},null,8,Al)):(0,r.kq)("",!0)])])),_:2},1024),(0,r.Wm)(a,{span:24,md:12,align:"right"},{default:(0,r.w5)((()=>[(0,r._)("ul",El,[(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Player",t.count_players))},null,8,Ul),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)((0,o.SU)(yl)(t.count_players,1))},null,8,Ml)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Character",t.count_heros))},null,8,Fl),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)((0,o.SU)(yl)(t.count_heros,1))},null,8,Ol)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Chapter",t.count_chapters))},null,8,Vl),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)((0,o.SU)(yl)(t.count_chapters,1))},null,8,Ll)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,n.zw)(e.$t("Message",t.count_messages))},null,8,Rl),(0,r._)("span",{class:"qp-value",textContent:(0,n.zw)((0,o.SU)(yl)(t.count_messages,1))},null,8,Pl)])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{background:"","hide-on-single-page":"",layout:"prev, pager, next",total:v.value,"page-size":f.value,"current-page":h.value,"onUpdate:currentPage":b},null,8,["total","page-size","current-page"])])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(u,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(T,{description:e.$t("NoWorldCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(S,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])]))]))])}}};const tr=(0,$.Z)(er,[["__scopeId","data-v-4f6d27fb"]]);var ar=tr;const lr={class:"qp-vue"},rr={key:0},nr={class:"qp-container"},or=["textContent"],sr=(0,r.Uk)(" (navigation) "),ur={key:1},ir={class:"qp-container"},pr={"element-loading-background":"transparent",style:{height:"60vh"}},dr={key:2},cr={class:"qp-container"};var mr={__name:"MeWorldsDetailView",setup(e){const{t:t}=Pe.global,a=(0,We.yj)(),l=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),d=(0,o.iH)(!0),c=(0,o.iH)(null);(0,r.bv)((()=>{p.value?g():l.push({name:"AuthLogin"})}));const m=(0,o.iH)(),g=async()=>{d.value=!0,c.value=null;try{let e=await fetch(`${Ru}/me/worlds/${a.params.pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t,h(t)}catch(e){403===e.status?c.value=t("YouDoesntHaveAccessToThisPage"):c.value=t("AnErrorOccurred")}d.value=!1},w=(0,o.iH)(),_=(0,o.qj)({name:"",slug:"",description:"",visibility:0}),v=(0,o.qj)({}),h=e=>{_.name=e.name,_.slug=e.slug,_.description=e.description,_.visibility=e.visibility};return(e,t)=>{const a=(0,r.up)("el-col"),l=(0,r.up)("el-row"),s=(0,r.up)("el-input"),u=(0,r.up)("el-form-item"),g=(0,r.up)("el-option"),h=(0,r.up)("el-select"),f=(0,r.up)("el-form"),y=(0,r.up)("el-result"),b=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",lr,[!d.value&&!c.value&&(0,o.SU)(p)&&m.value?((0,r.wg)(),(0,r.iD)("div",rr,[(0,r._)("div",nr,[(0,r._)("header",null,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,n.zw)(m.value.name)},null,8,or)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[sr])),_:1})])),_:1}),(0,r.Wm)(a,{span:24,md:18},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{class:"qp-meworld-form-general",style:(0,n.j5)((0,o.SU)(i).win.w<1200?"":"padding-right:60px")},{default:(0,r.w5)((()=>[(0,r.Wm)(f,{ref_key:"formWorldRef",ref:w,model:_,"label-position":(0,o.SU)(i).win.w<1200?"top":"right",rules:v,"label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:_.name,"onUpdate:modelValue":t[0]||(t[0]=e=>_.name=e),placeholder:e.$t("NameOfTheWorld"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:e.$t("Slug"),prop:"slug"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:_.slug,"onUpdate:modelValue":t[1]||(t[1]=e=>_.slug=e),placeholder:e.$t("Slug"),disabled:""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:_.description,"onUpdate:modelValue":t[2]||(t[2]=e=>_.description=e),placeholder:e.$t("AShortDescription"),maxlength:250,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:e.$t("Visibility"),prop:"visibility"},{default:(0,r.w5)((()=>[(0,r.Wm)(h,{modelValue:_.visibility,"onUpdate:modelValue":t[3]||(t[3]=e=>_.visibility=e),placeholder:e.$t("Visibility")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(m.value.visibility_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(g,{key:`visibility-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"])])),_:1})])),_:1})])])])):d.value?((0,r.wg)(),(0,r.iD)("div",ur,[(0,r._)("div",ir,[(0,r.wy)((0,r._)("div",pr,null,512),[[b,d.value]])])])):((0,r.wg)(),(0,r.iD)("div",dr,[(0,r._)("div",cr,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{icon:"error",title:e.$t("Error"),"sub-title":c.value},null,8,["title","sub-title"])])),_:1})])]))])}}};const gr=mr;var wr=gr;const _r=[{path:"/me/profile",name:"MeProfile",component:xa},{path:"/me/characters",name:"MeCharacters",component:Ya},{path:"/me/characters/heros/:pk",name:"MeCharactersHerosDetail",component:fl},{path:"/me/worlds",name:"MeWorlds",component:ar},{path:"/me/worlds/:pk",name:"MeWorldsDetail",component:wr}],vr={key:0},hr={class:"qp-container"},fr={key:1},yr={class:"qp-container"},br={"element-loading-background":"transparent",style:{height:"60vh"}};var xr={__name:"qpLoadError",props:{isLoading:{type:Boolean,default:!0},hasError:{type:String,default:null}},setup(e){const t=e;return(e,a)=>{const l=(0,r.up)("el-result"),n=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[t.hasError?((0,r.wg)(),(0,r.iD)("div",vr,[(0,r._)("div",hr,[(0,r.Wm)(vt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{icon:"error",title:e.$t("Error"),"sub-title":t.hasError},null,8,["title","sub-title"])])),_:1})])])):t.isLoading?((0,r.wg)(),(0,r.iD)("div",fr,[(0,r._)("div",yr,[(0,r.wy)((0,r._)("div",br,null,512),[[n,t.isLoading]])])])):(0,r.kq)("",!0)])}}};const Cr=xr;var qr=Cr;const kr={class:"qp-vue"},Wr={key:0},$r={class:"qp-world-header"},zr=["textContent"],Sr={class:"qp-world-footer"},Tr={class:"qp-world-footer-inner"},jr={class:"qp-world-footer-copyright"},Dr=["textContent"];var Hr={__name:"WorldView",setup(e){const{t:t}=Pe.global,a=(0,We.yj)(),l=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.rat)),p=(0,o.iH)(!0),d=(0,o.iH)(null);(0,r.bv)((()=>{m()})),(0,r.Jd)((()=>{_()}));const c=(0,o.iH)(null),m=async()=>{p.value=!0,d.value=null;try{let e=await fetch(`${Ru}/worlds/${a.params.slug}/`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t,g(t.name),w(t.style)}catch(e){403===e.status?d.value=t("YouDoesntHaveAccessToThisWorld"):404===e.status?d.value=t("ThisWorldDoesntExistAnymore"):d.value=t("AnErrorOccurred")}p.value=!1},g=e=>{document.title=`${e} - ${Lu.name}`},w=e=>{let t;document.getElementById("qp-custom-style")?t=document.getElementById("qp-custom-style"):(t=document.createElement("style"),t.setAttribute("id","qp-custom-style")),e?(t.innerHTML=":root{",t.innerHTML+=`--qp-primary:${e.primary};`,t.innerHTML+=`--qp-app-bg:${e.app_body_bg};`,t.innerHTML+=`--qp-app-txt:${e.app_body_txt};`,t.innerHTML+=`--qp-app-header-bg:${e.app_header_bg};`,t.innerHTML+=`--qp-app-header-txt:${e.app_header_txt};`,t.innerHTML+=`--qp-app-header-txt-hov:${e.app_header_txt_hov};`,t.innerHTML+=`--qp-app-sidebar-bg:${e.app_sidebar_bg};`,t.innerHTML+=`--qp-app-sidebar-txt:${e.app_sidebar_txt};`,t.innerHTML+=`--qp-app-sidebar-accent:${e.app_sidebar_accent};`,t.innerHTML+=`--qp-app-smallbar-bg:${e.app_smallbar_bg};`,t.innerHTML+=`--qp-app-smallbar-txt:${e.app_smallbar_txt};`,t.innerHTML+=`--qp-app-smallbar-accent:${e.app_smallbar_accent};`,t.innerHTML+=`--qp-default-bg:${e.default_bg};`,t.innerHTML+=`--qp-default-txt:${e.default_txt};`,t.innerHTML+=`--qp-default-accented-bg:${e.default_accented_bg};`,t.innerHTML+=`--qp-default-accented-txt:${e.default_accented_txt};`,t.innerHTML+=`--qp-default-disabled-bg:${e.default_disabled_bg};`,t.innerHTML+=`--qp-default-disabled-txt:${e.default_disabled_txt};`,t.innerHTML+=`--qp-form-bg:${e.form_bg};`,t.innerHTML+=`--qp-form-txt:${e.form_txt};`,t.innerHTML+=`--qp-form-placeholder:${e.form_placeholder};`,t.innerHTML+="}",t.innerHTML+=`${e.stylesheet}`):t.innerHTML="",document.head.appendChild(t)},_=()=>{},v=()=>{"WorldForum"==a.name?l.go(a.fullPath):l.push({name:"WorldForum",params:{slug:c.value.slug}})};return(e,t)=>{const a=(0,r.up)("router-view"),l=(0,r.up)("el-col"),o=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",kr,[p.value||d.value||!c.value?((0,r.wg)(),(0,r.j4)(qr,{key:1,isloading:p.value,hasError:d.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Wr,[(0,r._)("header",$r,[(0,r._)("h1",{class:"qp-world-header-name",onClick:t[0]||(t[0]=e=>v())},[(0,r._)("span",{textContent:(0,n.zw)(c.value.name)},null,8,zr)])]),((0,r.wg)(),(0,r.j4)(a,{key:e.$route.params.slug,world:c.value},null,8,["world"])),(0,r._)("footer",Sr,[(0,r._)("div",Tr,[(0,r.Wm)(o,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r._)("div",jr,[(0,r._)("small",null,[(0,r._)("span",{textContent:(0,n.zw)(`© ${c.value.copyright} - ${e.$t("AllRightsReserved")}`)},null,8,Dr)])])])),_:1})])),_:1})])])]))])}}};const Ar=Hr;var Er=Ar;const Ur={class:"qp-forum-breadcrumbs"},Mr=["onClick"],Fr=["textContent"];var Or={__name:"qpBreadcrumbs",props:{crumbs:{type:Array,default:()=>[]}},setup(e){const t=e,a=(0,We.tv)(),l=e=>{e&&a.push(e)};return(e,a)=>((0,r.wg)(),(0,r.iD)("nav",Ur,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.crumbs,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:`crumb-${t}`,onClick:t=>l(e.go)},[(0,r._)("span",{textContent:(0,n.zw)(e.name)},null,8,Fr)],8,Mr)))),128))])]))}};const Vr=Or;var Lr=Vr;const Rr=e=>((0,r.dD)("data-v-3231c732"),e=e(),(0,r.Cn)(),e),Pr={class:"qp-forum-header"},Nr={class:"qp-forum-header-title"},Yr=["textContent"],Br=["textContent"],Ir=Rr((()=>(0,r._)("hr",{class:"qp-forum-header-divider"},null,-1))),Zr={class:"qp-forum-header-buttons"},Gr=["textContent"],Jr=["textContent"];var Kr={__name:"qpHeader",props:{title:{type:String,default:""},description:{type:String,default:null},crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(a,l)=>{const o=(0,r.up)("el-col"),s=(0,r.up)("el-button"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("header",Pr,[(0,r._)("h2",Nr,[(0,r._)("span",{textContent:(0,n.zw)(t.title)},null,8,Yr)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,class:"qp-forum-header-description",textContent:(0,n.zw)(t.description)},null,8,Br)):(0,r.kq)("",!0),Ir,t.crumbs?.length||e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(u,{key:1,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{span:24,sm:e.showBtnChapter||e.showBtnReply?12:24,style:{"padding-left":"0"}},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(Lr,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1},8,["sm"]),e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(o,{key:0,span:24,sm:12,style:{"padding-right":"0"}},{default:(0,r.w5)((()=>[(0,r._)("div",Zr,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:l[0]||(l[0]=e=>a.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(a.$t("NewChapter"))},null,8,Gr)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:l[1]||(l[1]=e=>a.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(a.$t("ToReply"))},null,8,Jr)])),_:1})):(0,r.kq)("",!0)])])),_:1})):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0)])}}};const Qr=(0,$.Z)(Kr,[["__scopeId","data-v-3231c732"]]);var Xr=Qr;const en=(e,t=!0)=>{const a={year:"numeric",month:"long",day:"numeric",hour:t?"numeric":null,minute:t?"numeric":null,hour12:!1};return new Date(e).toLocaleString("fr",a)},tn=e=>{const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",a="aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",l=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(l,(e=>a.charAt(t.indexOf(e)))).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},an=["id"],ln={class:"qp-forum-territory-inner"},rn={class:"qp-forum-header"},nn=["textContent"],on=["textContent"],sn=["textContent"],un=["textContent"],pn=["textContent"],dn=["textContent"],cn=["textContent"],mn=["textContent"],gn={class:"qp-forum-header-lastmessage"},wn=["textContent"],_n={key:0,class:"qp-forum-header-lastmessage-infos"},vn=["textContent"],hn=["textContent"];var fn={__name:"qpTerritoryList",props:{territory:{type:Object,default:()=>{}}},setup(e){const t=e,a=(0,We.yj)(),l=(0,We.tv)(),s=e=>{e&&l.push(e)},u=()=>{l.push({name:"WorldForumTerritory",params:{slug:a.params.slug,zone_pk:t.territory.zone.id,zone_slug:tn(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:tn(t.territory.name)}})};return(e,a)=>{const l=(0,r.up)("el-col"),i=(0,r.up)("el-row"),p=(0,r.up)("el-popover"),d=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.territory?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.territory.id}`,class:"qp-forum-territory",style:(0,n.j5)(`flex-basis:${t.territory.flexbasis};`)},[(0,r._)("div",ln,[(0,r._)("header",rn,[(0,r.Wm)(p,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:a[0]||(a[0]=e=>u()),style:(0,n.j5)(t.territory.colour?`color:${t.territory.colour};`:"")},[(0,r._)("span",{textContent:(0,n.zw)(t.territory.name)},null,8,nn)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[t.territory.description?((0,r.wg)(),(0,r.j4)(l,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,n.zw)(t.territory.description)},null,8,on)])),_:1})):(0,r.kq)("",!0),t.territory.count_sectors?((0,r.wg)(),(0,r.j4)(l,{key:1,span:8,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(yl)(t.territory.count_sectors))},null,8,sn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Sector",t.territory.count_sectors))},null,8,un)])])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(l,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(yl)(t.territory.count_chapters))},null,8,pn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Chapter",t.territory.count_chapters))},null,8,dn)])])),_:1},8,["span"]),(0,r.Wm)(l,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(yl)(t.territory.count_messages))},null,8,cn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Message",t.territory.count_messages))},null,8,mn)])])),_:1},8,["span"])])),_:1})])),_:1}),(0,r._)("div",gn,[(0,r._)("div",{class:(0,n.C_)("qp-forum-header-lastmessage-avatar "+(t.territory.last_chapter?.last_message?"":"qp-empty"))},[t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(d,{key:0,src:t.territory.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.territory.last_chapter.last_message.author?.initials)},null,8,wn)])),_:1},8,["src"])):(0,r.kq)("",!0),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:a[1]||(a[1]=e=>s(t.territory.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0)],2),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",_n,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:a[2]||(a[2]=e=>s(t.territory.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,n.zw)(t.territory.last_chapter.last_message.chapter.title)},null,8,vn),(0,r._)("span",{class:"date",textContent:(0,n.zw)((0,o.SU)(en)(t.territory.last_chapter.last_message.chapter.created_at))},null,8,hn)])])):(0,r.kq)("",!0)])])])],12,an)):(0,r.kq)("",!0)}}};const yn=fn;var bn=yn;const xn=["id"],Cn={class:"qp-forum-zone-inner"},qn={class:"qp-forum-territories"};var kn={__name:"qpZoneList",props:{world:{type:Object,default:()=>{}},zone:{type:Object,default:()=>{}}},setup(e){const t=e,a=(0,We.yj)(),l=(0,r.Fl)((()=>{if("WorldForum"==a.name)return[];let e=[{name:t.world.name,view:"world",data:{world:t.world}}];return e}));return(e,a)=>t.zone?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`z${t.zone.id}`,class:"qp-forum-zone"},[(0,r._)("div",Cn,[(0,r.Wm)(Xr,{title:t.zone.name,description:t.zone.description,crumbs:(0,o.SU)(l)},null,8,["title","description","crumbs"]),(0,r._)("section",qn,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.zone.territories,((e,t)=>((0,r.wg)(),(0,r.j4)(bn,{key:`territory-${t}`,territory:e},null,8,["territory"])))),128))])])],8,xn)):(0,r.kq)("",!0)}};const Wn=kn;var $n=Wn;const zn={class:"qp-vue qp-forum qp-singleton-index"},Sn={key:0},Tn={class:"qp-container"},jn={key:0,class:"qp-forum-zones"};var Dn={__name:"IndexView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,s.oR)(),n=(0,r.Fl)((()=>l.getters.rat)),u=(0,o.iH)(!0),i=(0,o.iH)(null);(0,r.bv)((()=>{d()}));const p=(0,o.iH)(null),d=async()=>{u.value=!0,i.value=null;try{let e=await fetch(`${Ru}/worlds/forums/${t.world.forum.id}/`,{method:"GET",headers:{Authorization:n.value}}),a=await e.json();if(200!==e.status)throw e;p.value=a}catch(e){403===e.status?i.value=a("YouDoesntHaveAccessToThisForum"):404===e.status?i.value=a("ThisForumDoesntExistAnymore"):i.value=a("AnErrorOccurred")}u.value=!1};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",zn,[u.value||i.value||!p.value?((0,r.wg)(),(0,r.j4)(qr,{key:1,isloading:u.value,hasError:i.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Sn,[(0,r._)("div",Tn,["WorldForum"==e.$route.name?((0,r.wg)(),(0,r.iD)("section",jn,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.value.zones,((e,a)=>((0,r.wg)(),(0,r.j4)($n,{key:`zones-${a}`,world:t.world,zone:e},null,8,["world","zone"])))),128))])):(0,r.kq)("",!0)])]))]))}};const Hn=Dn;var An=Hn;const En={class:"qp-vue qp-forum qp-singleton-zone"},Un={key:0},Mn={class:"qp-container"},Fn={class:"qp-forum-zones"},On=["id"],Vn={class:"qp-forum-zone-inner"},Ln={class:"qp-forum-territories"};var Rn={__name:"ZoneView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.yj)(),n=(0,s.oR)(),u=(0,r.Fl)((()=>n.getters.rat)),i=(0,o.iH)(!0),p=(0,o.iH)(null),d=(0,r.Fl)((()=>{let e=[{name:c.value.forum.name,go:`/w/${l.params.slug}/forum`}];return e}));(0,r.bv)((()=>{m()}));const c=(0,o.iH)(null),m=async()=>{i.value=!0,p.value=null;try{let e=await fetch(`${Ru}/worlds/zones/${l.params.zone_pk}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t}catch(e){403===e.status?p.value=a("YouDoesntHaveAccessToThisZone"):404===e.status?p.value=a("ThisZoneDoesntExistAnymore"):p.value=a("AnErrorOccurred")}i.value=!1};return(e,a)=>((0,r.wg)(),(0,r.iD)("div",En,[i.value||p.value||!c.value?((0,r.wg)(),(0,r.j4)(qr,{key:1,isloading:i.value,hasError:p.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Un,[(0,r._)("div",Mn,[(0,r._)("section",Fn,[(0,r._)("article",{id:`z${c.value.id}`,class:"qp-forum-zone"},[(0,r._)("div",Vn,[(0,r.Wm)(Xr,{title:c.value.name,description:c.value.description,crumbs:(0,o.SU)(d)},null,8,["title","description","crumbs"]),(0,r._)("section",Ln,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value.territories,((e,a)=>((0,r.wg)(),(0,r.j4)(bn,{key:`territory-${a}`,world:t.world,territory:e},null,8,["world","territory"])))),128))])])],8,On)])])]))]))}};const Pn=Rn;var Nn=Pn;const Yn=e=>((0,r.dD)("data-v-b4de7354"),e=e(),(0,r.Cn)(),e),Bn=["textContent"],In={class:"qp-quests-list"},Zn={class:"qp-quests-item"},Gn={class:"qp-quests-item-icon"},Jn={class:"qp-quests-item-text"},Kn=Yn((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Récolter des plantes"},null,-1))),Qn=["textContent"],Xn={class:"qp-quests-item-progress"},eo={class:"qp-quests-item"},to={class:"qp-quests-item-icon"},ao={class:"qp-quests-item-text"},lo=Yn((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Problème de vermine"},null,-1))),ro=["textContent"],no={class:"qp-quests-item-progress"},oo=["textContent"];var so={__name:"qpCardQuestsList",setup(e){return(e,t)=>{const a=(0,r.up)("el-icon"),l=(0,r.up)("el-progress"),o=(0,r.up)("el-button");return(0,r.wg)(),(0,r.j4)(vt,{h:"auto"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Quests"))},null,8,Bn)])),default:(0,r.w5)((()=>[(0,r._)("ul",In,[(0,r._)("li",Zn,[(0,r._)("div",Gn,[(0,r.Wm)(a,{class:"mdi mdi-leaf"})]),(0,r._)("div",Jn,[Kn,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,n.zw)("Parcourir les alentours pour trouver des plantes utiles.")},null,8,Qn)]),(0,r._)("div",Xn,[(0,r.Wm)(l,{percentage:50,"stroke-width":4,"show-text":!1})])]),(0,r._)("li",eo,[(0,r._)("div",to,[(0,r.Wm)(a,{class:"mdi mdi-sword"})]),(0,r._)("div",ao,[lo,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,n.zw)("Éliminer les créatures qui ont envahi la région et détruisent les récoltes.")},null,8,ro)]),(0,r._)("div",no,[(0,r.Wm)(l,{percentage:50,"stroke-width":4,"show-text":!1})])])]),(0,r.Wm)(o,{size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("SeeAllQuests"))},null,8,oo)])),_:1})])),_:1})}}};const uo=(0,$.Z)(so,[["__scopeId","data-v-b4de7354"]]);var io=uo;const po={class:"qp-forum-writing-newchapter"},co={class:"qp-forum-writing-newchapter-form"},mo=["innerHTML"],go=["textContent"],wo=["textContent"];var _o={__name:"qpWritingChapter",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),d=(0,r.Fl)((()=>u.getters.heros));(0,r.bv)((()=>{m()}));const c=(0,o.iH)([]),m=()=>{c.value=[];for(const e of d.value)e.world.id==t.world.id&&c.value.push(e)},g=(0,o.iH)(null),w=(0,o.iH)(!1),_=(0,o.iH)(),v=(0,o.qj)({title:"",character:null,text:""}),h=(0,o.qj)({title:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}],character:[{required:!0,message:a("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=async()=>{g.value=null,w.value=!0,await _.value.validate(((e,t)=>{if(e)y();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)g.value=`${t} : ${e.message}`}w.value=!1}}))},y=async()=>{g.value=null,w.value=!0;try{let e=new FormData;e.append("title",v.title),e.append("author",v.character),e.append("territory",t.territory.id),t.sector&&e.append("sector",t.sector.id);let l=await fetch(`${Ru}/worlds/territories/${t.territory.id}/chapters/create/`,{method:"POST",headers:{Authorization:p.value},body:e}),r=await l.json();if(201===l.status)b(r.id);else for(let[t,n]of Object.entries(r)){let e=a(`error${t}`);for(let t of n)g.value=`${e} : ${t}`}}catch(e){console.log(e),g.value=a("AnErrorOccurred")}w.value=!1},b=async e=>{g.value=null,w.value=!0;try{let t=new FormData;t.append("chapter",e),t.append("author",v.character),t.append("text",v.text);let r=await fetch(`${Ru}/worlds/chapters/${e}/messages/create/`,{method:"POST",headers:{Authorization:p.value},body:t}),n=await r.json();if(201===r.status)l.push(n.route);else for(let[e,l]of Object.entries(n)){let t=a(`error${e}`);for(let e of l)g.value=`${t} : ${e}`}}catch{g.value=a("AnErrorOccurred")}w.value=!1};return(e,t)=>{const a=(0,r.up)("el-input"),l=(0,r.up)("el-form-item"),s=(0,r.up)("el-option"),u=(0,r.up)("el-select"),p=(0,r.up)("el-form"),d=(0,r.up)("el-col"),m=(0,r.up)("el-alert"),y=(0,r.up)("el-button"),b=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",po,[(0,r.Wm)(Xr,{title:e.$t("Writing"),description:e.$t("NewChapter")},null,8,["title","description"]),(0,r._)("section",co,[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{style:(0,n.j5)((0,o.SU)(i).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{ref_key:"formNewChapterRef",ref:_,model:v,"label-position":(0,o.SU)(i).win.w<1200?"top":"right",rules:h,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{label:e.$t("Title"),prop:"title"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:v.title,"onUpdate:modelValue":t[0]||(t[0]=e=>v.title=e),type:"text",placeholder:e.$t("NewChapterTitle")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(l,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:v.character,"onUpdate:modelValue":t[1]||(t[1]=e=>v.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(s,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(l,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:v.text,"onUpdate:modelValue":t[2]||(t[2]=e=>v.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),g.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:g.value},null,8,mo)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:w.value,onClick:t[3]||(t[3]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,go)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:w.value,type:"primary",onClick:t[4]||(t[4]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,wo)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const vo=(0,$.Z)(_o,[["__scopeId","data-v-ff7037f0"]]);var ho=vo;const fo=["id"],yo={class:"qp-forum-sector-inner"},bo={class:"qp-forum-header"},xo=["textContent"],Co=["textContent"],qo=["textContent"],ko=["textContent"],Wo=["textContent"],$o=["textContent"],zo={key:0,class:"qp-forum-header-lastmessage"},So=["textContent"],To={key:0,class:"qp-forum-header-lastmessage-infos"},jo=["textContent"],Do=["textContent"];var Ho={__name:"qpSectorList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,a=(0,We.yj)(),l=(0,We.tv)(),s=e=>{e&&l.push(e)},u=()=>{l.push({name:"WorldForumSector",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,sector_pk:t.sector.id,sector_slug:tn(t.sector.name)}})};return(e,a)=>{const l=(0,r.up)("el-col"),i=(0,r.up)("el-row"),p=(0,r.up)("el-popover"),d=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.sector?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.sector.id}`,class:"qp-forum-sector",style:(0,n.j5)(`flex-basis:${t.sector.flexbasis};`)},[(0,r._)("div",yo,[(0,r._)("header",bo,[(0,r.Wm)(p,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:a[0]||(a[0]=e=>u()),style:(0,n.j5)(t.sector.colour?`color:${t.sector.colour};`:"")},[(0,r._)("span",{textContent:(0,n.zw)(t.sector.name)},null,8,xo)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[t.sector.description?((0,r.wg)(),(0,r.j4)(l,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,n.zw)(t.sector.description)},null,8,Co)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(l,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(yl)(t.sector.count_chapters))},null,8,qo),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Chapter",t.sector.count_chapters))},null,8,ko)])])),_:1}),(0,r.Wm)(l,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(yl)(t.sector.count_messages))},null,8,Wo),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Message",t.sector.count_messages))},null,8,$o)])])),_:1})])),_:1})])),_:1}),t.sector.last_chapter?((0,r.wg)(),(0,r.iD)("div",zo,[(0,r._)("div",{class:(0,n.C_)("qp-forum-header-lastmessage-avatar "+(t.sector.last_chapter?.last_message?"":"qp-empty"))},[t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(d,{key:0,src:t.sector.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.sector.last_chapter.last_message.author?.initials)},null,8,So)])),_:1},8,["src"])):(0,r.kq)("",!0),t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:a[1]||(a[1]=e=>s(t.sector.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0)],2),t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",To,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:a[2]||(a[2]=e=>s(t.sector.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,n.zw)(t.sector.last_chapter.last_message.chapter.title)},null,8,jo),(0,r._)("span",{class:"date",textContent:(0,n.zw)((0,o.SU)(en)(t.sector.last_chapter.last_message.chapter.created_at))},null,8,Do)])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])])],12,fo)):(0,r.kq)("",!0)}}};const Ao=Ho;var Eo=Ao;const Uo=["id"],Mo={class:"qp-forum-chapter-inner"},Fo={class:"qp-forum-header"},Oo={class:"qp-forum-header-profile"},Vo={class:"qp-forum-header-profile-banner"},Lo=(0,r._)("div",{class:"image-slot"},null,-1),Ro={class:"qp-forum-header-profile-avatar"},Po=["textContent"],No=["textContent"],Yo={class:"qp-forum-header-date"},Bo=["textContent"],Io={class:"qp-forum-header-infos"},Zo={class:"qp-forum-header-infos-lastmessagedate"},Go=["textContent"],Jo=["textContent"],Ko={class:"qp-forum-header-infos-countmessages"},Qo=["textContent"];var Xo={__name:"qpChapterList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,a=(0,We.tv)(),l=()=>{a.push({name:"WorldForumTerritoryChapter",params:{slug:t.world.slug,zone_pk:t.territory.zone.id,zone_slug:tn(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:tn(t.territory.name),chapter_pk:t.chapter.id,chapter_slug:tn(t.chapter.title)}})};return(e,a)=>{const s=(0,r.up)("el-image"),u=(0,r.up)("el-avatar"),i=(0,r.up)("el-icon");return t.chapter?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`c${t.chapter.id}`,class:"qp-forum-chapter"},[(0,r._)("div",Mo,[(0,r._)("header",Fo,[(0,r._)("div",Oo,[(0,r._)("div",Vo,[t.chapter.author?.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:t.chapter.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Lo])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",Ro,[(0,r.Wm)(u,{src:t.chapter.last_message?.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.chapter.last_message?.author?.initials)},null,8,Po)])),_:1},8,["src"])])]),(0,r._)("h2",{class:"qp-forum-header-title",onClick:a[0]||(a[0]=e=>l())},[(0,r._)("span",{textContent:(0,n.zw)(t.chapter.title)},null,8,No)]),(0,r._)("p",Yo,[t.chapter.date?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,n.zw)(t.chapter.date)},null,8,Bo)):(0,r.kq)("",!0)]),(0,r._)("ul",Io,[(0,r._)("li",Zo,[(0,r.Wm)(i,{class:"mdi mdi-clock-outline"}),t.chapter.last_message?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,n.zw)((0,o.SU)(en)(t.chapter.last_message.created_at))},null,8,Go)):((0,r.wg)(),(0,r.iD)("span",{key:1,textContent:(0,n.zw)(e.$t("Never"))},null,8,Jo))]),(0,r._)("li",Ko,[(0,r.Wm)(i,{class:"mdi mdi-message-text-outline"}),(0,r._)("span",{textContent:(0,n.zw)(t.chapter.count_messages)},null,8,Qo)])])])])],8,Uo)):(0,r.kq)("",!0)}}};const es=Xo;var ts=es;const as={class:"qp-vue qp-forum qp-singleton-territory"},ls={key:0},rs={class:"qp-container"},ns={class:"qp-forum-territories"},os=["id"],ss={class:"qp-forum-territory-inner"},us={class:"qp-forum-sectors"},is={key:0},ps=(0,r.Uk)(" (en construction) "),ds=["textContent"],cs={class:"qp-forum-chapters"};var ms={__name:"TerritoryView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.yj)(),u=(0,We.tv)(),i=(0,s.oR)(),p=(0,r.Fl)((()=>i.getters.rat)),d=(0,o.iH)(!0),c=(0,o.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:g.value.forum.name,go:`/w/${l.params.slug}/forum`}];return g.value&&e.push({name:g.value.zone.name,go:`/w/${l.params.slug}/forum/z${l.params.zone_pk}-${l.params.zone_slug}`}),e}));(0,r.bv)((()=>{w()}));const g=(0,o.iH)(null),w=async()=>{d.value=!0,c.value=null;try{let e=await fetch(`${Ru}/worlds/territories/${l.params.territory_pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;g.value=t}catch(e){403===e.status?c.value=a("YouDoesntHaveAccessToThisTerritory"):404===e.status?c.value=a("ThisTerritoryDoesntExistAnymore"):c.value=a("AnErrorOccurred")}d.value=!1},_=(0,r.Fl)((()=>{let e=1;return"page"in l.query&&Number(l.query.page)>0&&(e=Number(l.query.page)),e})),v=e=>{u.push({name:"WorldForumTerritory",params:{slug:l.params.slug,zone_pk:l.params.zone_pk,zone_slug:l.params.zone_slug,territory_pk:g.value.id,territory_slug:tn(g.value.name)},query:{page:e}})},h=(0,o.iH)(!1),f=()=>{h.value=!0},y=()=>{h.value=!1};return(a,l)=>{const s=(0,r.up)("el-col"),u=(0,r.up)("el-pagination"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",as,[d.value||c.value||!g.value?((0,r.wg)(),(0,r.j4)(qr,{key:1,isloading:d.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",ls,[(0,r._)("div",rs,[(0,r._)("section",ns,[(0,r._)("article",{id:`t${g.value.id}`,class:"qp-forum-territory"},[(0,r._)("div",ss,[(0,r.Wm)(Xr,{title:g.value.name,description:g.value.description,crumbs:(0,o.SU)(m)},null,8,["title","description","crumbs"]),h.value?((0,r.wg)(),(0,r.j4)(ho,{key:1,world:e.world,territory:g.value,onClose:l[1]||(l[1]=e=>y())},null,8,["world","territory"])):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("section",us,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value.sectors,((e,a)=>((0,r.wg)(),(0,r.j4)(Eo,{key:`sector-${a}`,world:t.world,territory:g.value,sector:e},null,8,["world","territory","sector"])))),128)),g.value.sectors?.length?((0,r.wg)(),(0,r.iD)("hr",is)):(0,r.kq)("",!0)]),(0,r._)("section",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[ps])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{clickable:"",bgcolor:"primary",onClick:l[0]||(l[0]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(a.$t("NewChapter"))},null,8,ds)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",cs,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value.chapters,((e,a)=>((0,r.wg)(),(0,r.j4)(ts,{key:`chapter-${a}`,world:t.world,territory:g.value,chapter:e},null,8,["world","territory","chapter"])))),128)),g.value.chapters.length?((0,r.wg)(),(0,r.j4)(u,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:g.value.count_chapters,"page-size":g.value.perpage_chapters,"current-page":(0,o.SU)(_),"onUpdate:currentPage":v},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(io)])),_:1})])),_:1})])],64))])],8,os)])])]))])}}};const gs=ms;var ws=gs;const _s={class:"qp-vue qp-forum qp-singleton-sector"},vs={key:0},hs={class:"qp-container"},fs={class:"qp-forum-territories"},ys=["id"],bs={class:"qp-forum-sector-inner"},xs={key:0},Cs=(0,r.Uk)(" (en construction) "),qs=["textContent"],ks={class:"qp-forum-chapters"};var Ws={__name:"SectorView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.yj)(),u=(0,We.tv)(),i=(0,s.oR)(),p=(0,r.Fl)((()=>i.getters.rat)),d=(0,o.iH)(!0),c=(0,o.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:g.value.forum.name,go:`/w/${l.params.slug}/forum`}];return g.value?.zone&&e.push({name:g.value.zone.name,go:`/w/${l.params.slug}/forum/z${l.params.zone_pk}-${l.params.zone_slug}`}),g.value?.territory&&e.push({name:g.value.territory.name,go:`/w/${l.params.slug}/forum/z${l.params.zone_pk}-${l.params.zone_slug}/t${l.params.territory_pk}-${l.params.territory_slug}`}),e}));(0,r.bv)((()=>{w()}));const g=(0,o.iH)(null),w=async()=>{d.value=!0,c.value=null;try{let e=await fetch(`${Ru}/worlds/sectors/${l.params.sector_pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;g.value=t}catch(e){403===e.status?c.value=a("YouDoesntHaveAccessToThisSector"):404===e.status?c.value=a("ThisSectorDoesntExistAnymore"):c.value=a("AnErrorOccurred")}d.value=!1},_=(0,r.Fl)((()=>{let e=1;return"page"in l.query&&Number(l.query.page)>0&&(e=Number(l.query.page)),e})),v=e=>{u.push({name:"WorldForumSector",params:{slug:l.params.slug,zone_pk:l.params.zone_pk,zone_slug:l.params.zone_slug,territory_pk:l.params.territory_pk,territory_slug:l.params.territory_slug,sector_pk:g.value.id,sector_slug:tn(g.value.name)},query:{page:e}})},h=(0,o.iH)(!1),f=()=>{h.value=!0},y=()=>{h.value=!1};return(a,l)=>{const s=(0,r.up)("el-col"),u=(0,r.up)("el-pagination"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",_s,[d.value||c.value||!g.value?((0,r.wg)(),(0,r.j4)(qr,{key:1,isloading:d.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",vs,[(0,r._)("div",hs,[(0,r._)("section",fs,[(0,r._)("article",{id:`s${g.value.id}`,class:"qp-forum-sector"},[(0,r._)("div",bs,[(0,r.Wm)(Xr,{title:g.value.name,description:g.value.description,crumbs:(0,o.SU)(m)},null,8,["title","description","crumbs"]),h.value?((0,r.wg)(),(0,r.j4)(ho,{key:1,type:"chapter",world:e.world,territory:g.value.territory,sector:g.value,onClose:l[1]||(l[1]=e=>y())},null,8,["world","territory","sector"])):((0,r.wg)(),(0,r.iD)("section",xs,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[Cs])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(vt,{clickable:"",bgcolor:"primary",onClick:l[0]||(l[0]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(a.$t("NewChapter"))},null,8,qs)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",ks,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value.chapters,((e,a)=>((0,r.wg)(),(0,r.j4)(ts,{key:`chapter-${a}`,world:t.world,territory:g.value.territory,sector:g.value,chapter:e},null,8,["world","territory","sector","chapter"])))),128)),g.value.chapters.length?((0,r.wg)(),(0,r.j4)(u,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:g.value.count_chapters,"page-size":g.value.perpage_chapters,"current-page":(0,o.SU)(_),"onUpdate:currentPage":v},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(io)])),_:1})])),_:1})]))])],8,ys)])])]))])}}};const $s=Ws;var zs=$s;const Ss={class:"qp-forum-footer"},Ts={class:"qp-forum-footer-buttons"},js=["textContent"],Ds=["textContent"];var Hs={__name:"qpFooter",props:{crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(a,l)=>{const o=(0,r.up)("el-col"),s=(0,r.up)("el-button"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("footer",Ss,[(0,r.Wm)(u,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{span:24,sm:12},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(Lr,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(o,{span:24,sm:12},{default:(0,r.w5)((()=>[(0,r._)("div",Ts,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:l[0]||(l[0]=e=>a.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(a.$t("NewChapter"))},null,8,js)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:l[1]||(l[1]=e=>a.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(a.$t("ToReply"))},null,8,Ds)])),_:1})):(0,r.kq)("",!0)])])),_:1})])),_:1})])}}};const As=(0,$.Z)(Hs,[["__scopeId","data-v-6adf28f5"]]);var Es=As,Us=a(5499),Ms=a(327);const Fs=e=>{let t=e;return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replaceAll("\n","<br />").replaceAll("[g]",'<span style="font-weight:bold;">').replaceAll("[/g]","</span>").replaceAll("[i]",'<span style="font-style:italic;">').replaceAll("[/i]","</span>").replaceAll("[s]",'<span style="text-decoration:underline;">').replaceAll("[/s]","</span>").replaceAll("[b]",'<span style="text-decoration:line-through;">').replaceAll("[/b]","</span>").replaceAll("[gauche]",'<div style="text-align:left;">').replaceAll("[/gauche]","</div>").replaceAll("[centre]",'<div style="text-align:center;">').replaceAll("[/centre]","</div>").replaceAll("[droite]",'<div style="text-align:right;">').replaceAll("[/droite]","</div>").replace(/\[c=#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\]/g,'<span style="color:#$1;">').replace(/\[c=([a-zA-Z0-9_]+)\]/g,'<span style="color:var(--c-$1);">').replaceAll("[/c]","</span>").replace(/\[p=(Indie Flower|Oswald|Quicksand|Roboto Condensed)\]/g,"<span style=\"font-family:'$1';\">").replaceAll("[/p]","</span>").replace(/\[url=([^<>[\]]+)\]/g,'<a href="$1">').replaceAll("[/url]","</a>").replace(/\[urlo=([^<>[\]]+)\]/g,'<a href="$1" target="_blank">').replaceAll("[/urlo]","</a>").replace(/\[img=([^<>[\]]+)\]/g,'<img src="$1" alt="" />').replace(/\[ico=([a-z- ]+)\]/g,'<i class="mdi $1"></i>'),t},Os={class:"qp-forum-writing-editmessage"},Vs={class:"qp-forum-writing-editmessage-form"},Ls=["innerHTML"],Rs=["textContent"],Ps=["textContent"];var Ns={__name:"qpWritingEdit",props:{message:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat));(0,r.bv)((()=>{d()}));const d=()=>{w.text=t.message.text},c=(0,o.iH)(null),m=(0,o.iH)(!1),g=(0,o.iH)(),w=(0,o.qj)({text:""}),_=(0,o.qj)({text:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),v=async()=>{c.value=null,m.value=!0,await g.value.validate(((e,t)=>{if(e)h();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)c.value=`${t} : ${e.message}`}m.value=!1}}))},h=async()=>{c.value=null,m.value=!0;try{let e=new FormData;e.append("text",w.text);let r=await fetch(`${Ru}/worlds/messages/${t.message.id}/edit/`,{method:"PATCH",headers:{Authorization:p.value},body:e}),n=await r.json();if(200===r.status)l.go(n.route);else{for(let[e,t]of Object.entries(n)){let l=a(`error${e}`);for(let e of t)c.value=`${l} : ${e}`}m.value=!1}}catch{c.value=a("AnErrorOccurred"),m.value=!1}};return(e,t)=>{const a=(0,r.up)("el-input"),l=(0,r.up)("el-form-item"),s=(0,r.up)("el-form"),u=(0,r.up)("el-col"),p=(0,r.up)("el-alert"),d=(0,r.up)("el-button"),h=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",Os,[(0,r._)("section",Vs,[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{style:(0,n.j5)((0,o.SU)(i).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{ref_key:"formEditMessageRef",ref:g,model:w,"label-position":(0,o.SU)(i).win.w<1200?"top":"right",rules:_,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:w.text,"onUpdate:modelValue":t[0]||(t[0]=e=>w.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),c.value?((0,r.wg)(),(0,r.j4)(u,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:c.value},null,8,Ls)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{disabled:m.value,onClick:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,Rs)])),_:1},8,["disabled"]),(0,r.Wm)(d,{loading:m.value,type:"primary",onClick:t[2]||(t[2]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,Ps)])),_:1},8,["loading"])])),_:1})])),_:1})])])}}};const Ys=(0,$.Z)(Ns,[["__scopeId","data-v-0c0a4a34"]]);var Bs=Ys;const Is=e=>((0,r.dD)("data-v-2d53a7a2"),e=e(),(0,r.Cn)(),e),Zs=["id"],Gs={class:"qp-forum-message-inner"},Js={class:"qp-forum-header"},Ks={class:"qp-forum-header-profile"},Qs={class:"qp-forum-header-profile-banner"},Xs=Is((()=>(0,r._)("div",{class:"image-slot"},null,-1))),eu={class:"qp-forum-header-profile-avatar"},tu=["textContent"],au={class:"qp-forum-header-profile-infos"},lu={class:"qp-forum-header-profile-name"},ru=["textContent"],nu={class:"qp-forum-header-profile-date"},ou=["textContent"],su={key:1,class:"qp-forum-message-text"},uu={class:"qp-forum-message-text-inner"},iu=["innerHTML"],pu={class:"qp-forum-message-footer"},du={key:0};var cu={__name:"qpMessage",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}},message:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.yj)(),u=(0,We.tv)(),i=(0,s.oR)(),p=(0,r.Fl)((()=>i.getters.rat)),d=(0,r.Fl)((()=>i.getters.player)),c=(0,o.iH)(!1),m=()=>{c.value=!0,Us.T.confirm(a("Areyousureyouwanttodeletethismessage"),a("DeleteMessage"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{g()})).catch((()=>{c.value=!1}))},g=async()=>{c.value=!0;try{let e=new FormData;e.append("id",t.message.id);let r=await fetch(`${Ru}/worlds/messages/${t.message.id}/delete/`,{method:"DELETE",headers:{Authorization:p.value},body:e});204===r.status?(u.go(l.fullPath),(0,Ms.bM)({title:a("Success"),message:a("MessageDeletedSuccessfully"),type:"success"})):((0,Ms.bM)({title:a("Error"),message:a("AnErrorOccurred"),type:"error"}),c.value=!1)}catch(e){(0,Ms.bM)({title:a("Error"),message:`${a("AnErrorOccurred")} : ${e}`,type:"error"}),c.value=!1}},w=(0,o.iH)(!1),_=()=>{w.value=!0},v=()=>{w.value=!1};return(e,a)=>{const l=(0,r.up)("el-image"),s=(0,r.up)("el-avatar"),u=(0,r.up)("el-icon"),i=(0,r.up)("el-button"),g=(0,r.up)("el-tooltip"),h=(0,r.Q2)("loading");return t.message?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`m${t.message.id}`,class:"qp-forum-message"},[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Gs,[(0,r._)("header",Js,[(0,r._)("div",Ks,[(0,r._)("div",Qs,[t.message.author.avatar?((0,r.wg)(),(0,r.j4)(l,{key:0,src:t.message.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Xs])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",eu,[(0,r.Wm)(s,{src:t.message.author.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(t.message.author.initials)},null,8,tu)])),_:1},8,["src"])]),(0,r._)("div",au,[(0,r._)("div",lu,[(0,r._)("span",{textContent:(0,n.zw)(t.message.author.name)},null,8,ru)]),(0,r._)("div",nu,[(0,r._)("span",{textContent:(0,n.zw)((0,o.SU)(en)(t.message.created_at))},null,8,ou)])])])]),w.value?((0,r.wg)(),(0,r.j4)(Bs,{key:0,message:t.message,onClose:a[0]||(a[0]=e=>v())},null,8,["message"])):((0,r.wg)(),(0,r.iD)("div",su,[(0,r._)("div",uu,[(0,r._)("div",{innerHTML:(0,o.SU)(Fs)(t.message.text)},null,8,iu)])])),(0,r._)("footer",pu,[(0,o.SU)(p)&&(0,o.SU)(d)?.id==t.message.author?.player?.id&&!w.value?((0,r.wg)(),(0,r.iD)("div",du,[(0,r.Wm)(g,{content:e.$t("EditMessage"),placement:"bottom-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{size:"small",onClick:a[1]||(a[1]=e=>_())},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"mdi mdi-pencil"})])),_:1})])),_:1},8,["content"]),(0,r.Wm)(g,{content:e.$t("DeleteMessage"),placement:"bottom-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{size:"small",onClick:a[2]||(a[2]=e=>m())},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{class:"mdi mdi-close"})])),_:1})])),_:1},8,["content"])])):(0,r.kq)("",!0)])])),[[h,c.value]])],8,Zs)):(0,r.kq)("",!0)}}};const mu=(0,$.Z)(cu,[["__scopeId","data-v-2d53a7a2"]]);var gu=mu;const wu={class:"qp-forum-writing-newchapter"},_u={class:"qp-forum-writing-newchapter-form"},vu=["innerHTML"],hu=["textContent"],fu=["textContent"];var yu={__name:"qpWritingReply",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),d=(0,r.Fl)((()=>u.getters.heros));(0,r.bv)((()=>{m()}));const c=(0,o.iH)([]),m=()=>{c.value=[];for(const e of d.value)e.world.id==t.world.id&&c.value.push(e)},g=(0,o.iH)(null),w=(0,o.iH)(!1),_=(0,o.iH)(),v=(0,o.qj)({character:null,text:""}),h=(0,o.qj)({character:[{required:!0,message:a("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=async()=>{g.value=null,w.value=!0,await _.value.validate(((e,t)=>{if(e)y();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)g.value=`${t} : ${e.message}`}w.value=!1}}))},y=async()=>{g.value=null,w.value=!0;try{let e=new FormData;e.append("chapter",t.chapter.id),e.append("author",v.character),e.append("text",v.text);let r=await fetch(`${Ru}/worlds/chapters/${t.chapter.id}/messages/create/`,{method:"POST",headers:{Authorization:p.value},body:e}),n=await r.json();if(201===r.status)l.push(n.route);else for(let[t,l]of Object.entries(n)){let e=a(`error${t}`);for(let t of l)g.value=`${e} : ${t}`}}catch{g.value=a("AnErrorOccurred")}w.value=!1};return(e,t)=>{const a=(0,r.up)("el-option"),l=(0,r.up)("el-select"),s=(0,r.up)("el-form-item"),u=(0,r.up)("el-input"),p=(0,r.up)("el-form"),d=(0,r.up)("el-col"),m=(0,r.up)("el-alert"),y=(0,r.up)("el-button"),b=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",wu,[(0,r.Wm)(Xr,{title:e.$t("Writing"),description:e.$t("ToReply")},null,8,["title","description"]),(0,r._)("section",_u,[(0,r.Wm)(vt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,{style:(0,n.j5)((0,o.SU)(i).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{ref_key:"formNewReplyRef",ref:_,model:v,"label-position":(0,o.SU)(i).win.w<1200?"top":"right",rules:h,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:v.character,"onUpdate:modelValue":t[0]||(t[0]=e=>v.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(a,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(s,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{modelValue:v.text,"onUpdate:modelValue":t[1]||(t[1]=e=>v.text=e),type:"textarea",rows:12,placeholder:e.$t("YourReply")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),g.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:g.value},null,8,vu)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:w.value,onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Cancel"))},null,8,hu)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:w.value,type:"primary",onClick:t[3]||(t[3]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,n.zw)(e.$t("Send"))},null,8,fu)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const bu=(0,$.Z)(yu,[["__scopeId","data-v-77c5f4d2"]]);var xu=bu;const Cu={class:"qp-vue qp-forum qp-singleton-zone"},qu={key:0},ku={class:"qp-container"},Wu={key:0,class:"qp-forum-chapters"},$u=["id"],zu={class:"qp-forum-chapter-inner"},Su={key:0,class:"qp-forum-messages"},Tu={key:1,id:"reply",class:"qp-forum-writing"};var ju={__name:"ChapterView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:a}=Pe.global,l=(0,We.yj)(),n=(0,We.tv)(),u=(0,s.oR)(),i=(0,r.Fl)((()=>u.getters.rat)),p=(0,o.iH)(!0),d=(0,o.iH)(null),c=(0,r.Fl)((()=>{let e=[{name:m.value.forum.name,go:`/w/${l.params.slug}/forum`}];return m.value&&e.push({name:m.value.zone.name,go:`/w/${l.params.slug}/forum/z${l.params.zone_pk}-${l.params.zone_slug}`}),m.value&&e.push({name:m.value.territory.name,go:`/w/${l.params.slug}/forum/z${l.params.zone_pk}-${l.params.zone_slug}/t${l.params.territory_pk}-${l.params.territory_slug}`}),m.value?.sector&&e.push({name:m.value.sector.name,go:`/w/${l.params.slug}/forum/z${l.params.zone_pk}-${l.params.zone_slug}/t${l.params.territory_pk}-${l.params.territory_slug}/s${l.params.sector_pk}-${l.params.sector_slug}`}),e}));(0,r.bv)((()=>{w()}));const m=(0,o.iH)(null),g=(0,o.iH)(null),w=async()=>{p.value=!0,d.value=null;try{let e=await fetch(`${Ru}/worlds/chapters/${l.params.chapter_pk}/`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t,_()}catch(e){403===e.status?d.value=a("YouDoesntHaveAccessToThisChapter"):404===e.status?d.value=a("ThisChapterDoesntExistAnymore"):d.value=a("AnErrorOccurred")}p.value=!1},_=async()=>{p.value=!0,d.value=null;try{let e=await fetch(`${Ru}/worlds/chapters/${l.params.chapter_pk}/messages/?page=${h.value}`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;g.value=t,v()}catch(e){403===e.status?d.value=a("YouDoesntHaveAccessToThisChapter"):404===e.status?d.value=a("ThisPageDoesntExistAnymore"):d.value=a("AnErrorOccurred")}p.value=!1},v=()=>{setTimeout((()=>{if(l.hash&&(l.hash.startsWith("#c")||l.hash.startsWith("#m"))){const e=document.getElementById(l.hash.replace("#",""));e&&e.scrollIntoView({behavior:"smooth"})}}),200)},h=(0,r.Fl)((()=>{let e=1;return"page"in l.query&&Number(l.query.page)>0&&(e=Number(l.query.page)),e})),f=e=>{let t="WorldForumTerritoryChapter",a={name:t,params:{slug:l.params.slug,zone_pk:l.params.zone_pk,zone_slug:l.params.zone_slug,territory_pk:l.params.territory_pk,territory_slug:l.params.territory_slug,chapter_pk:l.params.chapter_pk,chapter_slug:l.params.chapter_slug},query:{page:e}};m.value?.sector&&(a.name="WorldForumSectorChapter",a.params["sector_pk"]=l.params.sector_pk,a.params["sector_slug"]=l.params.sector_slug),n.push(a)},y=(0,o.iH)(!1),b=()=>{y.value=!0,setTimeout((()=>{const e=document.getElementById("reply");e?.scrollIntoView()}),100)},x=()=>{y.value=!1};return(e,a)=>{const l=(0,r.up)("el-pagination"),n=(0,r.up)("el-icon"),s=(0,r.up)("el-button"),u=(0,r.up)("el-tooltip"),i=(0,r.up)("el-col"),w=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",Cu,[p.value||d.value||!m.value?((0,r.wg)(),(0,r.j4)(qr,{key:1,isloading:p.value,hasError:d.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",qu,[(0,r._)("div",ku,[m.value?((0,r.wg)(),(0,r.iD)("section",Wu,[(0,r._)("article",{id:`c${m.value.id}`,class:"qp-forum-chapter"},[(0,r._)("div",zu,[(0,r.Wm)(Xr,{"show-btn-reply":"",title:m.value.title,description:m.value.description,crumbs:(0,o.SU)(c),onOpenNewReply:a[0]||(a[0]=e=>b())},null,8,["title","description","crumbs"]),g.value?((0,r.wg)(),(0,r.iD)("section",Su,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value.results,((e,a)=>((0,r.wg)(),(0,r.j4)(gu,{key:`message-${a}`,world:t.world,chapter:m.value,message:e},null,8,["world","chapter","message"])))),128))])):(0,r.kq)("",!0),(0,r.Wm)(Es,{"show-btn-reply":"",crumbs:(0,o.SU)(c),onOpenNewReply:a[1]||(a[1]=e=>b())},null,8,["crumbs"]),g.value?.results.length?((0,r.wg)(),(0,r.j4)(l,{key:1,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:g.value.count,"page-size":g.value.size,"current-page":(0,o.SU)(h),"onUpdate:currentPage":f},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])],8,$u),(0,r._)("footer",null,[(0,r.Wm)(w,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{span:24,md:12},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{content:e.$t("DeleteChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{class:"mdi mdi-delete-forever"})])),_:1})])),_:1},8,["content"]),m.value.is_locked?((0,r.wg)(),(0,r.j4)(u,{key:0,content:e.$t("UnlockChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{class:"mdi mdi-lock-open"})])),_:1})])),_:1},8,["content"])):((0,r.wg)(),(0,r.j4)(u,{key:1,content:e.$t("LockChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{class:"mdi mdi-lock"})])),_:1})])),_:1},8,["content"]))])),_:1}),(0,r.Wm)(i,{span:24,md:12})])),_:1})])])):(0,r.kq)("",!0),y.value?((0,r.wg)(),(0,r.iD)("section",Tu,[(0,r.Wm)(xu,{world:t.world,chapter:m.value,onClose:a[2]||(a[2]=e=>x())},null,8,["world","chapter"])])):(0,r.kq)("",!0)])]))])}}};const Du=ju;var Hu=Du;const Au=[{path:"/w/:slug",name:"World",component:Er,children:[{path:"forum",name:"WorldForum",component:An},{path:"forum/z:zone_pk(\\d+)-:zone_slug",name:"WorldForumZone",component:Nn},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug",name:"WorldForumTerritory",component:ws},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumTerritoryChapter",component:Hu},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug",name:"WorldForumSector",component:zs},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumSectorChapter",component:Hu}]}],Eu=[{path:"/",name:"Home",component:ct},{path:"/:catchAll(.*)",name:"Error",component:Ct}];Eu.push(...Xt),Eu.push(..._r),Eu.push(...Au);const Uu=(0,We.p7)({history:(0,We.PO)("/"),routes:Eu});Uu.beforeEach((async(e,t,a)=>{"slug"in e.params||document.getElementById("qp-custom-style")&&document.getElementById("qp-custom-style").remove(),st.dispatch("getPlayer"),await st.restored,a()}));var Mu=Uu,Fu=a(5605),Ou=a(4242);a(4415);const Vu=(0,l.ri)(Me),Lu={name:"Cynorrhodonnismes",shortname:"Cynorrs"},Ru="https://mcpronovost.pythonanywhere.com/api";Vu.use(Pe),Vu.use(st),Vu.use(Mu),Vu.use(Fu.Z,{locale:Ou.Z}),Vu.mount("#app")},4465:function(e,t,a){e.exports=a.p+"img/logo-square-trans.png"}},t={};function a(l){var r=t[l];if(void 0!==r)return r.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,a),n.exports}a.m=e,function(){var e=[];a.O=function(t,l,r,n){if(!l){var o=1/0;for(p=0;p<e.length;p++){l=e[p][0],r=e[p][1],n=e[p][2];for(var s=!0,u=0;u<l.length;u++)(!1&n||o>=n)&&Object.keys(a.O).every((function(e){return a.O[e](l[u])}))?l.splice(u--,1):(s=!1,n<o&&(o=n));if(s){e.splice(p--,1);var i=r();void 0!==i&&(t=i)}}return t}n=n||0;for(var p=e.length;p>0&&e[p-1][2]>n;p--)e[p]=e[p-1];e[p]=[l,r,n]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var l in t)a.o(t,l)&&!a.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.p="/"}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,l){var r,n,o=l[0],s=l[1],u=l[2],i=0;if(o.some((function(t){return 0!==e[t]}))){for(r in s)a.o(s,r)&&(a.m[r]=s[r]);if(u)var p=u(a)}for(t&&t(l);i<o.length;i++)n=o[i],a.o(e,n)&&e[n]&&e[n][0](),e[n]=0;return a.O(p)},l=self["webpackChunk_mcpronovost_cynorrs"]=self["webpackChunk_mcpronovost_cynorrs"]||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))}();var l=a.O(void 0,[998],(function(){return a(1922)}));l=a.O(l)})();