(function(){"use strict";var e={5622:function(e,t,l){l.d(t,{b:function(){return _d},E:function(){return gd}});var a=l(9242),r=l(3396),o=l(7139),n=l(4870),s=l(65),i=l(2748);const u=e=>((0,r.dD)("data-v-f7f4a098"),e=e(),(0,r.Cn)(),e),d={id:"qp-header-menu-player"},p=["textContent"],c=["textContent"],m=["textContent"],w=["textContent"],f=u((()=>(0,r._)("br",null,null,-1))),v=["textContent"],g=u((()=>(0,r._)("hr",null,null,-1))),_=["textContent"],h=["textContent"],y=["textContent"],b=u((()=>(0,r._)("hr",null,null,-1))),x=["textContent"],C=["textContent"],$=u((()=>(0,r._)("hr",null,null,-1))),W=["textContent"];var q={__name:"qpHeaderNavPlayer",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-icon"),i=(0,r.up)("el-menu-item"),u=(0,r.up)("el-menu"),q=(0,r.up)("el-badge"),k=(0,r.up)("el-sub-menu");return(0,r.wg)(),(0,r.iD)("div",d,[(0,n.SU)(l)?((0,r.wg)(),(0,r.j4)(u,{key:1,router:"",mode:"horizontal","menu-trigger":"click","default-active":e.$route&&e.$route.name?e.$route.name:null},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{disabled:"",index:"notifications"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{hidden:!0,"is-dot":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-bell-outline"})])),_:1})])),_:1}),(0,r.Wm)(i,{disabled:"",index:"messages"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{hidden:!0,value:123,max:99},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-email-outline"})])),_:1})])),_:1}),(0,r.Wm)(k,{index:"1"},{title:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(a)?.playername)},null,8,m)])),default:(0,r.w5)((()=>[(0,r.Wm)(i,{index:"MeProfile",route:{name:"MeProfile"},disabled:e.$route.name&&"MeProfile"==e.$route.name,class:"qp-multiline"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("SignedInAs"))},null,8,w),f,(0,r._)("strong",{textContent:(0,o.zw)((0,n.SU)(a)?.playername)},null,8,v)])),_:1},8,["disabled"]),g,(0,r.Wm)(i,{index:"MeProfile",route:{name:"MeProfile"},disabled:e.$route.name&&"MeProfile"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourProfile"))},null,8,_)])),_:1},8,["disabled"]),(0,r.Wm)(i,{index:"MeCharacters",route:{name:"MeCharacters"},disabled:e.$route.name&&"MeCharacters"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourCharacters"))},null,8,h)])),_:1},8,["disabled"]),(0,r.Wm)(i,{index:"MeWorlds",route:{name:"MeWorlds"},disabled:e.$route.name&&"MeWorlds"==e.$route.name},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourWorlds"))},null,8,y)])),_:1},8,["disabled"]),b,(0,r.Wm)(i,{disabled:"",index:"help"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Help"))},null,8,x)])),_:1}),(0,r.Wm)(i,{disabled:"",index:"settings"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Settings"))},null,8,C)])),_:1}),$,(0,r.Wm)(i,{index:"AuthLogout",route:{name:"AuthLogout"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Logout"))},null,8,W)])),_:1})])),_:1})])),_:1},8,["default-active"])):((0,r.wg)(),(0,r.j4)(u,{key:0,router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{index:"AuthLogin",route:{name:"AuthLogin"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-power"}),(0,r._)("span",{textContent:(0,o.zw)(e.$t("Login"))},null,8,p)])),_:1}),(0,r.Wm)(i,{index:"AuthRegister",route:{name:"AuthRegister"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{class:"mdi mdi-login-variant"}),(0,r._)("span",{textContent:(0,o.zw)(e.$t("Register"))},null,8,c)])),_:1})])),_:1}))])}}},k=l(89);const z=(0,k.Z)(q,[["__scopeId","data-v-f7f4a098"]]);var S=z;const A=e=>((0,r.dD)("data-v-435885fa"),e=e(),(0,r.Cn)(),e),j={id:"qp-app-header"},T={id:"qp-header-logo-img"},D=A((()=>(0,r._)("div",{class:"image-slot"},null,-1))),H={id:"qp-header-logo-title"},V=["textContent"],U={id:"qp-header-menu-app"},O=["textContent"],E=["textContent"];var F={__name:"qpHeader",setup(e){const t=(0,s.oR)(),a=(0,r.Fl)((()=>t.getters.app)),u=(0,n.iH)(l(4465)),d=()=>{t.commit("TOGGLE_SIDEBAR")};return(e,t)=>{const l=(0,r.up)("el-image"),s=(0,r.up)("el-icon"),p=(0,r.up)("el-menu-item"),c=(0,r.up)("el-menu"),m=(0,r.up)("el-col"),w=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",j,[(0,r.Wm)(w,{gutter:20,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{span:10,class:"text-left"},{default:(0,r.w5)((()=>[(0,r._)("div",{id:"qp-header-logo",onClick:t[0]||(t[0]=t=>e.$router.go({name:"Home"}))},[(0,r._)("div",T,[(0,r.Wm)(l,{src:u.value,fit:"cover"},{error:(0,r.w5)((()=>[D])),_:1},8,["src"])]),(0,r._)("div",H,[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(gd).shortname)},null,8,V)])]),(0,n.SU)(a).win.w>=1200?((0,r.wg)(),(0,r.iD)("div",{key:0,id:"qp-header-toggle-sidebar",onClick:t[1]||(t[1]=e=>d())},[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,n.SU)(a).sidebar.collapse?((0,r.wg)(),(0,r.j4)((0,n.SU)(i.M0b),{key:0})):((0,r.wg)(),(0,r.j4)((0,n.SU)(i.qFw),{key:1}))])),_:1})])):(0,r.kq)("",!0),(0,r._)("div",U,[(0,r.Wm)(c,{router:"",mode:"horizontal","menu-trigger":"click"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{disabled:"",index:"discover"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Discover"))},null,8,O)])),_:1}),(0,r.Wm)(p,{disabled:"",index:"browse"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Browse"))},null,8,E)])),_:1})])),_:1})])])),_:1}),(0,r.Wm)(m,{span:14,class:"text-right"},{default:(0,r.w5)((()=>[(0,r.Wm)(S)])),_:1})])),_:1})])}}};const M=(0,k.Z)(F,[["__scopeId","data-v-435885fa"]]);var N=M;const R=e=>((0,r.dD)("data-v-2e508a8a"),e=e(),(0,r.Cn)(),e),L={id:"qp-sidebar-profile"},P={id:"qp-sidebar-banner"},Z=R((()=>(0,r._)("div",{class:"image-slot"},null,-1))),I={id:"qp-sidebar-avatar"},Y={id:"qp-sidebar-name"},B=["textContent"],G={key:0,id:"qp-sidebar-title"},J=["textContent"];var K={__name:"qpSidebarProfile",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat)),a=(0,r.Fl)((()=>t.getters.player)),u=(0,n.iH)("Qui ne fait que passer");return(e,t)=>{const s=(0,r.up)("el-image"),d=(0,r.up)("el-icon"),p=(0,r.up)("el-avatar");return(0,r.wg)(),(0,r.iD)("div",L,[(0,r._)("div",P,[(0,r.Wm)(s,{src:(0,n.SU)(a)?.banner,fit:"cover"},{error:(0,r.w5)((()=>[Z])),_:1},8,["src"])]),(0,r._)("div",I,[(0,r.Wm)(p,{src:(0,n.SU)(a)?.avatar},{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(i.n5m))])),_:1})])),_:1},8,["src"])]),(0,r._)("div",Y,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(a)?.playername)},null,8,B)])]),(0,n.SU)(l)?((0,r.wg)(),(0,r.iD)("div",G,[(0,r._)("p",null,[(0,r._)("span",{textContent:(0,o.zw)(u.value)},null,8,J)])])):(0,r.kq)("",!0)])}}};const Q=(0,k.Z)(K,[["__scopeId","data-v-2e508a8a"]]);var X=Q;const ee=e=>((0,r.dD)("data-v-bef58284"),e=e(),(0,r.Cn)(),e),te={id:"qp-sidebar-nav"},le=ee((()=>(0,r._)("i",{class:"mdi mdi-home"},null,-1))),ae=["textContent"],re=ee((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),oe=["textContent"],ne=ee((()=>(0,r._)("i",{class:"mdi mdi-scale-balance"},null,-1))),se=["textContent"],ie=ee((()=>(0,r._)("i",{class:"mdi mdi-script-text"},null,-1))),ue=["textContent"],de=ee((()=>(0,r._)("i",{class:"mdi mdi-forum-outline"},null,-1))),pe=["textContent"],ce=ee((()=>(0,r._)("i",{class:"mdi mdi-account-group"},null,-1))),me=["textContent"],we=ee((()=>(0,r._)("i",{class:"mdi mdi-hops"},null,-1))),fe=["textContent"];var ve={__name:"qpSidebarNav",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app)),a=(0,r.Fl)((()=>t.getters.player));return(e,t)=>{const s=(0,r.up)("el-menu-item"),i=(0,r.up)("el-sub-menu"),u=(0,r.up)("el-menu");return(0,r.wg)(),(0,r.iD)("div",te,[(0,r.Wm)(u,{router:"","default-active":e.$route&&e.$route.params&&"slug"in e.$route.params?e.$route.params.slug:e.$route.name,collapse:(0,n.SU)(l).win.w<1200||(0,n.SU)(l).sidebar?.collapse},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{index:"Home",route:{name:"Home"}},{default:(0,r.w5)((()=>[le,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Home"))},null,8,ae)])),_:1}),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,n.SU)(a)?.worldnavs,((t,l)=>((0,r.wg)(),(0,r.iD)(r.HY,null,[e.$route.params.slug&&e.$route.params.slug==t.slug?((0,r.wg)(),(0,r.j4)(i,{key:`world-nav-group-${l}`,index:t.slug},{title:(0,r.w5)((()=>[re,(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,oe)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:"",index:`${t.slug}-rules`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ne,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Rules"))},null,8,se)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-context`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ie,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Context"))},null,8,ue)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[de,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Forum"))},null,8,pe)])),_:2},1032,["index","route"]),(0,r.Wm)(s,{disabled:"",index:`${t.slug}-community`,route:{name:"World",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[ce,(0,r._)("span",{textContent:(0,o.zw)(e.$t("Community"))},null,8,me)])),_:2},1032,["index","route"])])),_:2},1032,["index"])):((0,r.wg)(),(0,r.j4)(s,{key:`world-nav-${l}`,index:t.slug,route:{name:"WorldForum",params:{world_pk:t.id,slug:t.slug}}},{default:(0,r.w5)((()=>[we,(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,fe)])),_:2},1032,["index","route"]))],64)))),256))])),_:1},8,["default-active","collapse"])])}}};const ge=(0,k.Z)(ve,[["__scopeId","data-v-bef58284"]]);var _e=ge;const he={id:"qp-sibebar-inner"},ye={id:"qp-sibebar-main"},be={id:"qp-sidebar-footer"},xe=["innerHTML"];var Ce={__name:"qpSidebar",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.app));return(e,t)=>{const a=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",{id:"qp-app-sidebar",class:(0,o.C_)((0,n.SU)(l).win.w<1200||(0,n.SU)(l).sidebar?.collapse?"qp-collapsed":"")},[(0,r.Wm)(a,{height:"100%"},{default:(0,r.w5)((()=>[(0,r._)("div",he,[(0,r._)("div",ye,[(0,r.Wm)(X),(0,r.Wm)(_e)]),(0,r._)("div",be,[(0,r._)("span",{innerHTML:e.$t("TextCopyrights")},null,8,xe)])])])),_:1})],2)}}};const $e=(0,k.Z)(Ce,[["__scopeId","data-v-73e61904"]]);var We=$e,qe=l(678);const ke={key:0,id:"qp-app-smallbar"},ze={key:0,id:"qp-smallbar-inner"},Se=["onClick"],Ae=["textContent"];var je={__name:"qpSmallbar",setup(e){const t=(0,qe.yj)(),l=(0,qe.tv)(),a=(0,s.oR)(),i=(0,r.Fl)((()=>a.getters.app)),u=(0,r.Fl)((()=>a.getters.rat)),d=(0,r.Fl)((()=>a.getters.heros)),p=(0,r.Fl)((()=>"slug"in t.params?d.value.filter((e=>e.world?.slug==t.params.slug)):d.value)),c=e=>{l.push({name:"MeCharactersHerosDetail",params:{pk:e}})};return(e,t)=>{const l=(0,r.up)("el-avatar"),a=(0,r.up)("el-tooltip"),s=(0,r.up)("el-scrollbar");return(0,n.SU)(i).win.w>767?((0,r.wg)(),(0,r.iD)("div",ke,[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[(0,n.SU)(u)?((0,r.wg)(),(0,r.iD)("div",ze,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)((0,n.SU)(p),((e,t)=>((0,r.wg)(),(0,r.iD)("div",{key:`hero-${t}`,class:"qp-smallbar-hero",onClick:t=>c(e.id)},[(0,r.Wm)(a,{content:e.name,placement:"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.initials)},null,8,Ae)])),_:2},1032,["src"])])),_:2},1032,["content"])],8,Se)))),128))])):(0,r.kq)("",!0)])),_:1})])):(0,r.kq)("",!0)}}};const Te=(0,k.Z)(je,[["__scopeId","data-v-463e5392"]]);var De=Te;const He={id:"qp-app"};var Ve={__name:"App",setup(e){const t=(0,s.oR)(),l=(0,r.Fl)((()=>t.getters.rat));return(e,t)=>{const a=(0,r.up)("router-view"),s=(0,r.up)("el-scrollbar");return(0,r.wg)(),(0,r.iD)("div",He,[e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(N,{key:0})),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(We,{key:1})),(0,r._)("div",{id:"qp-app-main",class:(0,o.C_)(`${(0,n.SU)(l)?"":" qp-nosmallbar"}${e.$route.name&&e.$route.name.startsWith("Auth")?" qp-fullview":""}`)},[(0,r.Wm)(s,{height:"100%"},{default:(0,r.w5)((()=>[((0,r.wg)(),(0,r.j4)(a,{key:e.$route.fullPath}))])),_:1})],2),e.$route.name&&e.$route.name.startsWith("Auth")?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(De,{key:2}))])}}};const Ue=Ve;var Oe=Ue,Ee=l(3590),Fe=JSON.parse('{"150x150pxSizeMinimum":"Taille minimale : 150x150","A player with that playername already exists.":"Un joueur avec ce nom existe déjà.","A user with that email already exists.":"Un joueur avec cette adresse courriel existe déjà.","A user with that username already exists.":"Un joueur avec ce nom existe déjà.","AddANewZone":"Ajouter une nouvelle zone","AllRightsReserved":"Tous droits réservés","AlreadyHaveAnAccount":"Déjà inscrit ?","AnErrorOccurred":"Une erreur est survenue","Areyousureyouwanttodeletethismessage":"Êtes-vous certain de vouloir supprimer définitivement ce message ? Cette action est irréversible.","Areyousureyouwanttodeletethiszone":"Êtes-vous certain de vouloir supprimer définitivement cette zone et tout son contenu ? Cette action est irréversible.","Areyousureyouwanttodeletethisterritory":"Êtes-vous certain de vouloir supprimer définitivement ce territoire et tout son contenu ? Cette action est irréversible.","Areyousureyouwanttodeletethissector":"Êtes-vous certain de vouloir supprimer définitivement ce secteur et tout son contenu ? Cette action est irréversible","DeleteSector":"Supprimer le secteur","AShortDescription":"Une description courte","BackToHome":"Retour à l\'accueil","Browse":"Parcourir","DeleteTerritory":"Supprimer le territoire","TerritoryDeletedSuccessfully":"Territoire supprimé avec succès !","TerritoryUpdatedSuccessfully":"Territoire mis à jour avec succès !","SectorAddedSuccessfully":"Secteur ajouté avec succès !","Cancel":"Annuler","Ce champ est obligatoire.":"Ce champ est obligatoire.","NoZones":"Aucune zone","NoTerritories":"Aucun territoire","NoSectors":"Aucun secteur","ChangeAvatar":"Modifier l\'avatar","Chapter":"Chapitre | Chapitre | Chapitres","Character":"Personnage | Personnage | Personnages","CharacterUpdatedSuccessfully":"Personnage mis à jour avec succès !","SectorDeletedSuccessfully":"Secteur supprimé avec succès !","ChooseACharacter":"Choisir un personnage","ChooseTravellers":"Choisir les voyageurs","Colour":"Couleur","Width":"Largeur","CardWidth":"Largeur de la carte","Closed":"Fermé","ColoursAndCustomStylesheet":"Couleurs et feuilles de style personnalisée","Community":"Communauté","Confirm":"Confirmer","Fullwide":"Pleine largeur","Context":"Contexte","SectorUpdatedSuccessfully":"Secteur mis à jour avec succès !","Continue":"Continuer","EditATerritory":"Modifier un territoire","TerritoryAddedSuccessfully":"Territoire ajouté avec succès !","EditASector":"Modifier un secteur","Ordering":"Ordre","NameOfTheTerritory":"Nom du territoire","CreateWorld":"Créer un monde","AddANewTerritory":"Ajouter un nouveau territoire","AddANewSector":"Ajouter un nouveau secteur","Delete":"Supprimer","DeleteChapter":"Supprimer le chapitre","DeleteMessage":"Supprimer le message","DeleteZone":"Supprimer la zone","Description":"Description","Descriptionofthenewchapter":"Courte description facultative","Discover":"Découvrir","DontHaveAnAccount":"Pas encore inscrit ?","Edit":"Modifier","EditAZone":"Modifier une zone","EditMessage":"Modifier le message","email":"Courriel","Email":"Courriel","Enter a valid email address.":"Saisissez une adresse courriel valide.","Error":"Erreur","errorcharacter":"Personnage","errorname":"Nom","errortext":"Texte","FileFormatMustBeJPG":"Le fichier doit être au format JPG","FileSizeCanNotExceed1MB":"La taille du fichier ne doit pas excéder 1MB","First Name":"Prénom","Forum":"Forum","Gender":"Genre","General":"Général","GeneralInformations":"Informations générales","Help":"Aide","Home":"Accueil","Index":"Index","Last Name":"Nom de famille","LockChapter":"Verrouiller le chapitre","Login":"Connexion","Logout":"Déconnexion","Message":"Message | Message | Messages","MessageDeletedSuccessfully":"Message supprimé avec succès !","Middle Name":"Autre(s) nom(s)","Name":"Nom","NameAvatarGenderAndMore":"Nom, avatar, genre et plus encore","NameDescriptionVisibilityAndMore":"Nom, description, visibilité et plus encore","NameOfTheWorld":"Nom du monde","NameOfTheZone":"Nom de la zone","Never":"Jamais","NewChapter":"Nouveau chapitre","NewChapterTitle":"Titre du nouveau chapitre","NoAvailableTravellers":"Aucun voyageur disponible","NoCharacterCreated":"Aucun personnage créé","non_field_errors":"Erreur","NoWorldCreated":"Aucun monde créé","Open":"Ouvert","password":"Mot de passe","Password":"Mot de passe","Player":"Joueur | Joueur | Joueurs","Playername":"Nom de joueur","playername":"Nom de joueur","Profile":"Profil","Quests":"Quêtes","Register":"Inscription","Reset":"Réinitialiser","Rules":"Règlements","Saisissez une adresse e-mail valide.":"Saisissez une adresse courriel valide.","Sector":"Secteur | Secteur | Secteurs","SeeAllQuests":"Voir toutes les quêtes","Send":"Envoyer","Settings":"Paramètres","ShowProfile":"Voir le profil","SignedInAs":"Connecté en tant que","Slug":"Slug","Style":"Style","Stylesheets":"Feuilles de style","Success":"Succès","Text":"Texte","TextCopyrights":"&copy;&nbsp;2022 M-C Pronovost","That password is too short.":"Ce mot de passe est trop court.","ThisChapterDoesntExistAnymore":"Ce chapitre n\'existe pas ou plus","Thisfieldisrequired":"Ce champ est requis.","ThisForumDoesntExistAnymore":"Ce forum n\'existe pas ou plus","ThisPageDoesntExistAnymore":"Cette page n\'existe pas ou plus","ThisSectorDoesntExistAnymore":"Ce secteur n\'existe pas ou plus","ThisTerritoryDoesntExistAnymore":"Ce territoire n\'existe pas ou plus","ThisWorldDoesntExistAnymore":"Ce monde n\'existe pas ou plus","ThisZoneDoesntExistAnymore":"Cette zone n\'existe pas ou plus","Title":"Titre","Titleofthenewchapter":"Titre du nouveau chapitre","ToReply":"Répondre","Travel":"Voyager","TravelCompleted":"Voyage complété","UnderDevelopment":"En développement","UnlockChapter":"Déverrouiller le chapitre","username":"Nom d\'utilisateur","Username":"Nom d\'utilisateur","Visibility":"Visibilité","WorldUpdatedSuccessfully":"Monde mis à jour avec succès !","Writing":"Rédaction","YouDoesntHaveAccessToThisChapter":"Vous n\'avez pas accès à ce chapitre","YouDoesntHaveAccessToThisForum":"Vous n\'avez pas accès à ce forum","YouDoesntHaveAccessToThisPage":"Vous n\'avez pas accès à cette page","YouDoesntHaveAccessToThisSector":"Vous n\'avez pas accès à ce secteur","YouDoesntHaveAccessToThisTerritory":"Vous n\'avez pas accès à ce territoire","YouDoesntHaveAccessToThisWorld":"Vous n\'avez pas accès à ce monde","YouDoesntHaveAccessToThisZone":"Vous n\'avez pas accès à cette zone","Youhavearrivedatyourdestination":"Vous êtes arrivé à destination","YourCharacters":"Vos personnages","YourEmailAddress":"Votre adresse de courriel","YourMessage":"Votre message","YourPersonalUsername":"Votre nom d\'utilisateur personnel","YourProfile":"Votre profil","YourPublicPlayername":"Votre nom de joueur public","YourReply":"Votre réponse","YourWorlds":"Vos mondes","ZoneAddedSuccessfully":"Zone ajoutée avec succès !","ZoneDeletedSuccessfully":"Zone supprimée avec succès !","ZonesTerritoriesSectorsAndSettings":"Zones, territoires, secteurs et paramètres","ZoneUpdatedSuccessfully":"Zone mise à jour avec succès !"}');const Me={short:{year:"numeric",month:"long",day:"2-digit"}},Ne={fr:Me},Re=(0,Ee.o)({locale:"fr",fallbackLocale:"fr",messages:{fr:Fe},dateTimeFormats:Ne,legacy:!1,globalInjection:!0,silentTranslationWarn:!0});var Le=Re,Pe=l(5361);const Ze=e=>({win:e.app.win,sidebar:e.app.sidebar}),Ie={state:()=>({win:{w:1880,h:980},sidebar:{collapse:!1}}),mutations:{SET_WINSIZES(e){e.win={w:window.innerWidth,h:window.innerHeight}},TOGGLE_SIDEBAR(e){e.sidebar.collapse=!e.sidebar.collapse}}},Ye=e=>{if(e.drat.s&&e.frat.e){let t=Pe.lW.from(e.drat.s,"base64").toString("utf8"),l=Pe.lW.from(e.frat.e,"base64").toString("utf8");return`Token ${t}${l}`}return null},Be={state:()=>({s:null}),mutations:{SET_DRAT(e,t){e.s=t?Pe.lW.from(t).toString("base64"):null}}},Ge={state:()=>({e:null}),mutations:{SET_FRAT(e,t){e.e=t?Pe.lW.from(t).toString("base64"):null}}},Je=e=>e.player.j?JSON.parse(Pe.lW.from(e.player.j,"base64").toString("utf8")):null,Ke=e=>e.player.h?JSON.parse(Pe.lW.from(e.player.h,"base64").toString("utf8")):[],Qe=e=>e.player.w?JSON.parse(Pe.lW.from(e.player.w,"base64").toString("utf8")):[],Xe={state:()=>({j:null,h:null,c:null,w:null}),mutations:{SET_PLAYER(e,t){if(t){let l=Pe.lW.from(e.j,"base64").toString("utf8");l=l?JSON.parse(l):{},l[t[0]]=t[1],e.j=Pe.lW.from(JSON.stringify(l)).toString("base64")}},BATCH_PLAYER(e,t){if(t){let l=e.j;l=l?JSON.parse(Pe.lW.from(l,"base64").toString("utf8")):{};let a=Object.entries(t);for(let e=0;e<a.length;e++)l[a[e][0]]=a[e][1];e.j=Pe.lW.from(JSON.stringify(l)).toString("base64")}else e.j=null},BATCH_HEROS(e,t){e.h=t?Pe.lW.from(JSON.stringify(t)).toString("base64"):null},BATCH_WORLDS(e,t){e.w=t?Pe.lW.from(JSON.stringify(t)).toString("base64"):null}},actions:{async getPlayer({commit:e,dispatch:t,getters:l}){if(l.rat){let a=await fetch(`${_d}/me/`,{method:"GET",headers:{Authorization:l.rat}});if(200===a.status){let l=await a.json();e("BATCH_PLAYER",l),t("getHeros")}else 401===a.status&&t("doLogout")}},async getHeros({commit:e,dispatch:t,getters:l}){if(l.rat){let a=await fetch(`${_d}/me/heros/`,{method:"GET",headers:{Authorization:l.rat}});if(200===a.status){let t=await a.json();e("BATCH_HEROS",t)}else 401===a.status&&t("doLogout")}},async doRegister({dispatch:e},{username:t,playername:l,email:a,password:r}){let o=new FormData;t&&o.append("username",t),l&&o.append("playername",l),a&&o.append("email",a),r&&o.append("password",r);let n=await fetch(`${_d}/register/`,{method:"POST",body:o}),s=await n.json();return 200===n.status?e("doLogin",{username:t,password:r}):{valid:!1,data:s}},async doLogin({commit:e},{username:t,password:l}){let a=new FormData;a.append("username",t),a.append("password",l);let r=await fetch(`${_d}/login/`,{method:"POST",body:a}),o=await r.json();if(200===r.status){let t=o.token,l=Math.ceil(t.length/2);return e("SET_DRAT",t.slice(0,l)),e("SET_FRAT",t.slice(l)),{valid:!0}}return{valid:!1,data:o}},async doLogout({commit:e,getters:t}){let l=await fetch(`${_d}/logout/`,{method:"POST",headers:{Authorization:t.rat}});return e("BATCH_PLAYER",null),e("BATCH_HEROS",null),e("BATCH_WORLDS",null),e("SET_DRAT",null),e("SET_FRAT",null),l}}};var et=l(5103),tt=l(680);const lt=new et.ZP({key:"qpcynorrs",storage:window.localStorage,reducer:e=>({drat:e.drat,app:e.app})}),at=new et.ZP({key:"qpcynorrs",storage:window.sessionStorage,reducer:e=>({player:e.player})}),rt=new et.ZP({key:"qpcynorrs",restoreState:e=>{if(tt.Z.get(e))return JSON.parse(Pe.lW.from(tt.Z.get(e),"base64").toString("utf8"))},saveState:(e,t)=>{t&&tt.Z.set(e,Pe.lW.from(JSON.stringify(t)).toString("base64"),{expires:30})},modules:["frat"]}),ot=e=>{e.commit("SET_WINSIZES"),window.addEventListener("resize",(()=>{e.commit("SET_WINSIZES")}))},nt=(0,s.MT)({getters:{app:Ze,rat:Ye,player:Je,heros:Ke,worlds:Qe},modules:{app:Ie,drat:Be,frat:Ge,player:Xe},plugins:[lt.plugin,at.plugin,rt.plugin,ot]});var st=nt;const it={class:"qp-vue"};function ut(e,t){return(0,r.wg)(),(0,r.iD)("div",it," aaa ")}const dt={},pt=(0,k.Z)(dt,[["render",ut]]);var ct=pt;const mt={key:0,class:"qp-card-header"},wt={class:"qp-card-header-title"};var ft={__name:"qpCard",props:{clickable:{type:Boolean,default:!1},overflow:{type:Boolean,default:!1},bgcolor:{type:String,default:"base"},h:{type:String,default:""},pa:{type:String,default:"20px"},mb:{type:String,default:""}},setup(e){const t=e,l=(0,r.Fl)((()=>t.clickable?"qp-card-clickable":"")),a=(0,r.Fl)((()=>t.overflow?"qp-card-overflow":"")),s=(0,r.Fl)((()=>"base"!=t.bgcolor?`qp-card-bg-${t.bgcolor}`:"")),i=(0,r.Fl)((()=>t.h?`height:${t.h};`:"")),u=(0,r.Fl)((()=>t.pa?`padding:${t.pa};`:"")),d=(0,r.Fl)((()=>t.mb?`margin-bottom:${t.mb};`:""));return(e,t)=>((0,r.wg)(),(0,r.iD)("div",{class:(0,o.C_)(`qp-card ${(0,n.SU)(l)} ${(0,n.SU)(a)} ${(0,n.SU)(s)}`),style:(0,o.j5)(`${(0,n.SU)(i)}${(0,n.SU)(d)}`)},[e.$slots.header?((0,r.wg)(),(0,r.iD)("div",mt,[(0,r._)("div",wt,[(0,r.WI)(e.$slots,"header")])])):(0,r.kq)("",!0),(0,r._)("div",{class:"qp-card-main",style:(0,o.j5)(`${(0,n.SU)(u)}`)},[(0,r.WI)(e.$slots,"default")],4)],6))}};const vt=(0,k.Z)(ft,[["__scopeId","data-v-5cd20510"]]);var gt=vt;const _t={class:"qp-vue"},ht={class:"qp-container"},yt=(0,r._)("a",{href:"https://www.flaticon.com/free-icons/killer-whale",target:"_blank",title:"killer whale icons"},"Killer whale icons created by edt.im - Flaticon",-1);var bt={__name:"ErrorView",setup(e){return(e,t)=>{const l=(0,r.up)("el-result"),a=(0,r.up)("el-col"),o=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",_t,[(0,r._)("div",ht,[(0,r.Wm)(o,{gutter:20},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{icon:"error",title:e.$t("Error"),"sub-title":"..."},null,8,["title","sub-title"])])),_:1})])),_:1}),(0,r.Wm)(a,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[yt])),_:1})])),_:1})])),_:1})])])}}};const xt=bt;var Ct=xt;const $t=e=>((0,r.dD)("data-v-6097077c"),e=e(),(0,r.Cn)(),e),Wt={class:"qp-vue"},qt={key:0},kt={id:"qp-auth"},zt=$t((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),St={id:"qp-auth-title"},At=["textContent"],jt=["innerHTML"],Tt=["textContent"],Dt=["textContent"],Ht=["textContent"],Vt=$t((()=>(0,r._)("div",{id:"qp-auth-banner"},null,-1))),Ut={id:"qp-auth-title"},Ot=["textContent"],Et=["innerHTML"],Ft=["textContent"],Mt=["textContent"],Nt=["textContent"],Rt={"element-loading-background":"transparent",style:{width:"200px",height:"200px"}},Lt=["textContent"],Pt={key:1},Zt={class:"qp-container"},It={"element-loading-background":"transparent",style:{height:"60vh"}},Yt={key:2},Bt={id:"qp-auth"},Gt=["textContent"];var Jt={__name:"AuthView",setup(e){const{t:t}=Le.global,l=(0,qe.yj)(),u=(0,qe.tv)(),d=(0,s.oR)(),p=(0,r.Fl)((()=>d.getters.app)),c=(0,r.Fl)((()=>d.getters.rat)),m=(0,n.iH)(!0),w=(0,n.iH)(!1),f=(0,n.iH)(null),v=(0,n.iH)(null),g=(0,n.iH)(null);(0,r.bv)((()=>{c.value||"AuthRegister"!=l.name?c.value||"AuthLogin"!=l.name?"AuthLogout"==l.name?(g.value="logout",S()):f.value=t("AnErrorOccurred"):h():_(),m.value=!1}));const _=()=>{g.value="register",history.pushState(history.state,null,"/register")},h=()=>{g.value="login",history.pushState(history.state,null,"/login")},y=()=>{u.push({name:"Home"})},b=(0,n.iH)(),x=(0,n.qj)({username:"",playername:"",email:"",password:""}),C=async()=>{v.value=null,w.value=!0,await b.value.validate(((e,l)=>{if(e)$();else{for(let[e,a]of Object.entries(l)){let l=t(`${e}`);for(let e of a)v.value=`${l} : ${e.message}`}w.value=!1}}))},$=async()=>{v.value=null,w.value=!0;const e=await d.dispatch("doRegister",x);if(e.valid)u.push({name:"Home"});else{for(let[l,a]of Object.entries(e.data)){let e=t(`${l}`),r=t(`${a}`);v.value=`${e} : ${r}`}w.value=!1}},W=(0,n.iH)(),q=(0,n.qj)({username:"",password:""}),k=async()=>{v.value=null,w.value=!0,await W.value.validate(((e,l)=>{if(e)z();else{for(let[e,a]of Object.entries(l)){let l=t(`${e}`);for(let e of a)v.value=`${l} : ${e.message}`}w.value=!1}}))},z=async()=>{v.value=null,w.value=!0;const e=await d.dispatch("doLogin",q);if(e.valid)u.push({name:"Home"});else{for(let[l,a]of Object.entries(e.data)){let e=t(`${l}`),r=t(`${a}`);v.value=`${e} : ${r}`}w.value=!1}},S=async()=>{await d.dispatch("doLogout"),u.push({name:"Home"})};return(e,t)=>{const l=(0,r.up)("el-input"),s=(0,r.up)("el-form-item"),u=(0,r.up)("el-form"),d=(0,r.up)("el-col"),$=(0,r.up)("el-alert"),z=(0,r.up)("el-button"),S=(0,r.up)("el-link"),A=(0,r.up)("el-row"),j=(0,r.up)("el-scrollbar"),T=(0,r.up)("el-result"),D=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Wt,[m.value||f.value||!g.value?m.value?((0,r.wg)(),(0,r.iD)("div",Pt,[(0,r._)("div",Zt,[(0,r.wy)((0,r._)("div",It,null,512),[[D,m.value]])])])):((0,r.wg)(),(0,r.iD)("div",Yt,[(0,r._)("div",Bt,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{icon:"error",title:e.$t("Error"),"sub-title":f.value,style:{"padding-bottom":"24px"}},null,8,["title","sub-title"]),(0,r.Wm)(z,{onClick:t[14]||(t[14]=e=>y()),style:{"margin-bottom":"40px"}},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("BackToHome"))},null,8,Gt)])),_:1})])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",qt,[(0,r._)("div",kt,[(0,n.SU)(c)||"register"!=g.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(gt,{key:0,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{"max-height":"90vh"},{default:(0,r.w5)((()=>[zt,(0,r._)("div",St,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Register"))},null,8,At)])]),(0,r.Wm)(A,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{ref_key:"formRegisterRef",ref:b,model:x,"label-position":(0,n.SU)(p).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.username,"onUpdate:modelValue":t[0]||(t[0]=e=>x.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,n.SU)(i.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Playername"),prop:"playername",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.playername,"onUpdate:modelValue":t[1]||(t[1]=e=>x.playername=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPublicPlayername"),"prefix-icon":(0,n.SU)(i.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Email"),prop:"email",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.email,"onUpdate:modelValue":t[2]||(t[2]=e=>x.email=e),type:"email",maxlength:"250",placeholder:e.$t("YourEmailAddress"),"prefix-icon":(0,n.SU)(i.v0C)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:x.password,"onUpdate:modelValue":t[3]||(t[3]=e=>x.password=e),type:"password",maxlength:"250","prefix-icon":(0,n.SU)(i.HEZ),onKeyup:t[4]||(t[4]=(0,a.D2)((e=>C()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),v.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)($,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:v.value},null,8,jt)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:w.value,onClick:t[5]||(t[5]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Tt)])),_:1},8,["disabled"]),(0,r.Wm)(z,{type:"primary",loading:w.value,onClick:t[6]||(t[6]=e=>C())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Dt)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:w.value,onClick:t[7]||(t[7]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AlreadyHaveAnAccount"))},null,8,Ht)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),(0,n.SU)(c)||"login"!=g.value?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(gt,{key:1,h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{"max-height":"90vh"},{default:(0,r.w5)((()=>[Vt,(0,r._)("div",Ut,[(0,r._)("h2",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Login"))},null,8,Ot)])]),(0,r.Wm)(A,null,{default:(0,r.w5)((()=>[(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{ref_key:"formLoginRef",ref:W,model:q,"label-position":(0,n.SU)(p).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Username"),prop:"username",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:q.username,"onUpdate:modelValue":t[8]||(t[8]=e=>q.username=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername"),"prefix-icon":(0,n.SU)(i.n5m)},null,8,["modelValue","placeholder","prefix-icon"])])),_:1},8,["label","rules"]),(0,r.Wm)(s,{label:e.$t("Password"),prop:"password",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:q.password,"onUpdate:modelValue":t[9]||(t[9]=e=>q.password=e),type:"password",maxlength:"250","prefix-icon":(0,n.SU)(i.HEZ),onKeyup:t[10]||(t[10]=(0,a.D2)((e=>k()),["enter"]))},null,8,["modelValue","prefix-icon"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),v.value?((0,r.wg)(),(0,r.j4)(d,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)($,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:v.value},null,8,Et)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{disabled:w.value,onClick:t[11]||(t[11]=e=>y())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Ft)])),_:1},8,["disabled"]),(0,r.Wm)(z,{type:"primary",loading:w.value,onClick:t[12]||(t[12]=e=>k())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Mt)])),_:1},8,["loading"])])),_:1}),(0,r.Wm)(d,null,{default:(0,r.w5)((()=>[(0,r.Wm)(S,{disabled:w.value,onClick:t[13]||(t[13]=e=>_())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("DontHaveAnAccount"))},null,8,Nt)])),_:1},8,["disabled"])])),_:1})])),_:1})])),_:1})])),_:1})),"logout"==g.value?((0,r.wg)(),(0,r.j4)(gt,{key:2,h:"auto"},{default:(0,r.w5)((()=>[(0,r.wy)((0,r._)("div",Rt,null,512),[[D,!0]]),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Logout"))},null,8,Lt)])])),_:1})):(0,r.kq)("",!0)])]))])}}};const Kt=(0,k.Z)(Jt,[["__scopeId","data-v-6097077c"]]);var Qt=Kt;const Xt=[{path:"/register",name:"AuthRegister",component:Qt},{path:"/login",name:"AuthLogin",component:Qt},{path:"/logout",name:"AuthLogout",component:Qt}],el=e=>((0,r.dD)("data-v-ce8fe982"),e=e(),(0,r.Cn)(),e),tl={class:"qp-vue"},ll={key:0},al={class:"qp-container"},rl=["textContent"],ol={class:"qp-profile-header"},nl={class:"qp-profile-header-banner"},sl=el((()=>(0,r._)("div",{class:"image-slot"},null,-1))),il={class:"qp-profile-header-avatar"},ul=["textContent"],dl={class:"qp-profile-identity"},pl={class:"qp-profile-identity-name"},cl=["textContent"],ml={class:"qp-profile-identity-title"},wl=["textContent"],fl={key:1},vl={class:"qp-container"},gl={"element-loading-background":"transparent",style:{height:"60vh"}},_l={key:2},hl={class:"qp-container"};var yl={__name:"MeProfileView",setup(e){const{t:t}=Le.global,l=(0,qe.tv)(),a=(0,s.oR)(),i=(0,r.Fl)((()=>a.getters.rat)),u=(0,n.iH)(!0),d=(0,n.iH)(null);(0,r.bv)((()=>{i.value?c():l.push({name:"AuthLogin"})}));const p=(0,n.qj)({avatar:null,banner:null,initials:""}),c=async()=>{u.value=!0,d.value=null;try{let e=await fetch(`${_d}/me/`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;p.avatar=t.avatar,p.banner=t.banner,p.playername=t.playername,p.title="Qui ne fait que passer"}catch(e){403===e.status?d.value=t("YouDoesntHaveAccessToThisPage"):d.value=t("AnErrorOccurred")}u.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-row"),s=(0,r.up)("el-image"),c=(0,r.up)("el-avatar"),m=(0,r.up)("el-result"),w=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",tl,[u.value||d.value||!(0,n.SU)(i)?u.value?((0,r.wg)(),(0,r.iD)("div",fl,[(0,r._)("div",vl,[(0,r.wy)((0,r._)("div",gl,null,512),[[w,u.value]])])])):((0,r.wg)(),(0,r.iD)("div",_l,[(0,r._)("div",hl,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{icon:"error",title:e.$t("Error"),"sub-title":d.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",ll,[(0,r._)("div",al,[(0,r._)("header",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourProfile"))},null,8,rl)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",ol,[(0,r._)("div",nl,[p.banner?((0,r.wg)(),(0,r.j4)(s,{key:0,src:p.banner,fit:"cover"},{error:(0,r.w5)((()=>[sl])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",il,[(0,r.Wm)(c,{src:p.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(p.initials)},null,8,ul)])),_:1},8,["src"])])]),(0,r._)("div",dl,[(0,r._)("h2",pl,[(0,r._)("span",{textContent:(0,o.zw)(p.playername)},null,8,cl)]),(0,r._)("p",ml,[(0,r._)("span",{textContent:(0,o.zw)(p.title)},null,8,wl)])])])),_:1})])),_:1})])),_:1})])])]))])}}};const bl=(0,k.Z)(yl,[["__scopeId","data-v-ce8fe982"]]);var xl=bl;const Cl=e=>((0,r.dD)("data-v-e32a9e00"),e=e(),(0,r.Cn)(),e),$l={class:"qp-vue"},Wl={key:0},ql={class:"qp-container"},kl=["textContent"],zl={class:"qp-profile-header"},Sl={class:"qp-profile-header-banner"},Al=Cl((()=>(0,r._)("div",{class:"image-slot"},null,-1))),jl={class:"qp-profile-header-avatar"},Tl=["textContent"],Dl={class:"qp-profile-identity"},Hl={class:"qp-profile-identity-name"},Vl=["textContent"],Ul={class:"qp-profile-identity-worldname"},Ol=["textContent"],El={key:1},Fl={class:"qp-container"},Ml={"element-loading-background":"transparent",style:{height:"60vh"}},Nl={key:2},Rl={class:"qp-container"};var Ll={__name:"MeCharactersView",setup(e){const{t:t}=Le.global,l=(0,qe.tv)(),a=(0,s.oR)(),i=(0,r.Fl)((()=>a.getters.rat)),u=(0,n.iH)(!0),d=(0,n.iH)(null),p=(0,n.iH)([]),c=(0,n.iH)(0),m=(0,n.iH)(0),w=(0,n.iH)(1);(0,r.bv)((()=>{i.value?f():l.push({name:"AuthLogin"})}));const f=async()=>{u.value=!0,d.value=null,p.value=[];try{let e=await fetch(`${_d}/me/characters/heros/?page=${w.value}`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t.count,p.value=t.results,m.value=t.size}catch(e){403===e.status?d.value=t("YouDoesntHaveAccessToThisPage"):d.value=t("AnErrorOccurred")}u.value=!1},v=e=>{w.value=e,f()},g=(e,t)=>{"hero"==t&&l.push({name:"MeCharactersHerosDetail",params:{pk:e}})};return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-row"),s=(0,r.up)("el-image"),f=(0,r.up)("el-avatar"),_=(0,r.up)("el-pagination"),h=(0,r.up)("el-icon"),y=(0,r.up)("el-empty"),b=(0,r.up)("el-result"),x=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",$l,[u.value||d.value||!(0,n.SU)(i)?u.value?((0,r.wg)(),(0,r.iD)("div",El,[(0,r._)("div",Fl,[(0,r.wy)((0,r._)("div",Ml,null,512),[[x,u.value]])])])):((0,r.wg)(),(0,r.iD)("div",Nl,[(0,r._)("div",Rl,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{icon:"error",title:e.$t("Error"),"sub-title":d.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",Wl,[(0,r._)("div",ql,[(0,r._)("header",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourCharacters"))},null,8,kl)])])),_:1})])),_:1})]),(0,r._)("section",null,[p.value.length?((0,r.wg)(),(0,r.j4)(a,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(p.value,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:`world-${t}`,span:24,sm:12,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",overflow:"",pa:"0",onClick:t=>g(e.id,"hero")},{default:(0,r.w5)((()=>[(0,r._)("div",zl,[(0,r._)("div",Sl,[e.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:e.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Al])),_:2},1032,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",jl,[(0,r.Wm)(f,{src:e.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.initials)},null,8,Tl)])),_:2},1032,["src"])])]),(0,r._)("div",Dl,[(0,r._)("h2",Hl,[(0,r._)("span",{textContent:(0,o.zw)(e.name)},null,8,Vl)]),(0,r._)("p",Ul,[(0,r._)("span",{textContent:(0,o.zw)(e.world?.name)},null,8,Ol)])])])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[p.value.length?((0,r.wg)(),(0,r.j4)(_,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:c.value,"page-size":m.value,"current-page":w.value,"onUpdate:currentPage":v},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(a,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{description:e.$t("NoCharacterCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(h,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])])]))])}}};const Pl=(0,k.Z)(Ll,[["__scopeId","data-v-e32a9e00"]]);var Zl=Pl,Il=l(2807);const Yl={class:"qp-menav"},Bl=["onClick"],Gl={class:"qp-menav-icon"},Jl={class:"qp-menav-text"},Kl=["textContent"],Ql=["textContent"],Xl=["onClick"],ea=["textContent"],ta=["onClick"],la=["textContent"];var aa={__name:"qpMeNav",props:{navs:{type:Array,default:()=>[]},tab:{type:String,default:""}},setup(e){const t=e,l=(0,n.iH)("");return(0,r.bv)((()=>{l.value=t.tab})),(a,n)=>{const s=(0,r.up)("el-icon"),i=(0,r.up)("el-collapse-item"),u=(0,r.up)("el-collapse");return(0,r.wg)(),(0,r.iD)("nav",Yl,[(0,r.Wm)(u,{modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),accordion:""},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.navs,((t,l)=>((0,r.wg)(),(0,r.j4)(i,{key:`nav-${l}`,name:t.tab},{title:(0,r.w5)((()=>[(0,r._)("div",{onClick:e=>a.$emit("goto",t.tab)},[(0,r._)("div",Gl,[(0,r.Wm)(s,{class:(0,o.C_)(t.icon)},null,8,["class"])]),(0,r._)("div",Jl,[(0,r._)("span",{class:"qp-menav-title",textContent:(0,o.zw)(t.title)},null,8,Kl),(0,r._)("span",{class:"qp-menav-caption",textContent:(0,o.zw)(t.caption)},null,8,Ql)])],8,Bl)])),default:(0,r.w5)((()=>[(0,r._)("ul",null,[(0,r._)("li",{onClick:e=>a.$emit("goto",t.tab),class:(0,o.C_)(t.tab==e.tab?"qp-active":"")},[(0,r._)("span",{textContent:(0,o.zw)(a.$t("General"))},null,8,ea)],10,Xl),((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.subs,((t,n)=>((0,r.wg)(),(0,r.iD)("li",{key:`nav-${l}-sub-${n}`,class:(0,o.C_)(t.tab==e.tab?"qp-active":""),onClick:e=>a.$emit("goto",t.tab)},[(0,r._)("span",{textContent:(0,o.zw)(t.title)},null,8,la)],10,ta)))),128))])])),_:2},1032,["name"])))),128))])),_:1},8,["modelValue"])])}}};const ra=aa;var oa=ra;const na=e=>((0,r.dD)("data-v-5d090713"),e=e(),(0,r.Cn)(),e),sa={class:"qp-vue"},ia={key:0},ua={class:"qp-container"},da=["textContent"],pa=["textContent"],ca={class:"qp-profile-header"},ma={class:"qp-profile-header-banner"},wa=na((()=>(0,r._)("div",{class:"image-slot"},null,-1))),fa={class:"qp-profile-header-avatar"},va=["textContent"],ga={class:"qp-meprofile-general-upload-icon"},_a={class:"qp-meprofile-general-upload-text"},ha=["textContent"],ya={class:"qp-meprofile-general-upload-info"},ba=["textContent"],xa=["textContent"],Ca=["textContent"],$a=["textContent"],Wa={key:1},qa={class:"qp-container"},ka={"element-loading-background":"transparent",style:{height:"60vh"}},za={key:2},Sa={class:"qp-container"};var Aa={__name:"MeCharactersHerosDetailView",setup(e){const{t:t}=Le.global,l=(0,qe.yj)(),a=(0,qe.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat)),c=(0,n.iH)(!0),m=(0,n.iH)(null),w=(0,n.iH)([{tab:"general",title:t("GeneralInformations"),caption:t("NameAvatarGenderAndMore"),icon:"mdi mdi-account-outline"}]),f=(0,n.iH)("general"),v=e=>{f.value=e};(0,r.bv)((()=>{p.value?_():a.push({name:"AuthLogin"})}));const g=(0,n.iH)(),_=async()=>{c.value=!0,m.value=null;try{let e=await fetch(`${_d}/me/characters/${l.params.pk}/`,{method:"GET",headers:{Authorization:p.value}}),t=await e.json();if(200!==e.status)throw e;g.value=t,$(t)}catch(e){403===e.status?m.value=t("YouDoesntHaveAccessToThisPage"):m.value=t("AnErrorOccurred")}c.value=!1},h=(0,n.iH)(null),y=(0,n.iH)(!1),b=(0,n.iH)(),x=(0,n.qj)({first_name:"",middle_name:"",last_name:"",gender:""}),C=(0,n.qj)({}),$=e=>{x.first_name=e.first_name,x.middle_name=e.middle_name,x.last_name=e.last_name,x.gender=e.gender,x.avatar=e.avatar,x.avatar_file=null},W=()=>{$(g.value)},q=async()=>{h.value=null,y.value=!0,await b.value.validate(((e,l)=>{if(e)k();else{for(let[e,a]of Object.entries(l)){let l=t(`error${e}`);for(let e of a)h.value=`${l} : ${e.message}`}y.value=!1}}))},k=async()=>{h.value=null,y.value=!0;try{let e=new FormData;e.append("first_name",x.first_name),e.append("middle_name",x.middle_name),e.append("last_name",x.last_name),e.append("gender",x.gender),x.avatar_file&&e.append("avatar",x.avatar_file);let a=await fetch(`${_d}/me/characters/${l.params.pk}/`,{method:"PATCH",headers:{Authorization:p.value},body:e}),r=await a.json();if(200===a.status)Il.z8.success(t("CharacterUpdatedSuccessfully")),g.value=r,$(r);else for(let[l,o]of Object.entries(r)){let e=t(`error${l}`);for(let t of o)h.value=`${e} : ${t}`}}catch{h.value=t("AnErrorOccurred")}y.value=!1},z=(0,n.iH)(),S=e=>{z.value.clearFiles(),z.value.handleStart(e[0])},A=e=>"image/jpeg"!==e.raw.type?(Il.z8.error(t("FileFormatMustBeJPG")),!1):e.raw.size/1024/1024>1?(Il.z8.error(t("FileSizeCanNotExceed1MB")),!1):(x.avatar=URL.createObjectURL(e.raw),void(x.avatar_file=e.raw));return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-button"),s=(0,r.up)("el-row"),u=(0,r.up)("el-image"),_=(0,r.up)("el-avatar"),h=(0,r.up)("el-icon"),$=(0,r.up)("el-upload"),k=(0,r.up)("el-input"),j=(0,r.up)("el-form-item"),T=(0,r.up)("el-option"),D=(0,r.up)("el-select"),H=(0,r.up)("el-form"),V=(0,r.up)("el-result"),U=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",sa,[!c.value&&!m.value&&(0,n.SU)(p)&&g.value?((0,r.wg)(),(0,r.iD)("div",ia,[(0,r._)("div",ua,[(0,r._)("header",null,[(0,r.Wm)(s,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(g.value.name)},null,8,da)])])),_:1}),(0,r.Wm)(l,{span:24,sm:12,align:(0,n.SU)(d).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{disabled:"",type:"primary"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("ShowProfile"))},null,8,pa)])),_:1})])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(oa,{navs:w.value,tab:f.value,onGoto:v},null,8,["navs","tab"])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24,md:18,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{pa:"0"},{default:(0,r.w5)((()=>[(0,r._)("div",ca,[(0,r._)("div",ma,[x.avatar?((0,r.wg)(),(0,r.j4)(u,{key:0,src:x.avatar,fit:"cover"},{error:(0,r.w5)((()=>[wa])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",fa,[(0,r.Wm)(_,{src:x.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(g.value.initials)},null,8,va)])),_:1},8,["src"])])])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24,sm:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meprofile-general-upload"},{default:(0,r.w5)((()=>[(0,r.Wm)($,{ref_key:"formCharacterAvatarRef",ref:z,action:"#",accept:"image/*","auto-upload":!1,"show-file-list":!1,limit:1,"on-change":A,"on-exceed":S},{default:(0,r.w5)((()=>[(0,r._)("div",ga,[(0,r.Wm)(h,null,{default:(0,r.w5)((()=>[(0,r.Wm)((0,n.SU)(i.n5m))])),_:1})]),(0,r._)("div",_a,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("ChangeAvatar"))},null,8,ha)]),(0,r._)("div",ya,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("150x150pxSizeMinimum"))},null,8,ba)])])),_:1},512)])),_:1})])),_:1})])),_:1}),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-mecharacter-form-general"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("GeneralInformations"))},null,8,xa)])),default:(0,r.w5)((()=>[(0,r.Wm)(H,{ref_key:"formCharacterRef",ref:b,model:x,"label-position":(0,n.SU)(d).win.w<1200?"top":"right",rules:C,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(d).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{label:e.$t("First Name"),prop:"first_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{modelValue:x.first_name,"onUpdate:modelValue":t[0]||(t[0]=e=>x.first_name=e),placeholder:e.$t("First Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(j,{label:e.$t("Middle Name"),prop:"middle_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{modelValue:x.middle_name,"onUpdate:modelValue":t[1]||(t[1]=e=>x.middle_name=e),placeholder:e.$t("Middle Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(j,{label:e.$t("Last Name"),prop:"last_name"},{default:(0,r.w5)((()=>[(0,r.Wm)(k,{modelValue:x.last_name,"onUpdate:modelValue":t[2]||(t[2]=e=>x.last_name=e),placeholder:e.$t("Last Name"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(j,{label:e.$t("Gender"),prop:"gender"},{default:(0,r.w5)((()=>[(0,r.Wm)(D,{modelValue:x.gender,"onUpdate:modelValue":t[3]||(t[3]=e=>x.gender=e),placeholder:e.$t("Gender")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(g.value.gender_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(T,{key:`gender-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r.Wm)(s,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,{disabled:y.value,class:"ma-6",onClick:t[4]||(t[4]=e=>W())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Reset"))},null,8,Ca)])),_:1},8,["disabled"]),(0,r.Wm)(a,{loading:y.value,class:"ma-6",type:"primary",onClick:t[5]||(t[5]=e=>q())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,$a)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])])):c.value?((0,r.wg)(),(0,r.iD)("div",Wa,[(0,r._)("div",qa,[(0,r.wy)((0,r._)("div",ka,null,512),[[U,c.value]])])])):((0,r.wg)(),(0,r.iD)("div",za,[(0,r._)("div",Sa,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{icon:"error",title:e.$t("Error"),"sub-title":m.value},null,8,["title","sub-title"])])),_:1})])]))])}}};const ja=(0,k.Z)(Aa,[["__scopeId","data-v-5d090713"]]);var Ta=ja;l(6699);const Da=(e,t)=>{const l=[{value:1,symbol:""},{value:1e3,symbol:"k"},{value:1e6,symbol:"M"},{value:1e9,symbol:"G"},{value:1e12,symbol:"T"},{value:1e15,symbol:"P"},{value:1e18,symbol:"E"}],a=/\.0+$|(\.[0-9]*[1-9])0+$/;var r=l.slice().reverse().find((function(t){return e>=t.value}));return r?(e/r.value).toFixed(t).replace(a,"$1")+r.symbol:"0"},Ha={class:"qp-vue"},Va={key:0},Ua={key:0,class:"qp-container"},Oa=["textContent"],Ea=["textContent"],Fa={class:"qp-meworlds-overview"},Ma={class:"qp-meworlds-overview-tags"},Na=["textContent"],Ra=["textContent"],La=["textContent"],Pa=["textContent"],Za={class:"qp-meworlds-overview-title"},Ia=["textContent"],Ya=["textContent"],Ba={class:"qp-meworlds-infolist"},Ga=["textContent"],Ja=["textContent"],Ka=["textContent"],Qa=["textContent"],Xa=["textContent"],er=["textContent"],tr=["textContent"],lr=["textContent"],ar={key:1,class:"qp-container"},rr=["textContent"],or=["innerHTML"],nr=["textContent"],sr=["textContent"],ir={key:1},ur={class:"qp-container"},dr={"element-loading-background":"transparent",style:{height:"60vh"}},pr={key:2},cr={class:"qp-container"};var mr={__name:"MeWorldsView",setup(e){const{t:t}=Le.global,l=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.rat)),d=(0,r.Fl)((()=>i.getters.app)),p=(0,r.Fl)((()=>i.getters.player)),c=(0,n.iH)(!0),m=(0,n.iH)(!1),w=(0,n.iH)(null),f=(0,n.iH)(null),v=(0,n.iH)([]),g=(0,n.iH)(0),_=(0,n.iH)(1),h=(0,n.iH)(0);(0,r.bv)((()=>{u.value?y():l.push({name:"AuthLogin"})}));const y=async()=>{c.value=!0,w.value=null,v.value=[];try{let e=await fetch(`${_d}/me/worlds/?page=${_.value}`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;g.value=t.count,v.value=t.results,h.value=t.size}catch(e){403===e.status?w.value=t("YouDoesntHaveAccessToThisPage"):w.value=t("AnErrorOccurred")}c.value=!1},b=e=>{_.value=e,y()},x=e=>{l.push({name:"MeWorldsDetail",params:{pk:e}})},C=(0,n.iH)(!1),$=(0,n.iH)(),W=(0,n.qj)({name:"",description:""}),q=()=>{C.value=!0},k=()=>{C.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),s=(0,r.up)("el-button"),i=(0,r.up)("el-row"),y=(0,r.up)("el-tag"),z=(0,r.up)("el-pagination"),S=(0,r.up)("el-icon"),A=(0,r.up)("el-empty"),j=(0,r.up)("el-input"),T=(0,r.up)("el-form-item"),D=(0,r.up)("el-form"),H=(0,r.up)("el-alert"),V=(0,r.up)("el-result"),U=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Ha,[c.value||w.value||!(0,n.SU)(u)?c.value?((0,r.wg)(),(0,r.iD)("div",ir,[(0,r._)("div",ur,[(0,r.wy)((0,r._)("div",dr,null,512),[[U,c.value]])])])):((0,r.wg)(),(0,r.iD)("div",pr,[(0,r._)("div",cr,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(V,{icon:"error",title:e.$t("Error"),"sub-title":w.value},null,8,["title","sub-title"])])),_:1})])])):((0,r.wg)(),(0,r.iD)("div",Va,[C.value?C.value?((0,r.wg)(),(0,r.iD)("div",ar,[(0,r._)("header",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("CreateWorld"))},null,8,rr)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(D,{ref_key:"formCreateWorldRef",ref:$,model:W,"label-position":(0,n.SU)(d).win.w<1200?"top":"right","label-width":"120px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(T,{label:e.$t("Name"),prop:"name",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:W.name,"onUpdate:modelValue":t[1]||(t[1]=e=>W.name=e),type:"text",maxlength:"32","show-word-limit":"",placeholder:e.$t("YourPersonalUsername")},null,8,["modelValue","placeholder"])])),_:1},8,["label","rules"]),(0,r.Wm)(T,{label:e.$t("Description"),prop:"description",rules:[{required:!0,message:e.$t("Thisfieldisrequired"),trigger:"blur"}]},{default:(0,r.w5)((()=>[(0,r.Wm)(j,{modelValue:W.description,"onUpdate:modelValue":t[2]||(t[2]=e=>W.description=e),type:"text",maxlength:"250",onKeyup:t[3]||(t[3]=(0,a.D2)((e=>k()),["enter"]))},null,8,["modelValue"])])),_:1},8,["label","rules"])])),_:1},8,["model","label-position"])])),_:1}),f.value?((0,r.wg)(),(0,r.j4)(l,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(H,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:f.value},null,8,or)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:m.value,onClick:t[4]||(t[4]=e=>k())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,nr)])),_:1},8,["disabled"]),(0,r.Wm)(s,{type:"primary",loading:m.value},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,sr)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})])])):(0,r.kq)("",!0):((0,r.wg)(),(0,r.iD)("div",Ua,[(0,r._)("header",null,[(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,sm:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("YourWorlds"))},null,8,Oa)])])),_:1}),(0,r.Wm)(l,{span:24,sm:12,align:(0,n.SU)(d).win.w>=768?"right":"left"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{disabled:!(0,n.SU)(p)?.limits?.can_create_worlds,onClick:t[0]||(t[0]=e=>q())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("CreateWorld"))},null,8,Ea)])),_:1},8,["disabled"])])),_:1},8,["align"])])),_:1})]),(0,r._)("section",null,[v.value.length?((0,r.wg)(),(0,r.j4)(i,{key:0},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(v.value,((t,a)=>((0,r.wg)(),(0,r.j4)(l,{key:`world-${a}`},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",pa:"12px",onClick:e=>x(t.id)},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:12,align:"left"},{default:(0,r.w5)((()=>[(0,r._)("div",Fa,[(0,r._)("div",Ma,[t.is_active?(0,r.kq)("",!0):((0,r.wg)(),(0,r.j4)(y,{key:0,type:"danger",effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Closed"))},null,8,Na)])),_:1})),(0,n.SU)(p).id==t.creator?((0,r.wg)(),(0,r.j4)(y,{key:1,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Creator"))},null,8,Ra)])),_:1})):(0,r.kq)("",!0),t.administrators.includes((0,n.SU)(p).id)?((0,r.wg)(),(0,r.j4)(y,{key:2,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Administration"))},null,8,La)])),_:1})):(0,r.kq)("",!0),t.moderators.includes((0,n.SU)(p).id)?((0,r.wg)(),(0,r.j4)(y,{key:3,effect:"plain",size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Moderation"))},null,8,Pa)])),_:1})):(0,r.kq)("",!0)]),(0,r._)("h2",Za,[(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,Ia)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,textContent:(0,o.zw)(t.description)},null,8,Ya)):(0,r.kq)("",!0)])])),_:2},1024),(0,r.Wm)(l,{span:24,md:12,align:"right"},{default:(0,r.w5)((()=>[(0,r._)("ul",Ba,[(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Player",t.count_players))},null,8,Ga),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_players,1))},null,8,Ja)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Character",t.count_heros))},null,8,Ka),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_heros,1))},null,8,Qa)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Chapter",t.count_chapters))},null,8,Xa),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_chapters,1))},null,8,er)]),(0,r._)("li",null,[(0,r._)("span",{class:"qp-label",textContent:(0,o.zw)(e.$t("Message",t.count_messages))},null,8,tr),(0,r._)("span",{class:"qp-value",textContent:(0,o.zw)((0,n.SU)(Da)(t.count_messages,1))},null,8,lr)])])])),_:2},1024)])),_:2},1024)])),_:2},1032,["onClick"])])),_:2},1024)))),128)),(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(z,{background:"","hide-on-single-page":"",layout:"prev, pager, next",total:g.value,"page-size":h.value,"current-page":_.value,"onUpdate:currentPage":b},null,8,["total","page-size","current-page"])])),_:1})])),_:1})):((0,r.wg)(),(0,r.j4)(i,{key:1},{default:(0,r.w5)((()=>[(0,r.Wm)(l,null,{default:(0,r.w5)((()=>[(0,r.Wm)(A,{description:e.$t("NoWorldCreated")},{image:(0,r.w5)((()=>[(0,r.Wm)(S,{class:"mdi mdi-emoticon-sad-outline mdi-48px"})])),_:1},8,["description"])])),_:1})])),_:1}))])]))]))])}}};const wr=(0,k.Z)(mr,[["__scopeId","data-v-4f6d27fb"]]);var fr=wr;const vr=["textContent"],gr=["textContent"],_r=["textContent"];var hr={__name:"qpMeGeneral",props:{world:{type:Object,default:()=>{}}},emits:["init-world"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,qe.yj)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.app)),p=(0,r.Fl)((()=>u.getters.rat));(0,r.bv)((()=>{v(l.world)}));const c=(0,n.iH)(!1),m=(0,n.iH)(),w=(0,n.qj)({name:"",slug:"",description:"",visibility:0,is_active:!1}),f=(0,n.qj)({}),v=e=>{w.name=e.name,w.slug=e.slug,w.description=e.description,w.visibility=e.visibility,w.is_active=e.is_active},g=()=>{v(l.world)},_=async()=>{c.value=!0,await m.value.validate(((e,t)=>{if(e)h();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}c.value=!1}}))},h=async()=>{c.value=!0;try{let e=new FormData;e.append("name",w.name),e.append("description",w.description?w.description:""),e.append("visibility",w.visibility),e.append("is_active",w.is_active);let l=await fetch(`${_d}/me/worlds/${i.params.pk}/`,{method:"PATCH",headers:{Authorization:p.value},body:e}),r=await l.json();if(200===l.status)Il.z8.success(a("WorldUpdatedSuccessfully")),t("init-world",r);else for(let[t,o]of Object.entries(r)){let e=a(`error${t}`);for(let t of o)Il.z8.error(`${e} : ${t}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}c.value=!1};return(t,a)=>{const s=(0,r.up)("el-input"),i=(0,r.up)("el-form-item"),u=(0,r.up)("el-option"),p=(0,r.up)("el-select"),v=(0,r.up)("el-checkbox"),h=(0,r.up)("el-form"),y=(0,r.up)("el-button"),b=(0,r.up)("el-col"),x=(0,r.up)("el-row");return l.world?((0,r.wg)(),(0,r.j4)(x,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-general"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.$t("GeneralInformations"))},null,8,vr)])),default:(0,r.w5)((()=>[(0,r.Wm)(h,{ref_key:"formWorldRef",ref:m,model:w,"label-position":(0,n.SU)(d).win.w<1200?"top":"right",rules:f,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(d).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:t.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:w.name,"onUpdate:modelValue":a[0]||(a[0]=e=>w.name=e),placeholder:t.$t("NameOfTheWorld"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(i,{label:t.$t("Slug"),prop:"slug"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:w.slug,"onUpdate:modelValue":a[1]||(a[1]=e=>w.slug=e),placeholder:t.$t("Slug"),disabled:""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(i,{label:t.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:w.description,"onUpdate:modelValue":a[2]||(a[2]=e=>w.description=e),placeholder:t.$t("AShortDescription"),maxlength:250,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(i,{label:t.$t("Visibility"),prop:"visibility"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:w.visibility,"onUpdate:modelValue":a[3]||(a[3]=e=>w.visibility=e),placeholder:t.$t("Visibility")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.world.visibility_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(u,{key:`visibility-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(i,{label:t.$t("Open"),prop:"is_active"},{default:(0,r.w5)((()=>[(0,r.Wm)(v,{modelValue:w.is_active,"onUpdate:modelValue":a[4]||(a[4]=e=>w.is_active=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r.Wm)(x,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:c.value,class:"ma-6",onClick:a[5]||(a[5]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.$t("Reset"))},null,8,gr)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:c.value,class:"ma-6",type:"primary",onClick:a[6]||(a[6]=e=>_())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.$t("Send"))},null,8,_r)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0)}}};const yr=hr;var br=yr;const xr={class:"qp-dialog-footer text-right"},Cr=["textContent"],$r=["textContent"];var Wr={__name:"qpMeForumIndexZoneAdd",props:{world:{type:Object,default:()=>{}},forum:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{t("close")},v=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)g();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},g=async()=>{p.value=!0;try{let e=new FormData;e.append("forum",l.forum.id),e.append("name",m.name),e.append("description",m.description?m.description:"");let r=await fetch(`${_d}/me/forums/${l.forum.id}/zones/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();201===r.status?(Il.z8.success(a("ZoneAddedSuccessfully")),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(o)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-form"),i=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(s,{ref_key:"formZoneRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",xr,[(0,r.Wm)(i,{onClick:t[2]||(t[2]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Cr)])),_:1}),(0,r.Wm)(i,{type:"primary",onClick:t[3]||(t[3]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,$r)])),_:1})])])}}};const qr=Wr;var kr=qr,zr=l(5499);const Sr=["textContent"],Ar={class:"qp-dialog-footer text-right"},jr=["textContent"],Tr=["textContent"];var Dr={__name:"qpMeForumIndexZoneEdit",props:{zone:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{f()}));const p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{m.id=l.zone.id,m.name=l.zone.name,m.description=l.zone.description,m.ordering=l.zone.ordering},v=()=>{t("close")},g=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)_();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},_=async()=>{p.value=!0;try{let e=new FormData;e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("ordering",m.ordering);let l=await fetch(`${_d}/me/zones/${m.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();200===l.status?(Il.z8.success(a("ZoneUpdatedSuccessfully")),v(),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(r)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1},h=()=>{zr.T.confirm(a("Areyousureyouwanttodeletethiszone"),a("DeleteZone"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{y()})).catch((()=>{p.value=!1}))},y=async()=>{p.value=!0;try{let e=new FormData;e.append("id",m.id);let l=await fetch(`${_d}/me/zones/${m.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});if(204===l.status)Il.z8.success(a("ZoneDeletedSuccessfully")),v(),t("init-forum");else{let e=await l.json();Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(e)}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-input-number"),i=(0,r.up)("el-button"),d=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(d,{ref_key:"formZoneRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Ordering"),prop:"ordering"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.ordering,"onUpdate:modelValue":t[2]||(t[2]=e=>m.ordering=e),min:1,max:3e3},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{type:"danger",size:"small",onClick:t[3]||(t[3]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Delete"))},null,8,Sr)])),_:1})])),_:1})])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Ar,[(0,r.Wm)(i,{onClick:t[4]||(t[4]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,jr)])),_:1}),(0,r.Wm)(i,{type:"primary",onClick:t[5]||(t[5]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Tr)])),_:1})])])}}};const Hr=Dr;var Vr=Hr;const Ur={class:"qp-dialog-footer text-right"},Or=["textContent"],Er=["textContent"];var Fr={__name:"qpMeForumIndexTerritoryAdd",props:{zone:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%"}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{t("close")},v=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)g();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},g=async()=>{p.value=!0;try{let e=new FormData;e.append("zone",l.zone.id),e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis);let r=await fetch(`${_d}/me/zones/${l.zone.id}/territories/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();201===r.status?(Il.z8.success(a("TerritoryAddedSuccessfully")),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(o)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-form"),g=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(p,{ref_key:"formTerritoryRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheTerritory"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Ur,[(0,r.Wm)(g,{onClick:t[4]||(t[4]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Or)])),_:1}),(0,r.Wm)(g,{type:"primary",onClick:t[5]||(t[5]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Er)])),_:1})])])}}};const Mr=Fr;var Nr=Mr;const Rr=["textContent"],Lr={class:"qp-dialog-footer text-right"},Pr=["textContent"],Zr=["textContent"];var Ir={__name:"qpMeForumIndexTerritoryEdit",props:{territory:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{f()}));const p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{m.id=l.territory.id,m.name=l.territory.name,m.description=l.territory.description,m.colour=l.territory.colour,m.flexbasis=l.territory.flexbasis,m.ordering=l.territory.ordering},v=()=>{t("close")},g=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)_();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},_=async()=>{p.value=!0;try{let e=new FormData;e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis),e.append("ordering",m.ordering);let l=await fetch(`${_d}/me/territories/${m.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();200===l.status?(Il.z8.success(a("TerritoryUpdatedSuccessfully")),v(),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(r)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1},h=()=>{zr.T.confirm(a("Areyousureyouwanttodeletethisterritory"),a("DeleteTerritory"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{y()})).catch((()=>{p.value=!1}))},y=async()=>{p.value=!0;try{let e=new FormData;e.append("id",m.id);let l=await fetch(`${_d}/me/territories/${m.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});if(204===l.status)Il.z8.success(a("TerritoryDeletedSuccessfully")),v(),t("init-forum");else{let e=await l.json();Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(e)}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-input-number"),f=(0,r.up)("el-button"),_=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(_,{ref_key:"formTerritoryRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Ordering"),prop:"ordering"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:m.ordering,"onUpdate:modelValue":t[4]||(t[4]=e=>m.ordering=e),min:1,max:3e3},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"danger",size:"small",onClick:t[5]||(t[5]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Delete"))},null,8,Rr)])),_:1})])),_:1})])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Lr,[(0,r.Wm)(f,{onClick:t[6]||(t[6]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Pr)])),_:1}),(0,r.Wm)(f,{type:"primary",onClick:t[7]||(t[7]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Zr)])),_:1})])])}}};const Yr=Ir;var Br=Yr;const Gr={class:"qp-dialog-footer text-right"},Jr=["textContent"],Kr=["textContent"];var Qr={__name:"qpMeForumIndexSectorAdd",props:{territory:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%"}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{t("close")},v=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)g();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},g=async()=>{p.value=!0;try{let e=new FormData;e.append("territory",l.territory.id),e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis);let r=await fetch(`${_d}/me/territories/${l.territory.id}/sectors/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();201===r.status?(Il.z8.success(a("SectorAddedSuccessfully")),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(o)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-form"),g=(0,r.up)("el-button");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(p,{ref_key:"formSectorRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheSector"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",Gr,[(0,r.Wm)(g,{onClick:t[4]||(t[4]=e=>f())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Jr)])),_:1}),(0,r.Wm)(g,{type:"primary",onClick:t[5]||(t[5]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Kr)])),_:1})])])}}};const Xr=Qr;var eo=Xr;const to=["textContent"],lo={class:"qp-dialog-footer text-right"},ao=["textContent"],ro=["textContent"];var oo={__name:"qpMeForumIndexSectorEdit",props:{sector:{type:Object,default:()=>{}}},emits:["init-forum","close"],setup(e,{emit:t}){const l=e,{t:a}=Le.global,i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{f()}));const p=(0,n.iH)(!1),c=(0,n.iH)(),m=(0,n.qj)({id:0,name:"",description:"",colour:"",flexbasis:"100%",ordering:0}),w=(0,n.qj)({name:[{required:!0,message:a("Thisfieldisrequired"),trigger:"blur"}]}),f=()=>{m.id=l.sector.id,m.name=l.sector.name,m.description=l.sector.description,m.colour=l.sector.colour,m.flexbasis=l.sector.flexbasis,m.ordering=l.sector.ordering},v=()=>{t("close")},g=async()=>{p.value=!0,await c.value.validate(((e,t)=>{if(e)_();else{for(let[e,l]of Object.entries(t)){let t=a(`error${e}`);for(let e of l)Il.z8.error(`${t} : ${e.message}`)}p.value=!1}}))},_=async()=>{p.value=!0;try{let e=new FormData;e.append("name",m.name),e.append("description",m.description?m.description:""),e.append("colour",m.colour?m.colour:""),e.append("flexbasis",m.flexbasis),e.append("ordering",m.ordering);let l=await fetch(`${_d}/me/sectors/${m.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),r=await l.json();200===l.status?(Il.z8.success(a("SectorUpdatedSuccessfully")),v(),t("init-forum")):Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(r)}`)}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1},h=()=>{zr.T.confirm(a("Areyousureyouwanttodeletethissector"),a("DeleteSector"),{confirmButtonText:a("Delete"),cancelButtonText:a("Cancel"),type:"warning"}).then((()=>{y()})).catch((()=>{p.value=!1}))},y=async()=>{p.value=!0;try{let e=new FormData;e.append("id",m.id);let l=await fetch(`${_d}/me/sectors/${m.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});if(204===l.status)Il.z8.success(a("SectorDeletedSuccessfully")),v(),t("init-forum");else{let e=await l.json();Il.z8.error(`${a("AnErrorOccurred")} : ${JSON.stringify(e)}`)}}catch{Il.z8.error(a("AnErrorOccurred"))}p.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-color-picker"),i=(0,r.up)("el-option"),d=(0,r.up)("el-select"),p=(0,r.up)("el-input-number"),f=(0,r.up)("el-button"),_=(0,r.up)("el-form");return(0,r.wg)(),(0,r.iD)("div",null,[(0,r.Wm)(_,{ref_key:"formSectorRef",ref:c,model:m,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:w,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(u).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.name,"onUpdate:modelValue":t[0]||(t[0]=e=>m.name=e),placeholder:e.$t("NameOfTheZone"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Description"),prop:"description"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:m.description,"onUpdate:modelValue":t[1]||(t[1]=e=>m.description=e),placeholder:e.$t("AShortDescription"),type:"textarea",rows:4},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Colour"),prop:"colour"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:m.colour,"onUpdate:modelValue":t[2]||(t[2]=e=>m.colour=e)},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Width"),prop:"flexbasis"},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{modelValue:m.flexbasis,"onUpdate:modelValue":t[3]||(t[3]=e=>m.flexbasis=e),placeholder:e.$t("CardWidth")},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{label:e.$t("Fullwide"),value:"100%"},null,8,["label"]),(0,r.Wm)(i,{label:"1/2",value:"50%"}),(0,r.Wm)(i,{label:"1/3",value:"33.3333%"},null,8,["value"]),(0,r.Wm)(i,{label:"1/4",value:"25%"})])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Ordering"),prop:"ordering"},{default:(0,r.w5)((()=>[(0,r.Wm)(p,{modelValue:m.ordering,"onUpdate:modelValue":t[4]||(t[4]=e=>m.ordering=e),min:1,max:3e3},null,8,["modelValue"])])),_:1},8,["label"]),(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(f,{type:"danger",size:"small",onClick:t[5]||(t[5]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Delete"))},null,8,to)])),_:1})])),_:1})])),_:1},8,["model","label-position","rules","style"]),(0,r._)("footer",lo,[(0,r.Wm)(f,{onClick:t[6]||(t[6]=e=>v())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,ao)])),_:1}),(0,r.Wm)(f,{type:"primary",onClick:t[7]||(t[7]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,ro)])),_:1})])])}}};const no=oo;var so=no;const io=["textContent"],uo={class:"custom-tabs-label"},po=["textContent"],co={class:"text-center pa-6"},mo=["textContent"],wo={class:"text-center pa-6"},fo=["textContent"],vo={key:1},go=["textContent"];var _o={__name:"qpMeForumIndex",props:{world:{type:Object,default:()=>{}},forum:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,n.iH)(),a=(0,n.iH)([]),s=(0,n.iH)(),i=(0,n.iH)(),u=(0,n.iH)(),d=()=>{a.value=t.forum.zones,a.value.length&&(l.value=a.value[0].id)};(0,r.bv)((()=>{d()}));const p=(0,n.iH)(!1),c=(0,n.iH)(!1),m=(0,n.iH)(!1),w=(0,n.iH)(!1),f=(0,n.iH)(!1),v=(0,n.iH)(!1),g=()=>{p.value=!0},_=()=>{p.value=!1},h=e=>{s.value=e,c.value=!0},y=()=>{c.value=!1},b=e=>{s.value=e,m.value=!0},x=()=>{m.value=!1},C=e=>{i.value=e,w.value=!0},$=()=>{w.value=!1},W=e=>{i.value=e,f.value=!0},q=()=>{f.value=!1},k=e=>{u.value=e,v.value=!0},z=()=>{v.value=!1};return(e,n)=>{const d=(0,r.up)("el-icon"),S=(0,r.up)("el-table-column"),A=(0,r.up)("el-button"),j=(0,r.up)("el-table"),T=(0,r.up)("el-tab-pane"),D=(0,r.up)("el-tabs"),H=(0,r.up)("el-dialog"),V=(0,r.up)("el-col"),U=(0,r.up)("el-row");return(0,r.wg)(),(0,r.j4)(U,null,{default:(0,r.w5)((()=>[(0,r.Wm)(V,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-forum"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Index"))},null,8,io)])),default:(0,r.w5)((()=>[a.value.length?((0,r.wg)(),(0,r.j4)(D,{key:0,modelValue:l.value,"onUpdate:modelValue":n[0]||(n[0]=e=>l.value=e),addable:"",onTabAdd:n[1]||(n[1]=e=>g())},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(a.value,((t,l)=>((0,r.wg)(),(0,r.j4)(T,{key:`zone-${l}`,label:t.name,name:t.id},{label:(0,r.w5)((()=>[(0,r._)("span",uo,[(0,r._)("span",{textContent:(0,o.zw)(t.name)},null,8,po)]),(0,r.Wm)(d,{class:"mdi mdi-pencil is-icon-close",onClick:e=>h(t)},null,8,["onClick"])])),default:(0,r.w5)((()=>[(0,r._)("div",null,[(0,r.Wm)(j,{data:t.territories,"show-header":!1,"empty-text":e.$t("NoTerritories"),style:{width:"100%"}},{append:(0,r.w5)((()=>[(0,r._)("div",wo,[(0,r.Wm)(A,{size:"small",onClick:e=>b(t)},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AddANewTerritory"))},null,8,fo)])),_:2},1032,["onClick"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(S,{type:"expand"},{default:(0,r.w5)((t=>[(0,r._)("div",null,[(0,r.Wm)(j,{data:t.row.sectors,"show-header":!1,"empty-text":e.$t("NoSectors"),style:{width:"100%"}},{append:(0,r.w5)((()=>[(0,r._)("div",co,[(0,r.Wm)(A,{size:"small",onClick:e=>W(t.row)},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AddANewSector"))},null,8,mo)])),_:2},1032,["onClick"])])])),default:(0,r.w5)((()=>[(0,r.Wm)(S,{prop:"ordering",align:"center",width:"48"}),(0,r.Wm)(S,{prop:"name"}),(0,r.Wm)(S,{prop:"action",fixed:"right",width:"60"},{default:(0,r.w5)((e=>[(0,r.Wm)(A,{size:"small",onClick:t=>k(e.row)},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"mdi mdi-pencil"})])),_:2},1032,["onClick"])])),_:2},1024)])),_:2},1032,["data","empty-text"])])])),_:1}),(0,r.Wm)(S,{prop:"name"}),(0,r.Wm)(S,{prop:"action",fixed:"right",width:"60"},{default:(0,r.w5)((e=>[(0,r.Wm)(A,{size:"small",onClick:t=>C(e.row)},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{class:"mdi mdi-pencil"})])),_:2},1032,["onClick"])])),_:1})])),_:2},1032,["data","empty-text"])])])),_:2},1032,["label","name"])))),128))])),_:1},8,["modelValue"])):((0,r.wg)(),(0,r.iD)("div",vo,[(0,r.Wm)(A,{onClick:n[2]||(n[2]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("AddANewZone"))},null,8,go)])),_:1})]))])),_:1}),(0,r.Wm)(H,{modelValue:p.value,"onUpdate:modelValue":n[5]||(n[5]=e=>p.value=e),title:e.$t("AddANewZone"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(kr,{forum:t.forum,onInitForum:n[3]||(n[3]=t=>e.$emit("init-forum")),onClose:n[4]||(n[4]=e=>_())},null,8,["forum"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:c.value,"onUpdate:modelValue":n[8]||(n[8]=e=>c.value=e),title:e.$t("EditAZone"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(Vr,{zone:s.value,onInitForum:n[6]||(n[6]=t=>e.$emit("init-forum")),onClose:n[7]||(n[7]=e=>y())},null,8,["zone"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:m.value,"onUpdate:modelValue":n[11]||(n[11]=e=>m.value=e),title:e.$t("AddANewTerritory"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(Nr,{zone:s.value,onInitForum:n[9]||(n[9]=t=>e.$emit("init-forum")),onClose:n[10]||(n[10]=e=>x())},null,8,["zone"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:w.value,"onUpdate:modelValue":n[14]||(n[14]=e=>w.value=e),title:e.$t("EditATerritory"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(Br,{territory:i.value,onInitForum:n[12]||(n[12]=t=>e.$emit("init-forum")),onClose:n[13]||(n[13]=e=>$())},null,8,["territory"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:f.value,"onUpdate:modelValue":n[17]||(n[17]=e=>f.value=e),title:e.$t("AddANewSector"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(eo,{territory:i.value,onInitForum:n[15]||(n[15]=t=>e.$emit("init-forum")),onClose:n[16]||(n[16]=e=>q())},null,8,["territory"])])),_:1},8,["modelValue","title"]),(0,r.Wm)(H,{modelValue:v.value,"onUpdate:modelValue":n[20]||(n[20]=e=>v.value=e),title:e.$t("EditASector"),width:"800px","destroy-on-close":""},{default:(0,r.w5)((()=>[(0,r.Wm)(so,{sector:u.value,onInitForum:n[18]||(n[18]=t=>e.$emit("init-forum")),onClose:n[19]||(n[19]=e=>z())},null,8,["sector"])])),_:1},8,["modelValue","title"])])),_:1})])),_:1})}}};const ho=_o;var yo=ho;const bo={key:0},xo={key:0},Co=["textContent"],$o=["textContent"],Wo=["textContent"],qo={key:1},ko={class:"qp-container"},zo={"element-loading-background":"transparent",style:{height:"60vh"}},So={key:2},Ao={class:"qp-container"};var jo={__name:"qpMeForum",props:{tab:{type:String,default:"general"},world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,s.oR)(),i=(0,r.Fl)((()=>a.getters.app)),u=(0,r.Fl)((()=>a.getters.rat));(0,r.bv)((()=>{c()}));const d=(0,n.iH)(!1),p=(0,n.iH)(null),c=async()=>{d.value=!0;try{let e=await fetch(`${_d}/me/forums/${t.world.forum.id}/`,{method:"GET",headers:{Authorization:u.value}}),l=await e.json();if(200!==e.status)throw e;p.value=l,g(l)}catch(e){403===e.status?Il.z8.error(l("YouDoesntHaveAccessToThisPage")):Il.z8.error(l("AnErrorOccurred"))}d.value=!1},m=(0,n.iH)(!1),w=(0,n.iH)(),f=(0,n.qj)({name:"",slug:"",description:"",visibility:0,is_active:!1}),v=(0,n.qj)({}),g=e=>{f.name=e.name,f.visibility=e.visibility,f.is_active=e.is_active},_=()=>{g(p)},h=async()=>{m.value=!0,await w.value.validate(((e,t)=>{if(e)y();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)Il.z8.error(`${t} : ${e.message}`)}m.value=!1}}))},y=async()=>{m.value=!0;try{let e=new FormData;e.append("name",f.name),e.append("visibility",f.visibility),e.append("is_active",f.is_active);let t=await fetch(`${_d}/me/forums/${p.value.id}/`,{method:"PATCH",headers:{Authorization:u.value},body:e}),a=await t.json();if(200===t.status)Il.z8.success(l("WorldUpdatedSuccessfully")),c();else for(let[r,o]of Object.entries(a)){let e=l(`error${r}`);for(let t of o)Il.z8.error(`${e} : ${t}`)}}catch{Il.z8.error(l("AnErrorOccurred"))}m.value=!1};return(l,a)=>{const s=(0,r.up)("el-input"),u=(0,r.up)("el-form-item"),g=(0,r.up)("el-option"),y=(0,r.up)("el-select"),b=(0,r.up)("el-checkbox"),x=(0,r.up)("el-form"),C=(0,r.up)("el-button"),$=(0,r.up)("el-col"),W=(0,r.up)("el-row"),q=(0,r.up)("el-result"),k=(0,r.Q2)("loading");return t.world?((0,r.wg)(),(0,r.iD)("div",bo,[!d.value&&p.value?((0,r.wg)(),(0,r.iD)("div",xo,["forum"==t.tab?((0,r.wg)(),(0,r.j4)(W,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)($,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-forum"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("Forum"))},null,8,Co)])),default:(0,r.w5)((()=>[(0,r.Wm)(x,{ref_key:"formForumGeneralRef",ref:w,model:f,"label-position":(0,n.SU)(i).win.w<1200?"top":"right",rules:v,"label-width":"120px","status-icon":"",style:(0,o.j5)((0,n.SU)(i).win.w<1200?"margin-top:12px;":"padding-right:60px;margin-top:12px;")},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{label:l.$t("Name"),prop:"name"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{modelValue:f.name,"onUpdate:modelValue":a[0]||(a[0]=e=>f.name=e),placeholder:l.$t("NameOfTheWorld"),maxlength:32,"show-word-limit":""},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:l.$t("Visibility"),prop:"visibility"},{default:(0,r.w5)((()=>[(0,r.Wm)(y,{modelValue:f.visibility,"onUpdate:modelValue":a[1]||(a[1]=e=>f.visibility=e),placeholder:l.$t("Visibility")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(e.world.visibility_choix,((e,t)=>((0,r.wg)(),(0,r.j4)(g,{key:`visibility-${t}`,label:e[1],value:e[0]},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(u,{label:l.$t("Open"),prop:"is_active"},{default:(0,r.w5)((()=>[(0,r.Wm)(b,{modelValue:f.is_active,"onUpdate:modelValue":a[2]||(a[2]=e=>f.is_active=e)},null,8,["modelValue"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules","style"]),(0,r.Wm)(W,null,{default:(0,r.w5)((()=>[(0,r.Wm)($,null,{default:(0,r.w5)((()=>[(0,r.Wm)(C,{disabled:m.value,class:"ma-6",onClick:a[3]||(a[3]=e=>_())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("Reset"))},null,8,$o)])),_:1},8,["disabled"]),(0,r.Wm)(C,{loading:m.value,class:"ma-6",type:"primary",onClick:a[4]||(a[4]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("Send"))},null,8,Wo)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0),"forum-index"==t.tab?((0,r.wg)(),(0,r.j4)(yo,{key:1,world:t.world,forum:p.value,onInitForum:a[5]||(a[5]=e=>c())},null,8,["world","forum"])):(0,r.kq)("",!0)])):d.value?((0,r.wg)(),(0,r.iD)("div",qo,[(0,r._)("div",ko,[(0,r.wy)((0,r._)("div",zo,null,512),[[k,d.value]])])])):((0,r.wg)(),(0,r.iD)("div",So,[(0,r._)("div",Ao,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(q,{icon:"error",title:l.$t("Error"),"sub-title":l.$t("AnErrorOccurred")},null,8,["title","sub-title"])])),_:1})])]))])):(0,r.kq)("",!0)}}};const To=jo;var Do=To;const Ho={class:"qp-vue"},Vo={key:0},Uo={class:"qp-container"},Oo=["textContent"],Eo=["textContent"],Fo=["textContent"],Mo={key:1},No={class:"qp-container"},Ro={"element-loading-background":"transparent",style:{height:"60vh"}},Lo={key:2},Po={class:"qp-container"};var Zo={__name:"MeWorldsDetailView",setup(e){const{t:t}=Le.global,l=(0,qe.yj)(),a=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.rat)),d=(0,n.iH)(!0),p=(0,n.iH)(null),c=(0,n.iH)([{tab:"general",title:t("GeneralInformations"),caption:t("NameDescriptionVisibilityAndMore"),icon:"mdi mdi-account-outline"},{tab:"forum",title:t("Forum"),caption:t("ZonesTerritoriesSectorsAndSettings"),icon:"mdi mdi-forum-outline",subs:[{tab:"forum-index",title:t("Index")}]},{tab:"style",title:t("Style"),caption:t("ColoursAndCustomStylesheet"),icon:"mdi mdi-brush-variant",subs:[{tab:"style-stylesheets",title:t("Stylesheets")}]}]),m=(0,n.iH)("general"),w=e=>{m.value=e};(0,r.bv)((()=>{u.value?v():a.push({name:"AuthLogin"})}));const f=(0,n.iH)(),v=async()=>{d.value=!0,p.value=null;try{let e=await fetch(`${_d}/me/worlds/${l.params.pk}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;f.value=t}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisPage"):p.value=t("AnErrorOccurred")}d.value=!1};return(e,t)=>{const l=(0,r.up)("el-col"),a=(0,r.up)("el-row"),s=(0,r.up)("el-result"),i=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",Ho,[!d.value&&!p.value&&(0,n.SU)(u)&&f.value?((0,r.wg)(),(0,r.iD)("div",Vo,[(0,r._)("div",Uo,[(0,r._)("header",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{align:"left"},{default:(0,r.w5)((()=>[(0,r._)("h1",null,[(0,r._)("span",{textContent:(0,o.zw)(f.value.name)},null,8,Oo)])])),_:1})])),_:1})]),(0,r._)("section",null,[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24,md:6},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{h:"auto",pa:"0"},{default:(0,r.w5)((()=>[(0,r.Wm)(oa,{navs:c.value,tab:m.value,onGoto:w},null,8,["navs","tab"])])),_:1})])),_:1}),(0,r.Wm)(l,{span:24,md:18,style:{padding:"0"}},{default:(0,r.w5)((()=>[m.value.startsWith("general")?((0,r.wg)(),(0,r.j4)(br,{key:0,world:f.value,onInitWorld:v},null,8,["world"])):m.value.startsWith("forum")?((0,r.wg)(),(0,r.j4)(Do,{key:1,tab:m.value,world:f.value,onInitWorld:v},null,8,["tab","world"])):"style"==m.value?((0,r.wg)(),(0,r.j4)(a,{key:2},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-style"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Style"))},null,8,Eo)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{icon:"info",title:e.$t("UnderDevelopment")},null,8,["title"])])),_:1})])),_:1})])),_:1})):"style-stylesheets"==m.value?((0,r.wg)(),(0,r.j4)(a,{key:3},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{span:24},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{class:"qp-meworld-form-style"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Stylesheets"))},null,8,Fo)])),default:(0,r.w5)((()=>[(0,r.Wm)(s,{icon:"info",title:e.$t("UnderDevelopment")},null,8,["title"])])),_:1})])),_:1})])),_:1})):(0,r.kq)("",!0)])),_:1})])),_:1})])])])):d.value?((0,r.wg)(),(0,r.iD)("div",Mo,[(0,r._)("div",No,[(0,r.wy)((0,r._)("div",Ro,null,512),[[i,d.value]])])])):((0,r.wg)(),(0,r.iD)("div",Lo,[(0,r._)("div",Po,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{icon:"error",title:e.$t("Error"),"sub-title":p.value},null,8,["title","sub-title"])])),_:1})])]))])}}};const Io=Zo;var Yo=Io;const Bo=[{path:"/me/profile",name:"MeProfile",component:xl},{path:"/me/characters",name:"MeCharacters",component:Zl},{path:"/me/characters/heros/:pk",name:"MeCharactersHerosDetail",component:Ta},{path:"/me/worlds",name:"MeWorlds",component:fr},{path:"/me/worlds/:pk",name:"MeWorldsDetail",component:Yo}],Go={key:0},Jo={class:"qp-container"},Ko={key:1},Qo={class:"qp-container"},Xo={"element-loading-background":"transparent",style:{height:"60vh"}};var en={__name:"qpLoadError",props:{isLoading:{type:Boolean,default:!0},hasError:{type:String,default:null}},setup(e){const t=e;return(e,l)=>{const a=(0,r.up)("el-result"),o=(0,r.Q2)("loading");return(0,r.wg)(),(0,r.iD)("div",null,[t.hasError?((0,r.wg)(),(0,r.iD)("div",Go,[(0,r._)("div",Jo,[(0,r.Wm)(gt,{h:"auto"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{icon:"error",title:e.$t("Error"),"sub-title":t.hasError},null,8,["title","sub-title"])])),_:1})])])):t.isLoading?((0,r.wg)(),(0,r.iD)("div",Ko,[(0,r._)("div",Qo,[(0,r.wy)((0,r._)("div",Xo,null,512),[[o,t.isLoading]])])])):(0,r.kq)("",!0)])}}};const tn=en;var ln=tn;const an={class:"qp-vue"},rn={key:0},on={class:"qp-world-header"},nn=["textContent"],sn={class:"qp-world-footer"},un={class:"qp-world-footer-inner"},dn={class:"qp-world-footer-copyright"},pn=["textContent"];var cn={__name:"WorldView",setup(e){const{t:t}=Le.global,l=(0,qe.yj)(),a=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.rat)),d=(0,n.iH)(!0),p=(0,n.iH)(null);(0,r.bv)((()=>{m()})),(0,r.Jd)((()=>{v()}));const c=(0,n.iH)(null),m=async()=>{d.value=!0,p.value=null;try{let e=await fetch(`${_d}/worlds/${l.params.slug}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t,w(t.name),f(t.style)}catch(e){403===e.status?p.value=t("YouDoesntHaveAccessToThisWorld"):404===e.status?p.value=t("ThisWorldDoesntExistAnymore"):p.value=t("AnErrorOccurred")}d.value=!1},w=e=>{document.title=`${e} - ${gd.name}`},f=e=>{let t;document.getElementById("qp-custom-style")?t=document.getElementById("qp-custom-style"):(t=document.createElement("style"),t.setAttribute("id","qp-custom-style")),e?(t.innerHTML=":root{",t.innerHTML+=`--qp-primary:${e.primary};`,t.innerHTML+=`--qp-app-bg:${e.app_body_bg};`,t.innerHTML+=`--qp-app-txt:${e.app_body_txt};`,t.innerHTML+=`--qp-app-header-bg:${e.app_header_bg};`,t.innerHTML+=`--qp-app-header-txt:${e.app_header_txt};`,t.innerHTML+=`--qp-app-header-txt-hov:${e.app_header_txt_hov};`,t.innerHTML+=`--qp-app-sidebar-bg:${e.app_sidebar_bg};`,t.innerHTML+=`--qp-app-sidebar-txt:${e.app_sidebar_txt};`,t.innerHTML+=`--qp-app-sidebar-accent:${e.app_sidebar_accent};`,t.innerHTML+=`--qp-app-smallbar-bg:${e.app_smallbar_bg};`,t.innerHTML+=`--qp-app-smallbar-txt:${e.app_smallbar_txt};`,t.innerHTML+=`--qp-app-smallbar-accent:${e.app_smallbar_accent};`,t.innerHTML+=`--qp-default-bg:${e.default_bg};`,t.innerHTML+=`--qp-default-txt:${e.default_txt};`,t.innerHTML+=`--qp-default-accented-bg:${e.default_accented_bg};`,t.innerHTML+=`--qp-default-accented-txt:${e.default_accented_txt};`,t.innerHTML+=`--qp-default-disabled-bg:${e.default_disabled_bg};`,t.innerHTML+=`--qp-default-disabled-txt:${e.default_disabled_txt};`,t.innerHTML+=`--qp-form-bg:${e.form_bg};`,t.innerHTML+=`--qp-form-txt:${e.form_txt};`,t.innerHTML+=`--qp-form-placeholder:${e.form_placeholder};`,t.innerHTML+="}",t.innerHTML+=`${e.stylesheet}`):t.innerHTML="",document.head.appendChild(t)},v=()=>{},g=()=>{"WorldForum"==l.name?a.go(l.fullPath):a.push({name:"WorldForum",params:{slug:c.value.slug}})};return(e,t)=>{const l=(0,r.up)("router-view"),a=(0,r.up)("el-col"),n=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",an,[d.value||p.value||!c.value?((0,r.wg)(),(0,r.j4)(ln,{key:1,isloading:d.value,hasError:p.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",rn,[(0,r._)("header",on,[(0,r._)("h1",{class:"qp-world-header-name",onClick:t[0]||(t[0]=e=>g())},[(0,r._)("span",{textContent:(0,o.zw)(c.value.name)},null,8,nn)])]),((0,r.wg)(),(0,r.j4)(l,{key:e.$route.params.slug,world:c.value},null,8,["world"])),(0,r._)("footer",sn,[(0,r._)("div",un,[(0,r.Wm)(n,null,{default:(0,r.w5)((()=>[(0,r.Wm)(a,null,{default:(0,r.w5)((()=>[(0,r._)("div",dn,[(0,r._)("small",null,[(0,r._)("span",{textContent:(0,o.zw)(`© ${c.value.copyright} - ${e.$t("AllRightsReserved")}`)},null,8,pn)])])])),_:1})])),_:1})])])]))])}}};const mn=cn;var wn=mn;const fn={class:"qp-forum-breadcrumbs"},vn=["onClick"],gn=["textContent"];var _n={__name:"qpBreadcrumbs",props:{crumbs:{type:Array,default:()=>[]}},setup(e){const t=e,l=(0,qe.tv)(),a=e=>{e&&l.push(e)};return(e,l)=>((0,r.wg)(),(0,r.iD)("nav",fn,[(0,r._)("ul",null,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.crumbs,((e,t)=>((0,r.wg)(),(0,r.iD)("li",{key:`crumb-${t}`,onClick:t=>a(e.go)},[(0,r._)("span",{textContent:(0,o.zw)(e.name)},null,8,gn)],8,vn)))),128))])]))}};const hn=_n;var yn=hn;const bn=e=>((0,r.dD)("data-v-3231c732"),e=e(),(0,r.Cn)(),e),xn={class:"qp-forum-header"},Cn={class:"qp-forum-header-title"},$n=["textContent"],Wn=["textContent"],qn=bn((()=>(0,r._)("hr",{class:"qp-forum-header-divider"},null,-1))),kn={class:"qp-forum-header-buttons"},zn=["textContent"],Sn=["textContent"];var An={__name:"qpHeader",props:{title:{type:String,default:""},description:{type:String,default:null},crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(l,a)=>{const n=(0,r.up)("el-col"),s=(0,r.up)("el-button"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("header",xn,[(0,r._)("h2",Cn,[(0,r._)("span",{textContent:(0,o.zw)(t.title)},null,8,$n)]),t.description?((0,r.wg)(),(0,r.iD)("p",{key:0,class:"qp-forum-header-description",textContent:(0,o.zw)(t.description)},null,8,Wn)):(0,r.kq)("",!0),qn,t.crumbs?.length||e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(i,{key:1,align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{span:24,sm:e.showBtnChapter||e.showBtnReply?12:24,style:{"padding-left":"0"}},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(yn,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1},8,["sm"]),e.showBtnChapter||e.showBtnReply?((0,r.wg)(),(0,r.j4)(n,{key:0,span:24,sm:12,style:{"padding-right":"0"}},{default:(0,r.w5)((()=>[(0,r._)("div",kn,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:a[0]||(a[0]=e=>l.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,zn)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:a[1]||(a[1]=e=>l.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("ToReply"))},null,8,Sn)])),_:1})):(0,r.kq)("",!0)])])),_:1})):(0,r.kq)("",!0)])),_:1})):(0,r.kq)("",!0)])}}};const jn=(0,k.Z)(An,[["__scopeId","data-v-3231c732"]]);var Tn=jn;const Dn=(e,t=!0)=>{const l={year:"numeric",month:"long",day:"numeric",hour:t?"numeric":null,minute:t?"numeric":null,hour12:!1};return new Date(e).toLocaleString("fr",l)},Hn=e=>{const t="àáâäæãåāăąçćčđďèéêëēėęěğǵḧîïíīįìıİłḿñńǹňôöòóœøōõőṕŕřßśšşșťțûüùúūǘůűųẃẍÿýžźż·/_,:;",l="aaaaaaaaaacccddeeeeeeeegghiiiiiiiilmnnnnoooooooooprrsssssttuuuuuuuuuwxyyzzz------",a=new RegExp(t.split("").join("|"),"g");return e.toString().toLowerCase().replace(/\s+/g,"-").replace(a,(e=>l.charAt(t.indexOf(e)))).replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,"")},Vn=["id"],Un={class:"qp-forum-territory-inner"},On={class:"qp-forum-header"},En=["textContent"],Fn=["textContent"],Mn=["textContent"],Nn=["textContent"],Rn=["textContent"],Ln=["textContent"],Pn=["textContent"],Zn=["textContent"],In={class:"qp-forum-header-lastmessage"},Yn=["textContent"],Bn={key:0,class:"qp-forum-header-lastmessage-infos"},Gn=["textContent"],Jn=["textContent"];var Kn={__name:"qpTerritoryList",props:{territory:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,qe.yj)(),a=(0,qe.tv)(),s=e=>{e&&a.push(e)},i=()=>{a.push({name:"WorldForumTerritory",params:{slug:l.params.slug,zone_pk:t.territory.zone.id,zone_slug:Hn(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:Hn(t.territory.name)}})};return(e,l)=>{const a=(0,r.up)("el-col"),u=(0,r.up)("el-row"),d=(0,r.up)("el-popover"),p=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.territory?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.territory.id}`,class:"qp-forum-territory",style:(0,o.j5)(`flex-basis:${t.territory.flexbasis};`)},[(0,r._)("div",Un,[(0,r._)("header",On,[(0,r.Wm)(d,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>i()),style:(0,o.j5)(t.territory.colour?`color:${t.territory.colour};`:"")},[(0,r._)("span",{textContent:(0,o.zw)(t.territory.name)},null,8,En)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[t.territory.description?((0,r.wg)(),(0,r.j4)(a,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,o.zw)(t.territory.description)},null,8,Fn)])),_:1})):(0,r.kq)("",!0),t.territory.count_sectors?((0,r.wg)(),(0,r.j4)(a,{key:1,span:8,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.territory.count_sectors))},null,8,Mn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Sector",t.territory.count_sectors))},null,8,Nn)])])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.territory.count_chapters))},null,8,Rn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Chapter",t.territory.count_chapters))},null,8,Ln)])])),_:1},8,["span"]),(0,r.Wm)(a,{span:t.territory.count_sectors?8:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.territory.count_messages))},null,8,Pn),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Message",t.territory.count_messages))},null,8,Zn)])])),_:1},8,["span"])])),_:1})])),_:1}),(0,r._)("div",In,[(0,r._)("div",{class:(0,o.C_)("qp-forum-header-lastmessage-avatar "+(t.territory.last_chapter?.last_message?"":"qp-empty"))},[t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(p,{key:0,src:t.territory.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.territory.last_chapter.last_message.author?.initials)},null,8,Yn)])),_:1},8,["src"])):(0,r.kq)("",!0),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:l[1]||(l[1]=e=>s(t.territory.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0)],2),t.territory.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",Bn,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:l[2]||(l[2]=e=>s(t.territory.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,o.zw)(t.territory.last_chapter.last_message.chapter.title)},null,8,Gn),(0,r._)("span",{class:"date",textContent:(0,o.zw)((0,n.SU)(Dn)(t.territory.last_chapter.last_message.chapter.created_at))},null,8,Jn)])])):(0,r.kq)("",!0)])])])],12,Vn)):(0,r.kq)("",!0)}}};const Qn=Kn;var Xn=Qn;const es=["id"],ts={class:"qp-forum-zone-inner"},ls={class:"qp-forum-territories"};var as={__name:"qpZoneList",props:{world:{type:Object,default:()=>{}},zone:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,qe.yj)(),a=(0,r.Fl)((()=>{if("WorldForum"==l.name)return[];let e=[{name:t.world.name,view:"world",data:{world:t.world}}];return e}));return(e,l)=>t.zone?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`z${t.zone.id}`,class:"qp-forum-zone"},[(0,r._)("div",ts,[(0,r.Wm)(Tn,{title:t.zone.name,description:t.zone.description,crumbs:(0,n.SU)(a)},null,8,["title","description","crumbs"]),(0,r._)("section",ls,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(t.zone.territories,((e,t)=>((0,r.wg)(),(0,r.j4)(Xn,{key:`territory-${t}`,territory:e},null,8,["territory"])))),128))])])],8,es)):(0,r.kq)("",!0)}};const rs=as;var os=rs;const ns={class:"qp-vue qp-forum qp-singleton-index"},ss={key:0},is={class:"qp-container"},us={key:0,class:"qp-forum-zones"};var ds={__name:"IndexView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,s.oR)(),o=(0,r.Fl)((()=>a.getters.rat)),i=(0,n.iH)(!0),u=(0,n.iH)(null);(0,r.bv)((()=>{p()}));const d=(0,n.iH)(null),p=async()=>{i.value=!0,u.value=null;try{let e=await fetch(`${_d}/worlds/forums/${t.world.forum.id}/`,{method:"GET",headers:{Authorization:o.value}}),l=await e.json();if(200!==e.status)throw e;d.value=l}catch(e){403===e.status?u.value=l("YouDoesntHaveAccessToThisForum"):404===e.status?u.value=l("ThisForumDoesntExistAnymore"):u.value=l("AnErrorOccurred")}i.value=!1};return(e,l)=>((0,r.wg)(),(0,r.iD)("div",ns,[i.value||u.value||!d.value?((0,r.wg)(),(0,r.j4)(ln,{key:1,isloading:i.value,hasError:u.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",ss,[(0,r._)("div",is,["WorldForum"==e.$route.name?((0,r.wg)(),(0,r.iD)("section",us,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(d.value.zones,((e,l)=>((0,r.wg)(),(0,r.j4)(os,{key:`zones-${l}`,world:t.world,zone:e},null,8,["world","zone"])))),128))])):(0,r.kq)("",!0)])]))]))}};const ps=ds;var cs=ps;const ms={class:"qp-vue qp-forum qp-singleton-zone"},ws={key:0},fs={class:"qp-container"},vs={class:"qp-forum-zones"},gs=["id"],_s={class:"qp-forum-zone-inner"},hs={class:"qp-forum-territories"};var ys={__name:"ZoneView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.yj)(),o=(0,s.oR)(),i=(0,r.Fl)((()=>o.getters.rat)),u=(0,n.iH)(!0),d=(0,n.iH)(null),p=(0,r.Fl)((()=>{let e=[{name:c.value.forum.name,go:`/w/${a.params.slug}/forum`}];return e}));(0,r.bv)((()=>{m()}));const c=(0,n.iH)(null),m=async()=>{u.value=!0,d.value=null;try{let e=await fetch(`${_d}/worlds/zones/${a.params.zone_pk}/`,{method:"GET",headers:{Authorization:i.value}}),t=await e.json();if(200!==e.status)throw e;c.value=t}catch(e){403===e.status?d.value=l("YouDoesntHaveAccessToThisZone"):404===e.status?d.value=l("ThisZoneDoesntExistAnymore"):d.value=l("AnErrorOccurred")}u.value=!1};return(e,l)=>((0,r.wg)(),(0,r.iD)("div",ms,[u.value||d.value||!c.value?((0,r.wg)(),(0,r.j4)(ln,{key:1,isloading:u.value,hasError:d.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",ws,[(0,r._)("div",fs,[(0,r._)("section",vs,[(0,r._)("article",{id:`z${c.value.id}`,class:"qp-forum-zone"},[(0,r._)("div",_s,[(0,r.Wm)(Tn,{title:c.value.name,description:c.value.description,crumbs:(0,n.SU)(p)},null,8,["title","description","crumbs"]),(0,r._)("section",hs,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value.territories,((e,l)=>((0,r.wg)(),(0,r.j4)(Xn,{key:`territory-${l}`,world:t.world,territory:e},null,8,["world","territory"])))),128))])])],8,gs)])])]))]))}};const bs=ys;var xs=bs;const Cs=e=>((0,r.dD)("data-v-b4de7354"),e=e(),(0,r.Cn)(),e),$s=["textContent"],Ws={class:"qp-quests-list"},qs={class:"qp-quests-item"},ks={class:"qp-quests-item-icon"},zs={class:"qp-quests-item-text"},Ss=Cs((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Récolter des plantes"},null,-1))),As=["textContent"],js={class:"qp-quests-item-progress"},Ts={class:"qp-quests-item"},Ds={class:"qp-quests-item-icon"},Hs={class:"qp-quests-item-text"},Vs=Cs((()=>(0,r._)("p",{class:"qp-quests-item-title",textContent:"Problème de vermine"},null,-1))),Us=["textContent"],Os={class:"qp-quests-item-progress"},Es=["textContent"];var Fs={__name:"qpCardQuestsList",setup(e){return(e,t)=>{const l=(0,r.up)("el-icon"),a=(0,r.up)("el-progress"),n=(0,r.up)("el-button");return(0,r.wg)(),(0,r.j4)(gt,{h:"auto"},{header:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Quests"))},null,8,$s)])),default:(0,r.w5)((()=>[(0,r._)("ul",Ws,[(0,r._)("li",qs,[(0,r._)("div",ks,[(0,r.Wm)(l,{class:"mdi mdi-leaf"})]),(0,r._)("div",zs,[Ss,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,o.zw)("Parcourir les alentours pour trouver des plantes utiles.")},null,8,As)]),(0,r._)("div",js,[(0,r.Wm)(a,{percentage:50,"stroke-width":4,"show-text":!1})])]),(0,r._)("li",Ts,[(0,r._)("div",Ds,[(0,r.Wm)(l,{class:"mdi mdi-sword"})]),(0,r._)("div",Hs,[Vs,(0,r._)("p",{class:"qp-quests-item-description",textContent:(0,o.zw)("Éliminer les créatures qui ont envahi la région et détruisent les récoltes.")},null,8,Us)]),(0,r._)("div",Os,[(0,r.Wm)(a,{percentage:50,"stroke-width":4,"show-text":!1})])])]),(0,r.Wm)(n,{size:"small"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("SeeAllQuests"))},null,8,Es)])),_:1})])),_:1})}}};const Ms=(0,k.Z)(Fs,[["__scopeId","data-v-b4de7354"]]);var Ns=Ms;const Rs={class:"qp-forum-writing-newchapter"},Ls={class:"qp-forum-writing-newchapter-form"},Ps=["innerHTML"],Zs=["textContent"],Is=["textContent"];var Ys={__name:"qpWritingChapter",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,r.Fl)((()=>i.getters.heros));(0,r.bv)((()=>{m()}));const c=(0,n.iH)([]),m=()=>{c.value=[];for(const e of p.value)e.world.id==t.world.id&&c.value.push(e)},w=(0,n.iH)(null),f=(0,n.iH)(!1),v=(0,n.iH)(),g=(0,n.qj)({title:"",character:null,text:""}),_=(0,n.qj)({title:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}],character:[{required:!0,message:l("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),h=async()=>{w.value=null,f.value=!0,await v.value.validate(((e,t)=>{if(e)y();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)w.value=`${t} : ${e.message}`}f.value=!1}}))},y=async()=>{w.value=null,f.value=!0;try{let e=new FormData;e.append("title",g.title),e.append("author",g.character),e.append("territory",t.territory.id),t.sector&&e.append("sector",t.sector.id);let a=await fetch(`${_d}/worlds/territories/${t.territory.id}/chapters/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),r=await a.json();if(201===a.status)b(r.id);else for(let[t,o]of Object.entries(r)){let e=l(`error${t}`);for(let t of o)w.value=`${e} : ${t}`}}catch(e){console.log(e),w.value=l("AnErrorOccurred")}f.value=!1},b=async e=>{w.value=null,f.value=!0;try{let t=new FormData;t.append("chapter",e),t.append("author",g.character),t.append("text",g.text);let r=await fetch(`${_d}/worlds/chapters/${e}/messages/create/`,{method:"POST",headers:{Authorization:d.value},body:t}),o=await r.json();if(201===r.status)a.push(o.route);else for(let[e,a]of Object.entries(o)){let t=l(`error${e}`);for(let e of a)w.value=`${t} : ${e}`}}catch{w.value=l("AnErrorOccurred")}f.value=!1};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-option"),i=(0,r.up)("el-select"),d=(0,r.up)("el-form"),p=(0,r.up)("el-col"),m=(0,r.up)("el-alert"),y=(0,r.up)("el-button"),b=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",Rs,[(0,r.Wm)(Tn,{title:e.$t("Writing"),description:e.$t("NewChapter")},null,8,["title","description"]),(0,r._)("section",Ls,[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{style:(0,o.j5)((0,n.SU)(u).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{ref_key:"formNewChapterRef",ref:v,model:g,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:_,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Title"),prop:"title"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:g.title,"onUpdate:modelValue":t[0]||(t[0]=e=>g.title=e),type:"text",placeholder:e.$t("NewChapterTitle")},null,8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:g.character,"onUpdate:modelValue":t[1]||(t[1]=e=>g.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(s,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(a,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:g.text,"onUpdate:modelValue":t[2]||(t[2]=e=>g.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),w.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:w.value},null,8,Ps)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:f.value,onClick:t[3]||(t[3]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Zs)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:f.value,type:"primary",onClick:t[4]||(t[4]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Is)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const Bs=(0,k.Z)(Ys,[["__scopeId","data-v-ff7037f0"]]);var Gs=Bs;const Js=["id"],Ks={class:"qp-forum-sector-inner"},Qs={class:"qp-forum-header"},Xs=["textContent"],ei=["textContent"],ti=["textContent"],li=["textContent"],ai=["textContent"],ri=["textContent"],oi={key:0,class:"qp-forum-header-lastmessage"},ni=["textContent"],si={key:0,class:"qp-forum-header-lastmessage-infos"},ii=["textContent"],ui=["textContent"];var di={__name:"qpSectorList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},sector:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,qe.yj)(),a=(0,qe.tv)(),s=e=>{e&&a.push(e)},i=()=>{a.push({name:"WorldForumSector",params:{slug:l.params.slug,zone_pk:l.params.zone_pk,zone_slug:l.params.zone_slug,territory_pk:l.params.territory_pk,territory_slug:l.params.territory_slug,sector_pk:t.sector.id,sector_slug:Hn(t.sector.name)}})};return(e,l)=>{const a=(0,r.up)("el-col"),u=(0,r.up)("el-row"),d=(0,r.up)("el-popover"),p=(0,r.up)("el-avatar"),c=(0,r.up)("el-icon");return t.sector?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`t${t.sector.id}`,class:"qp-forum-sector",style:(0,o.j5)(`flex-basis:${t.sector.flexbasis};`)},[(0,r._)("div",Ks,[(0,r._)("header",Qs,[(0,r.Wm)(d,{"show-after":1e3,"popper-class":"qp-forum-header-popper"},{reference:(0,r.w5)((()=>[(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>i()),style:(0,o.j5)(t.sector.colour?`color:${t.sector.colour};`:"")},[(0,r._)("span",{textContent:(0,o.zw)(t.sector.name)},null,8,Xs)],4)])),default:(0,r.w5)((()=>[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[t.sector.description?((0,r.wg)(),(0,r.j4)(a,{key:0,span:24},{default:(0,r.w5)((()=>[(0,r._)("p",{class:"qp-forum-popheader-description",textContent:(0,o.zw)(t.sector.description)},null,8,ei)])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(a,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.sector.count_chapters))},null,8,ti),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Chapter",t.sector.count_chapters))},null,8,li)])])),_:1}),(0,r.Wm)(a,{span:12,align:"center"},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Da)(t.sector.count_messages))},null,8,ai),(0,r._)("div",null,[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Message",t.sector.count_messages))},null,8,ri)])])),_:1})])),_:1})])),_:1}),t.sector.last_chapter?((0,r.wg)(),(0,r.iD)("div",oi,[(0,r._)("div",{class:(0,o.C_)("qp-forum-header-lastmessage-avatar "+(t.sector.last_chapter?.last_message?"":"qp-empty"))},[t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.j4)(p,{key:0,src:t.sector.last_chapter.last_message.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.sector.last_chapter.last_message.author?.initials)},null,8,ni)])),_:1},8,["src"])):(0,r.kq)("",!0),t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",{key:1,class:"qp-forum-header-lastmessage-gotolast",onClick:l[1]||(l[1]=e=>s(t.sector.last_chapter.last_message.route))},[(0,r.Wm)(c,{class:"mdi mdi-arrow-bottom-right-thin-circle-outline"})])):(0,r.kq)("",!0)],2),t.sector.last_chapter?.last_message?((0,r.wg)(),(0,r.iD)("div",si,[(0,r._)("div",{class:"qp-forum-header-lastmessage-infos-link",onClick:l[2]||(l[2]=e=>s(t.sector.last_chapter.route))},[(0,r._)("span",{class:"title",textContent:(0,o.zw)(t.sector.last_chapter.last_message.chapter.title)},null,8,ii),(0,r._)("span",{class:"date",textContent:(0,o.zw)((0,n.SU)(Dn)(t.sector.last_chapter.last_message.chapter.created_at))},null,8,ui)])])):(0,r.kq)("",!0)])):(0,r.kq)("",!0)])])],12,Js)):(0,r.kq)("",!0)}}};const pi=di;var ci=pi;const mi=["id"],wi={class:"qp-forum-chapter-inner"},fi={class:"qp-forum-header"},vi={class:"qp-forum-header-profile"},gi={class:"qp-forum-header-profile-banner"},_i=(0,r._)("div",{class:"image-slot"},null,-1),hi={class:"qp-forum-header-profile-avatar"},yi=["textContent"],bi=["textContent"],xi={class:"qp-forum-header-date"},Ci=["textContent"],$i={class:"qp-forum-header-infos"},Wi={class:"qp-forum-header-infos-lastmessagedate"},qi=["textContent"],ki=["textContent"],zi={class:"qp-forum-header-infos-countmessages"},Si=["textContent"];var Ai={__name:"qpChapterList",props:{world:{type:Object,default:()=>{}},territory:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,l=(0,qe.tv)(),a=()=>{l.push({name:"WorldForumTerritoryChapter",params:{slug:t.world.slug,zone_pk:t.territory.zone.id,zone_slug:Hn(t.territory.zone.name),territory_pk:t.territory.id,territory_slug:Hn(t.territory.name),chapter_pk:t.chapter.id,chapter_slug:Hn(t.chapter.title)}})};return(e,l)=>{const s=(0,r.up)("el-image"),i=(0,r.up)("el-avatar"),u=(0,r.up)("el-icon");return t.chapter?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`c${t.chapter.id}`,class:"qp-forum-chapter"},[(0,r._)("div",wi,[(0,r._)("header",fi,[(0,r._)("div",vi,[(0,r._)("div",gi,[t.chapter.author?.avatar?((0,r.wg)(),(0,r.j4)(s,{key:0,src:t.chapter.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[_i])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",hi,[(0,r.Wm)(i,{src:t.chapter.last_message?.author?.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.chapter.last_message?.author?.initials)},null,8,yi)])),_:1},8,["src"])])]),(0,r._)("h2",{class:"qp-forum-header-title",onClick:l[0]||(l[0]=e=>a())},[(0,r._)("span",{textContent:(0,o.zw)(t.chapter.title)},null,8,bi)]),(0,r._)("p",xi,[t.chapter.date?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,o.zw)(t.chapter.date)},null,8,Ci)):(0,r.kq)("",!0)]),(0,r._)("ul",$i,[(0,r._)("li",Wi,[(0,r.Wm)(u,{class:"mdi mdi-clock-outline"}),t.chapter.last_message?((0,r.wg)(),(0,r.iD)("span",{key:0,textContent:(0,o.zw)((0,n.SU)(Dn)(t.chapter.last_message.created_at))},null,8,qi)):((0,r.wg)(),(0,r.iD)("span",{key:1,textContent:(0,o.zw)(e.$t("Never"))},null,8,ki))]),(0,r._)("li",zi,[(0,r.Wm)(u,{class:"mdi mdi-message-text-outline"}),(0,r._)("span",{textContent:(0,o.zw)(t.chapter.count_messages)},null,8,Si)])])])])],8,mi)):(0,r.kq)("",!0)}}};const ji=Ai;var Ti=ji;const Di={class:"qp-vue qp-forum qp-singleton-territory"},Hi={key:0},Vi={class:"qp-container"},Ui={class:"qp-forum-territories"},Oi=["id"],Ei={class:"qp-forum-territory-inner"},Fi={class:"qp-forum-sectors"},Mi={key:0},Ni=(0,r.Uk)(" (en construction) "),Ri=["textContent"],Li={class:"qp-forum-chapters"};var Pi={__name:"TerritoryView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.yj)(),i=(0,qe.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,n.iH)(!0),c=(0,n.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:w.value.forum.name,go:`/w/${a.params.slug}/forum`}];return w.value&&e.push({name:w.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),e}));(0,r.bv)((()=>{f()}));const w=(0,n.iH)(null),f=async()=>{p.value=!0,c.value=null;try{let e=await fetch(`${_d}/worlds/territories/${a.params.territory_pk}/`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t}catch(e){403===e.status?c.value=l("YouDoesntHaveAccessToThisTerritory"):404===e.status?c.value=l("ThisTerritoryDoesntExistAnymore"):c.value=l("AnErrorOccurred")}p.value=!1},v=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),g=e=>{i.push({name:"WorldForumTerritory",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:w.value.id,territory_slug:Hn(w.value.name)},query:{page:e}})},_=(0,n.iH)(!1),h=()=>{_.value=!0},y=()=>{_.value=!1};return(l,a)=>{const s=(0,r.up)("el-col"),i=(0,r.up)("el-pagination"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",Di,[p.value||c.value||!w.value?((0,r.wg)(),(0,r.j4)(ln,{key:1,isloading:p.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Hi,[(0,r._)("div",Vi,[(0,r._)("section",Ui,[(0,r._)("article",{id:`t${w.value.id}`,class:"qp-forum-territory"},[(0,r._)("div",Ei,[(0,r.Wm)(Tn,{title:w.value.name,description:w.value.description,crumbs:(0,n.SU)(m)},null,8,["title","description","crumbs"]),_.value?((0,r.wg)(),(0,r.j4)(Gs,{key:1,world:e.world,territory:w.value,onClose:a[1]||(a[1]=e=>y())},null,8,["world","territory"])):((0,r.wg)(),(0,r.iD)(r.HY,{key:0},[(0,r._)("section",Fi,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.sectors,((e,l)=>((0,r.wg)(),(0,r.j4)(ci,{key:`sector-${l}`,world:t.world,territory:w.value,sector:e},null,8,["world","territory","sector"])))),128)),w.value.sectors?.length?((0,r.wg)(),(0,r.iD)("hr",Mi)):(0,r.kq)("",!0)]),(0,r._)("section",null,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[Ni])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",bgcolor:"primary",onClick:a[0]||(a[0]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,Ri)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",Li,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.chapters,((e,l)=>((0,r.wg)(),(0,r.j4)(Ti,{key:`chapter-${l}`,world:t.world,territory:w.value,chapter:e},null,8,["world","territory","chapter"])))),128)),w.value.chapters.length?((0,r.wg)(),(0,r.j4)(i,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:w.value.count_chapters,"page-size":w.value.perpage_chapters,"current-page":(0,n.SU)(v),"onUpdate:currentPage":g},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(Ns)])),_:1})])),_:1})])],64))])],8,Oi)])])]))])}}};const Zi=Pi;var Ii=Zi;const Yi={class:"qp-vue qp-forum qp-singleton-sector"},Bi={key:0},Gi={class:"qp-container"},Ji={class:"qp-forum-territories"},Ki=["id"],Qi={class:"qp-forum-sector-inner"},Xi={key:0},eu=(0,r.Uk)(" (en construction) "),tu=["textContent"],lu={class:"qp-forum-chapters"};var au={__name:"SectorView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.yj)(),i=(0,qe.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,n.iH)(!0),c=(0,n.iH)(null),m=(0,r.Fl)((()=>{let e=[{name:w.value.forum.name,go:`/w/${a.params.slug}/forum`}];return w.value?.zone&&e.push({name:w.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),w.value?.territory&&e.push({name:w.value.territory.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}`}),e}));(0,r.bv)((()=>{f()}));const w=(0,n.iH)(null),f=async()=>{p.value=!0,c.value=null;try{let e=await fetch(`${_d}/worlds/sectors/${a.params.sector_pk}/`,{method:"GET",headers:{Authorization:d.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t}catch(e){403===e.status?c.value=l("YouDoesntHaveAccessToThisSector"):404===e.status?c.value=l("ThisSectorDoesntExistAnymore"):c.value=l("AnErrorOccurred")}p.value=!1},v=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),g=e=>{i.push({name:"WorldForumSector",params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,sector_pk:w.value.id,sector_slug:Hn(w.value.name)},query:{page:e}})},_=(0,n.iH)(!1),h=()=>{_.value=!0},y=()=>{_.value=!1};return(l,a)=>{const s=(0,r.up)("el-col"),i=(0,r.up)("el-pagination"),u=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",Yi,[p.value||c.value||!w.value?((0,r.wg)(),(0,r.j4)(ln,{key:1,isloading:p.value,hasError:c.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",Bi,[(0,r._)("div",Gi,[(0,r._)("section",Ji,[(0,r._)("article",{id:`s${w.value.id}`,class:"qp-forum-sector"},[(0,r._)("div",Qi,[(0,r.Wm)(Tn,{title:w.value.name,description:w.value.description,crumbs:(0,n.SU)(m)},null,8,["title","description","crumbs"]),_.value?((0,r.wg)(),(0,r.j4)(Gs,{key:1,type:"chapter",world:e.world,territory:w.value.territory,sector:w.value,onClose:a[1]||(a[1]=e=>y())},null,8,["world","territory","sector"])):((0,r.wg)(),(0,r.iD)("section",Xi,[(0,r.Wm)(u,null,{default:(0,r.w5)((()=>[(0,r.Wm)(s,{span:24,md:12,lg:17},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[eu])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,md:12,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(gt,{clickable:"",bgcolor:"primary",onClick:a[0]||(a[0]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,tu)])),_:1})])),_:1}),(0,r.Wm)(s,{span:24,lg:17,style:{padding:"0"}},{default:(0,r.w5)((()=>[(0,r._)("section",lu,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.chapters,((e,l)=>((0,r.wg)(),(0,r.j4)(Ti,{key:`chapter-${l}`,world:t.world,territory:w.value.territory,sector:w.value,chapter:e},null,8,["world","territory","sector","chapter"])))),128)),w.value.chapters.length?((0,r.wg)(),(0,r.j4)(i,{key:0,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:w.value.count_chapters,"page-size":w.value.perpage_chapters,"current-page":(0,n.SU)(v),"onUpdate:currentPage":g},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])])),_:1}),(0,r.Wm)(s,{span:24,lg:7},{default:(0,r.w5)((()=>[(0,r.Wm)(Ns)])),_:1})])),_:1})]))])],8,Ki)])])]))])}}};const ru=au;var ou=ru;const nu={class:"qp-forum-footer"},su={class:"qp-forum-footer-buttons"},iu=["textContent"],uu=["textContent"];var du={__name:"qpFooter",props:{crumbs:{type:Object,default:()=>{}},showBtnChapter:{type:Boolean,default:!1},showBtnReply:{type:Boolean,default:!1}},setup(e){const t=e;return(l,a)=>{const n=(0,r.up)("el-col"),s=(0,r.up)("el-button"),i=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("footer",nu,[(0,r.Wm)(i,{align:"middle"},{default:(0,r.w5)((()=>[(0,r.Wm)(n,{span:24,sm:12},{default:(0,r.w5)((()=>[t.crumbs?.length?((0,r.wg)(),(0,r.j4)(yn,{key:0,crumbs:t.crumbs},null,8,["crumbs"])):(0,r.kq)("",!0)])),_:1}),(0,r.Wm)(n,{span:24,sm:12},{default:(0,r.w5)((()=>[(0,r._)("div",su,[e.showBtnChapter?((0,r.wg)(),(0,r.j4)(s,{key:0,onClick:a[0]||(a[0]=e=>l.$emit("openNewChapter"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("NewChapter"))},null,8,iu)])),_:1})):(0,r.kq)("",!0),e.showBtnReply?((0,r.wg)(),(0,r.j4)(s,{key:1,type:"primary",onClick:a[1]||(a[1]=e=>l.$emit("openNewReply"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(l.$t("ToReply"))},null,8,uu)])),_:1})):(0,r.kq)("",!0)])])),_:1})])),_:1})])}}};const pu=(0,k.Z)(du,[["__scopeId","data-v-6adf28f5"]]);var cu=pu,mu=l(327);const wu=e=>{let t=e;return t=t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replaceAll("\n","<br />").replaceAll("[g]",'<span style="font-weight:bold;">').replaceAll("[/g]","</span>").replaceAll("[i]",'<span style="font-style:italic;">').replaceAll("[/i]","</span>").replaceAll("[s]",'<span style="text-decoration:underline;">').replaceAll("[/s]","</span>").replaceAll("[b]",'<span style="text-decoration:line-through;">').replaceAll("[/b]","</span>").replaceAll("[gauche]",'<div style="text-align:left;">').replaceAll("[/gauche]","</div>").replaceAll("[centre]",'<div style="text-align:center;">').replaceAll("[/centre]","</div>").replaceAll("[droite]",'<div style="text-align:right;">').replaceAll("[/droite]","</div>").replace(/\[c=#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})\]/g,'<span style="color:#$1;">').replace(/\[c=([a-zA-Z0-9_]+)\]/g,'<span style="color:var(--c-$1);">').replaceAll("[/c]","</span>").replace(/\[p=(Indie Flower|Oswald|Quicksand|Roboto Condensed)\]/g,"<span style=\"font-family:'$1';\">").replaceAll("[/p]","</span>").replace(/\[url=([^<>[\]]+)\]/g,'<a href="$1">').replaceAll("[/url]","</a>").replace(/\[urlo=([^<>[\]]+)\]/g,'<a href="$1" target="_blank">').replaceAll("[/urlo]","</a>").replace(/\[img=([^<>[\]]+)\]/g,'<img src="$1" alt="" />').replace(/\[ico=([a-z- ]+)\]/g,'<i class="mdi $1"></i>'),t},fu={class:"qp-forum-writing-editmessage"},vu={class:"qp-forum-writing-editmessage-form"},gu=["innerHTML"],_u=["textContent"],hu=["textContent"];var yu={__name:"qpWritingEdit",props:{message:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat));(0,r.bv)((()=>{p()}));const p=()=>{f.text=t.message.text},c=(0,n.iH)(null),m=(0,n.iH)(!1),w=(0,n.iH)(),f=(0,n.qj)({text:""}),v=(0,n.qj)({text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),g=async()=>{c.value=null,m.value=!0,await w.value.validate(((e,t)=>{if(e)_();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)c.value=`${t} : ${e.message}`}m.value=!1}}))},_=async()=>{c.value=null,m.value=!0;try{let e=new FormData;e.append("text",f.text);let r=await fetch(`${_d}/worlds/messages/${t.message.id}/edit/`,{method:"PATCH",headers:{Authorization:d.value},body:e}),o=await r.json();if(200===r.status)a.go(o.route);else{for(let[e,t]of Object.entries(o)){let a=l(`error${e}`);for(let e of t)c.value=`${a} : ${e}`}m.value=!1}}catch{c.value=l("AnErrorOccurred"),m.value=!1}};return(e,t)=>{const l=(0,r.up)("el-input"),a=(0,r.up)("el-form-item"),s=(0,r.up)("el-form"),i=(0,r.up)("el-col"),d=(0,r.up)("el-alert"),p=(0,r.up)("el-button"),_=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",fu,[(0,r._)("section",vu,[(0,r.Wm)(_,null,{default:(0,r.w5)((()=>[(0,r.Wm)(i,{style:(0,o.j5)((0,n.SU)(u).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{ref_key:"formEditMessageRef",ref:w,model:f,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:v,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(l,{modelValue:f.text,"onUpdate:modelValue":t[0]||(t[0]=e=>f.text=e),type:"textarea",rows:12,placeholder:e.$t("YourMessage")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),c.value?((0,r.wg)(),(0,r.j4)(i,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:c.value},null,8,gu)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(i,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{disabled:m.value,onClick:t[1]||(t[1]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,_u)])),_:1},8,["disabled"]),(0,r.Wm)(p,{loading:m.value,type:"primary",onClick:t[2]||(t[2]=e=>g())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,hu)])),_:1},8,["loading"])])),_:1})])),_:1})])])}}};const bu=(0,k.Z)(yu,[["__scopeId","data-v-0c0a4a34"]]);var xu=bu;const Cu=e=>((0,r.dD)("data-v-2d53a7a2"),e=e(),(0,r.Cn)(),e),$u=["id"],Wu={class:"qp-forum-message-inner"},qu={class:"qp-forum-header"},ku={class:"qp-forum-header-profile"},zu={class:"qp-forum-header-profile-banner"},Su=Cu((()=>(0,r._)("div",{class:"image-slot"},null,-1))),Au={class:"qp-forum-header-profile-avatar"},ju=["textContent"],Tu={class:"qp-forum-header-profile-infos"},Du={class:"qp-forum-header-profile-name"},Hu=["textContent"],Vu={class:"qp-forum-header-profile-date"},Uu=["textContent"],Ou={key:1,class:"qp-forum-message-text"},Eu={class:"qp-forum-message-text-inner"},Fu=["innerHTML"],Mu={class:"qp-forum-message-footer"},Nu={key:0};var Ru={__name:"qpMessage",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}},message:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.yj)(),i=(0,qe.tv)(),u=(0,s.oR)(),d=(0,r.Fl)((()=>u.getters.rat)),p=(0,r.Fl)((()=>u.getters.player)),c=(0,n.iH)(!1),m=()=>{c.value=!0,zr.T.confirm(l("Areyousureyouwanttodeletethismessage"),l("DeleteMessage"),{confirmButtonText:l("Delete"),cancelButtonText:l("Cancel"),type:"warning"}).then((()=>{w()})).catch((()=>{c.value=!1}))},w=async()=>{c.value=!0;try{let e=new FormData;e.append("id",t.message.id);let r=await fetch(`${_d}/worlds/messages/${t.message.id}/delete/`,{method:"DELETE",headers:{Authorization:d.value},body:e});204===r.status?(i.go(a.fullPath),(0,mu.bM)({title:l("Success"),message:l("MessageDeletedSuccessfully"),type:"success"})):((0,mu.bM)({title:l("Error"),message:l("AnErrorOccurred"),type:"error"}),c.value=!1)}catch(e){(0,mu.bM)({title:l("Error"),message:`${l("AnErrorOccurred")} : ${e}`,type:"error"}),c.value=!1}},f=(0,n.iH)(!1),v=()=>{f.value=!0},g=()=>{f.value=!1};return(e,l)=>{const a=(0,r.up)("el-image"),s=(0,r.up)("el-avatar"),i=(0,r.up)("el-icon"),u=(0,r.up)("el-button"),w=(0,r.up)("el-tooltip"),_=(0,r.Q2)("loading");return t.message?((0,r.wg)(),(0,r.iD)("article",{key:0,id:`m${t.message.id}`,class:"qp-forum-message"},[(0,r.wy)(((0,r.wg)(),(0,r.iD)("div",Wu,[(0,r._)("header",qu,[(0,r._)("div",ku,[(0,r._)("div",zu,[t.message.author.avatar?((0,r.wg)(),(0,r.j4)(a,{key:0,src:t.message.author.avatar,fit:"cover"},{error:(0,r.w5)((()=>[Su])),_:1},8,["src"])):(0,r.kq)("",!0)]),(0,r._)("div",Au,[(0,r.Wm)(s,{src:t.message.author.avatar},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(t.message.author.initials)},null,8,ju)])),_:1},8,["src"])]),(0,r._)("div",Tu,[(0,r._)("div",Du,[(0,r._)("span",{textContent:(0,o.zw)(t.message.author.name)},null,8,Hu)]),(0,r._)("div",Vu,[(0,r._)("span",{textContent:(0,o.zw)((0,n.SU)(Dn)(t.message.created_at))},null,8,Uu)])])])]),f.value?((0,r.wg)(),(0,r.j4)(xu,{key:0,message:t.message,onClose:l[0]||(l[0]=e=>g())},null,8,["message"])):((0,r.wg)(),(0,r.iD)("div",Ou,[(0,r._)("div",Eu,[(0,r._)("div",{innerHTML:(0,n.SU)(wu)(t.message.text)},null,8,Fu)])])),(0,r._)("footer",Mu,[(0,n.SU)(d)&&(0,n.SU)(p)?.id==t.message.author?.player?.id&&!f.value?((0,r.wg)(),(0,r.iD)("div",Nu,[(0,r.Wm)(w,{content:e.$t("EditMessage"),placement:"bottom-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{size:"small",onClick:l[1]||(l[1]=e=>v())},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"mdi mdi-pencil"})])),_:1})])),_:1},8,["content"]),(0,r.Wm)(w,{content:e.$t("DeleteMessage"),placement:"bottom-end"},{default:(0,r.w5)((()=>[(0,r.Wm)(u,{size:"small",onClick:l[2]||(l[2]=e=>m())},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{class:"mdi mdi-close"})])),_:1})])),_:1},8,["content"])])):(0,r.kq)("",!0)])])),[[_,c.value]])],8,$u)):(0,r.kq)("",!0)}}};const Lu=(0,k.Z)(Ru,[["__scopeId","data-v-2d53a7a2"]]);var Pu=Lu;const Zu={class:"qp-forum-writing-newchapter"},Iu={class:"qp-forum-writing-newchapter-form"},Yu=["innerHTML"],Bu=["textContent"],Gu=["textContent"];var Ju={__name:"qpWritingReply",props:{world:{type:Object,default:()=>{}},chapter:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.app)),d=(0,r.Fl)((()=>i.getters.rat)),p=(0,r.Fl)((()=>i.getters.heros));(0,r.bv)((()=>{m()}));const c=(0,n.iH)([]),m=()=>{c.value=[];for(const e of p.value)e.world.id==t.world.id&&c.value.push(e)},w=(0,n.iH)(null),f=(0,n.iH)(!1),v=(0,n.iH)(),g=(0,n.qj)({character:null,text:""}),_=(0,n.qj)({character:[{required:!0,message:l("Thisfieldisrequired"),trigger:"change"}],text:[{required:!0,message:l("Thisfieldisrequired"),trigger:"blur"}]}),h=async()=>{w.value=null,f.value=!0,await v.value.validate(((e,t)=>{if(e)y();else{for(let[e,a]of Object.entries(t)){let t=l(`error${e}`);for(let e of a)w.value=`${t} : ${e.message}`}f.value=!1}}))},y=async()=>{w.value=null,f.value=!0;try{let e=new FormData;e.append("chapter",t.chapter.id),e.append("author",g.character),e.append("text",g.text);let r=await fetch(`${_d}/worlds/chapters/${t.chapter.id}/messages/create/`,{method:"POST",headers:{Authorization:d.value},body:e}),o=await r.json();if(201===r.status)a.push(o.route);else for(let[t,a]of Object.entries(o)){let e=l(`error${t}`);for(let t of a)w.value=`${e} : ${t}`}}catch{w.value=l("AnErrorOccurred")}f.value=!1};return(e,t)=>{const l=(0,r.up)("el-option"),a=(0,r.up)("el-select"),s=(0,r.up)("el-form-item"),i=(0,r.up)("el-input"),d=(0,r.up)("el-form"),p=(0,r.up)("el-col"),m=(0,r.up)("el-alert"),y=(0,r.up)("el-button"),b=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("section",Zu,[(0,r.Wm)(Tn,{title:e.$t("Writing"),description:e.$t("ToReply")},null,8,["title","description"]),(0,r._)("section",Iu,[(0,r.Wm)(gt,null,{default:(0,r.w5)((()=>[(0,r.Wm)(b,null,{default:(0,r.w5)((()=>[(0,r.Wm)(p,{style:(0,o.j5)((0,n.SU)(u).win.w<1200?"":"padding-right:180px")},{default:(0,r.w5)((()=>[(0,r.Wm)(d,{ref_key:"formNewReplyRef",ref:v,model:g,"label-position":(0,n.SU)(u).win.w<1200?"top":"right",rules:_,"label-width":"180px","status-icon":""},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{label:e.$t("Character"),prop:"character"},{default:(0,r.w5)((()=>[(0,r.Wm)(a,{modelValue:g.character,"onUpdate:modelValue":t[0]||(t[0]=e=>g.character=e),placeholder:e.$t("ChooseACharacter")},{default:(0,r.w5)((()=>[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(c.value,((e,t)=>((0,r.wg)(),(0,r.j4)(l,{key:`character-${t}`,label:e.name,value:e.id},null,8,["label","value"])))),128))])),_:1},8,["modelValue","placeholder"])])),_:1},8,["label"]),(0,r.Wm)(s,{label:e.$t("Text"),prop:"text"},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{modelValue:g.text,"onUpdate:modelValue":t[1]||(t[1]=e=>g.text=e),type:"textarea",rows:12,placeholder:e.$t("YourReply")},null,8,["modelValue","placeholder"])])),_:1},8,["label"])])),_:1},8,["model","label-position","rules"])])),_:1},8,["style"]),w.value?((0,r.wg)(),(0,r.j4)(p,{key:0},{default:(0,r.w5)((()=>[(0,r.Wm)(m,{type:"error","show-icon":""},{default:(0,r.w5)((()=>[(0,r._)("div",{innerHTML:w.value},null,8,Yu)])),_:1})])),_:1})):(0,r.kq)("",!0),(0,r.Wm)(p,null,{default:(0,r.w5)((()=>[(0,r.Wm)(y,{disabled:f.value,onClick:t[2]||(t[2]=t=>e.$emit("close"))},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Cancel"))},null,8,Bu)])),_:1},8,["disabled"]),(0,r.Wm)(y,{loading:f.value,type:"primary",onClick:t[3]||(t[3]=e=>h())},{default:(0,r.w5)((()=>[(0,r._)("span",{textContent:(0,o.zw)(e.$t("Send"))},null,8,Gu)])),_:1},8,["loading"])])),_:1})])),_:1})])),_:1})])])}}};const Ku=(0,k.Z)(Ju,[["__scopeId","data-v-77c5f4d2"]]);var Qu=Ku;const Xu={class:"qp-vue qp-forum qp-singleton-zone"},ed={key:0},td={class:"qp-container"},ld={key:0,class:"qp-forum-chapters"},ad=["id"],rd={class:"qp-forum-chapter-inner"},od={key:0,class:"qp-forum-messages"},nd={key:1,id:"reply",class:"qp-forum-writing"};var sd={__name:"ChapterView",props:{world:{type:Object,default:()=>{}}},setup(e){const t=e,{t:l}=Le.global,a=(0,qe.yj)(),o=(0,qe.tv)(),i=(0,s.oR)(),u=(0,r.Fl)((()=>i.getters.rat)),d=(0,n.iH)(!0),p=(0,n.iH)(null),c=(0,r.Fl)((()=>{let e=[{name:m.value.forum.name,go:`/w/${a.params.slug}/forum`}];return m.value&&e.push({name:m.value.zone.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}`}),m.value&&e.push({name:m.value.territory.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}`}),m.value?.sector&&e.push({name:m.value.sector.name,go:`/w/${a.params.slug}/forum/z${a.params.zone_pk}-${a.params.zone_slug}/t${a.params.territory_pk}-${a.params.territory_slug}/s${a.params.sector_pk}-${a.params.sector_slug}`}),e}));(0,r.bv)((()=>{f()}));const m=(0,n.iH)(null),w=(0,n.iH)(null),f=async()=>{d.value=!0,p.value=null;try{let e=await fetch(`${_d}/worlds/chapters/${a.params.chapter_pk}/`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;m.value=t,v()}catch(e){403===e.status?p.value=l("YouDoesntHaveAccessToThisChapter"):404===e.status?p.value=l("ThisChapterDoesntExistAnymore"):p.value=l("AnErrorOccurred")}d.value=!1},v=async()=>{d.value=!0,p.value=null;try{let e=await fetch(`${_d}/worlds/chapters/${a.params.chapter_pk}/messages/?page=${_.value}`,{method:"GET",headers:{Authorization:u.value}}),t=await e.json();if(200!==e.status)throw e;w.value=t,g()}catch(e){403===e.status?p.value=l("YouDoesntHaveAccessToThisChapter"):404===e.status?p.value=l("ThisPageDoesntExistAnymore"):p.value=l("AnErrorOccurred")}d.value=!1},g=()=>{setTimeout((()=>{if(a.hash&&(a.hash.startsWith("#c")||a.hash.startsWith("#m"))){const e=document.getElementById(a.hash.replace("#",""));e&&e.scrollIntoView({behavior:"smooth"})}}),200)},_=(0,r.Fl)((()=>{let e=1;return"page"in a.query&&Number(a.query.page)>0&&(e=Number(a.query.page)),e})),h=e=>{let t="WorldForumTerritoryChapter",l={name:t,params:{slug:a.params.slug,zone_pk:a.params.zone_pk,zone_slug:a.params.zone_slug,territory_pk:a.params.territory_pk,territory_slug:a.params.territory_slug,chapter_pk:a.params.chapter_pk,chapter_slug:a.params.chapter_slug},query:{page:e}};m.value?.sector&&(l.name="WorldForumSectorChapter",l.params["sector_pk"]=a.params.sector_pk,l.params["sector_slug"]=a.params.sector_slug),o.push(l)},y=(0,n.iH)(!1),b=()=>{y.value=!0,setTimeout((()=>{const e=document.getElementById("reply");e?.scrollIntoView()}),100)},x=()=>{y.value=!1};return(e,l)=>{const a=(0,r.up)("el-pagination"),o=(0,r.up)("el-icon"),s=(0,r.up)("el-button"),i=(0,r.up)("el-tooltip"),u=(0,r.up)("el-col"),f=(0,r.up)("el-row");return(0,r.wg)(),(0,r.iD)("div",Xu,[d.value||p.value||!m.value?((0,r.wg)(),(0,r.j4)(ln,{key:1,isloading:d.value,hasError:p.value},null,8,["isloading","hasError"])):((0,r.wg)(),(0,r.iD)("div",ed,[(0,r._)("div",td,[m.value?((0,r.wg)(),(0,r.iD)("section",ld,[(0,r._)("article",{id:`c${m.value.id}`,class:"qp-forum-chapter"},[(0,r._)("div",rd,[(0,r.Wm)(Tn,{"show-btn-reply":"",title:m.value.title,description:m.value.description,crumbs:(0,n.SU)(c),onOpenNewReply:l[0]||(l[0]=e=>b())},null,8,["title","description","crumbs"]),w.value?((0,r.wg)(),(0,r.iD)("section",od,[((0,r.wg)(!0),(0,r.iD)(r.HY,null,(0,r.Ko)(w.value.results,((e,l)=>((0,r.wg)(),(0,r.j4)(Pu,{key:`message-${l}`,world:t.world,chapter:m.value,message:e},null,8,["world","chapter","message"])))),128))])):(0,r.kq)("",!0),(0,r.Wm)(cu,{"show-btn-reply":"",crumbs:(0,n.SU)(c),onOpenNewReply:l[1]||(l[1]=e=>b())},null,8,["crumbs"]),w.value?.results.length?((0,r.wg)(),(0,r.j4)(a,{key:1,background:"","hide-on-single-page":"",layout:"prev, pager, next",total:w.value.count,"page-size":w.value.size,"current-page":(0,n.SU)(_),"onUpdate:currentPage":h},null,8,["total","page-size","current-page"])):(0,r.kq)("",!0)])],8,ad),(0,r._)("footer",null,[(0,r.Wm)(f,null,{default:(0,r.w5)((()=>[(0,r.Wm)(u,{span:24,md:12},{default:(0,r.w5)((()=>[(0,r.Wm)(i,{content:e.$t("DeleteChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"mdi mdi-delete-forever"})])),_:1})])),_:1},8,["content"]),m.value.is_locked?((0,r.wg)(),(0,r.j4)(i,{key:0,content:e.$t("UnlockChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"mdi mdi-lock-open"})])),_:1})])),_:1},8,["content"])):((0,r.wg)(),(0,r.j4)(i,{key:1,content:e.$t("LockChapter"),placement:"bottom-start"},{default:(0,r.w5)((()=>[(0,r.Wm)(s,{size:"small",disabled:""},{default:(0,r.w5)((()=>[(0,r.Wm)(o,{class:"mdi mdi-lock"})])),_:1})])),_:1},8,["content"]))])),_:1}),(0,r.Wm)(u,{span:24,md:12})])),_:1})])])):(0,r.kq)("",!0),y.value?((0,r.wg)(),(0,r.iD)("section",nd,[(0,r.Wm)(Qu,{world:t.world,chapter:m.value,onClose:l[2]||(l[2]=e=>x())},null,8,["world","chapter"])])):(0,r.kq)("",!0)])]))])}}};const id=sd;var ud=id;const dd=[{path:"/w/:slug",name:"World",component:wn,children:[{path:"forum",name:"WorldForum",component:cs},{path:"forum/z:zone_pk(\\d+)-:zone_slug",name:"WorldForumZone",component:xs},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug",name:"WorldForumTerritory",component:Ii},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumTerritoryChapter",component:ud},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug",name:"WorldForumSector",component:ou},{path:"forum/z:zone_pk(\\d+)-:zone_slug/t:territory_pk(\\d+)-:territory_slug/s:sector_pk(\\d+)-:sector_slug/c:chapter_pk(\\d+)-:chapter_slug",name:"WorldForumSectorChapter",component:ud}]}],pd=[{path:"/",name:"Home",component:ct},{path:"/:catchAll(.*)",name:"Error",component:Ct}];pd.push(...Xt),pd.push(...Bo),pd.push(...dd);const cd=(0,qe.p7)({history:(0,qe.PO)("/"),routes:pd});cd.beforeEach((async(e,t,l)=>{"slug"in e.params||document.getElementById("qp-custom-style")&&document.getElementById("qp-custom-style").remove(),st.dispatch("getPlayer"),await st.restored,l()}));var md=cd,wd=l(5605),fd=l(4242);l(4415);const vd=(0,a.ri)(Oe),gd={name:"Cynorrhodonnismes",shortname:"Cynorrs"},_d="https://mcpronovost.pythonanywhere.com/api";vd.use(Le),vd.use(st),vd.use(md),vd.use(wd.Z,{locale:fd.Z}),vd.mount("#app")},4465:function(e,t,l){e.exports=l.p+"img/logo-square-trans.png"}},t={};function l(a){var r=t[a];if(void 0!==r)return r.exports;var o=t[a]={exports:{}};return e[a].call(o.exports,o,o.exports,l),o.exports}l.m=e,function(){var e=[];l.O=function(t,a,r,o){if(!a){var n=1/0;for(d=0;d<e.length;d++){a=e[d][0],r=e[d][1],o=e[d][2];for(var s=!0,i=0;i<a.length;i++)(!1&o||n>=o)&&Object.keys(l.O).every((function(e){return l.O[e](a[i])}))?a.splice(i--,1):(s=!1,o<n&&(n=o));if(s){e.splice(d--,1);var u=r();void 0!==u&&(t=u)}}return t}o=o||0;for(var d=e.length;d>0&&e[d-1][2]>o;d--)e[d]=e[d-1];e[d]=[a,r,o]}}(),function(){l.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return l.d(t,{a:t}),t}}(),function(){l.d=function(e,t){for(var a in t)l.o(t,a)&&!l.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})}}(),function(){l.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){l.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){l.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){l.p="/"}(),function(){var e={143:0};l.O.j=function(t){return 0===e[t]};var t=function(t,a){var r,o,n=a[0],s=a[1],i=a[2],u=0;if(n.some((function(t){return 0!==e[t]}))){for(r in s)l.o(s,r)&&(l.m[r]=s[r]);if(i)var d=i(l)}for(t&&t(a);u<n.length;u++)o=n[u],l.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return l.O(d)},a=self["webpackChunk_mcpronovost_cynorrs"]=self["webpackChunk_mcpronovost_cynorrs"]||[];a.forEach(t.bind(null,0)),a.push=t.bind(null,a.push.bind(a))}();var a=l.O(void 0,[998],(function(){return l(5622)}));a=l.O(a)})();